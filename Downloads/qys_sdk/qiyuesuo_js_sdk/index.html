<!DOCTYPE html><html lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=black><meta name=baidu-site-verification content=MHGvTSMXM0><meta name=author content=契约锁><meta name=description content=契约锁-守护我们的契约精神！告别纸质合同，契约锁为您永久保管好您在契约锁上签约的电子合同><meta content="telephone=no" name=format-detection><title>契约锁电子合同云平台</title><script src=https://res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/vconsole/3.0.0/vconsole.min.js></script><link href=css/chunk-vendors.d9571077.css rel=preload as=style><link href=css/index.5637bcb7.css rel=preload as=style><link href=js/chunk-vendors.4a4ab4ff.js rel=preload as=script><link href=js/index.d40aac95.js rel=preload as=script><link href=css/chunk-vendors.d9571077.css rel=stylesheet><link href=css/index.5637bcb7.css rel=stylesheet></head><body style="margin: 0"><div id=app></div><script>// var vConsole = new VConsole();
            var qysSdkTimeoutTime = 1000;
            function GetUrlParam(paraName) {
        　　　　var url = document.location.toString();
        　　　　var arrObj = url.split("?");
        　　　　if (arrObj.length > 1) {
        　　　　　　var arrPara = arrObj[1].split("&");
        　　　　　　var arr;
        　　　　　　for (var i = 0; i < arrPara.length; i++) {
        　　　　　　　　arr = arrPara[i].split("=");
        　　　　　　　　if (arr != null && arr[0] == paraName) {
        　　　　　　　　　　return arr[1];
        　　　　　　　　}
        　　　　　　}
        　　　　　　return "";
        　　　　}
        　　　　else {
        　　　　　　return "";
        　　　　}
        　　}
            var contractId = GetUrlParam('id');
            var contact = GetUrlParam('contact');
            var domain = window.location.host
            setTimeout(() => {
                // console.log('[test] ' + qysSdkTimeoutTime + 's timeout');
                var instance = new qysSdk(domain + '/order/sys/qiyuesuo/proxy', {
                    query: { a: 1, token: 'h3k6uXTB9G' },
                });

                var promise = instance.personalSign(contractId, contact, {
                    signSuccessCb: function() {
                        alert('签署成功');
                        wx.miniProgram.navigateBack({})
                    },
                    authFailCb: function() {
                        alert('认证退出');
                        wx.miniProgram.navigateBack({})
                    },
                });

                // var promise = instance.personalAuth(
                //     {
                //         mode: 'BANK', // DEFAULT,FACE,BANK
                //         contact: '10000000011',
                //         manual: false,
                //         bankMobile: '13295606008',
                //         modifyFields: ['USERNAME', 'IDCARDNO'],
                //     },
                //     {
                //         authSuccessCb: function(userInfo) {
                //             console.log('认证成功 :', userInfo);
                //             return userInfo;
                //         },
                //         authFailCb: function() {
                //             console.log('认证退出');
                //         },
                //     }
                // );

                promise.then(element => {
                    element.style.border = '1px solid red';
                    element.style.width = '100%';
                    element.style.height = '100%';
                    element.style.position = 'fixed';

                    document.body.append(element);
                });
            }, qysSdkTimeoutTime);</script><script src=js/chunk-vendors.4a4ab4ff.js></script><script src=js/index.d40aac95.js></script></body></html>
(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],p=0,f=[];p<o.length;p++)r=o[p],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&f.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(a=!1)}a&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={index:0},s=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("1d50")},"0024":function(t,e,n){},"047f":function(t,e,n){},"082e":function(t,e){!function(t){var e,n='<svg><symbol id="icon-alipay" viewBox="0 0 1024 1024"><path d="M308.3 546.1c73.4-8 141.8 20.8 223.2 60.7-59 73.5-130.7 119.8-202.5 119.8-124.3 0-161-97.4-98.8-151.7 20.7-17.7 57.4-27.2 78.1-28.8z m-66.9-432.8h541.9c70.1 0 127.5 57.5 127.5 127.8v413.6s-25.5-3.2-140.3-41.5c-31.9-11.2-74.9-27.2-122.7-44.7 28.7-49.5 51-107 66.9-167.7H556.9v-55.9h192.8v-32H557v-94.3h-78.1c-14.3 0-14.3 14.3-14.3 14.3v81.5H270.1v32h194.5v54.3H303.5v32h312.4c-11.2 40-27 76.6-44.7 110.1-100.4-33.5-208.8-60.7-277.4-43.1-43 11.2-71.7 30.3-87.7 49.5-74.9 91-20.7 229.9 137.1 229.9 94.1 0 184.8-52.7 255-138.9 105.2 51.1 312.4 137.3 312.4 137.3v4.8c0 70.3-57.4 127.8-127.5 127.8H241.4c-70.1 0-127.5-57.5-127.5-127.8V241c-0.1-70.2 57.3-127.7 127.5-127.7z"  ></path></symbol><symbol id="icon-mail-change-o-" viewBox="0 0 1024 1024"><path d="M613.1 747.8h316.47a32.06 32.06 0 0 1 25.3 51.8l-68.5 87.1a16.32 16.32 0 0 1-12.6 6.1h-72.6a8 8 0 0 1-6.3-12.9l47.2-60.1h-229a8 8 0 0 1-8-8v-56a8 8 0 0 1 8.03-8z m340.47-64H637.1a32.06 32.06 0 0 1-25.3-51.8l68.5-87.1a16.32 16.32 0 0 1 12.6-6.1h72.6a8 8 0 0 1 6.3 12.9l-47.2 60.1h229a8 8 0 0 1 8 8v56a8 8 0 0 1-8.03 8zM844 204.46H182l9.43 7.34L513 461.8l321.6-250z m45.58 45.66l-0.61 0.48L547.2 516.1a56 56 0 0 1-68.7 0L136.9 250.5l-4.7-3.66v532.29h369a8 8 0 0 1 8 8v56a8 8 0 0 1-8 8h-409a32 32 0 0 1-32-32V164.46a32 32 0 0 1 32-32h837.41a32 32 0 0 1 32 32v317.93a8 8 0 0 1-8 8h-56a8 8 0 0 1-8-8z"  ></path></symbol><symbol id="icon-iphone-change-o-" viewBox="0 0 1024 1024"><path d="M571.8 327.25h316.47a32.06 32.06 0 0 1 25.3 51.8l-68.5 87.1a16.32 16.32 0 0 1-12.6 6.1h-72.6a8 8 0 0 1-6.3-12.9l47.2-60.1h-229a8 8 0 0 1-8-8v-56a8 8 0 0 1 8.03-8z m340.47-64H595.8a32.06 32.06 0 0 1-25.3-51.8l68.5-87.1a16.32 16.32 0 0 1 12.6-6.1h72.6a8 8 0 0 1 6.3 12.9l-47.2 60.1h229a8 8 0 0 1 8 8v56a8 8 0 0 1-8.03 8z m-741.33 68.58c20.06 120.39 84.62 240.81 182.31 338.4 97.89 97.8 218.44 162.42 338.3 182.16l0.31 0.05h0.31a53 53 0 0 0 9.2 0.76 61.4 61.4 0 0 0 43.1-17.79l0.11-0.1 106.3-106.3a10.76 10.76 0 0 0 3.29-7.91 10.93 10.93 0 0 0-3.29-7.9L736.22 598.8a11 11 0 0 0-15.75 0L602.25 717 558 696.68a468.55 468.55 0 0 1-231.17-231.59l-20-44.15 118.05-118.08a10.76 10.76 0 0 0 3.29-7.91 10.87 10.87 0 0 0-3.29-7.8l-114.6-114.6a11 11 0 0 0-15.71 0L188.16 278.86a61.59 61.59 0 0 0-17.22 52.97z m-32.37-102.38l106.5-106.4a81 81 0 0 1 114.7 0l114.6 114.6a81 81 0 0 1 0 114.7l-83.8 83.8a398.6 398.6 0 0 0 196.6 196.9l83.8-83.8a81 81 0 0 1 114.7 0l114.7 114.5a81.12 81.12 0 0 1 0 114.8l-106.3 106.3a131.43 131.43 0 0 1-92.7 38.4 122.94 122.94 0 0 1-21.2-1.8c-134.8-22.2-268.5-93.9-376.4-201.7s-179.4-241.3-201.9-376.5a131.61 131.61 0 0 1 36.7-113.8z"  ></path></symbol><symbol id="icon-export" viewBox="0 0 1024 1024"><path d="M888.3 757.4h-53.8c-4.2 0-7.7 3.5-7.7 7.7v61.8H197.1V197.1h629.8v61.8c0 4.2 3.5 7.7 7.7 7.7h53.8c4.2 0 7.7-3.4 7.7-7.7V158.7c0-17-13.7-30.7-30.7-30.7H158.7c-17 0-30.7 13.7-30.7 30.7v706.6c0 17 13.7 30.7 30.7 30.7h706.6c17 0 30.7-13.7 30.7-30.7V765.1c0-4.3-3.5-7.7-7.7-7.7z"  ></path><path d="M906.9 505.7L765 393.7c-5.3-4.2-13-0.4-13 6.3v76H438c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112c4.1-3.2 4.1-9.4 0-12.6z"  ></path></symbol><symbol id="icon-time-circle-fill" viewBox="0 0 1024 1024"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m176.5 585.7l-28.6 39c-2.6 3.6-7.6 4.3-11.2 1.7L483.3 569.8c-2.1-1.5-3.3-3.9-3.3-6.5V288c0-4.4 3.6-8 8-8h48.1c4.4 0 8 3.6 8 8v247.5l142.6 103.1c3.6 2.5 4.4 7.5 1.8 11.1z"  ></path></symbol><symbol id="icon-check-square-selected" viewBox="0 0 1024 1024"><path d="M56.88888889 120.60444445c0-35.15733333 28.55822222-63.71555555 63.71555556-63.71555556h782.56355555c35.15733333 0 63.71555555 28.55822222 63.71555555 63.71555556v782.56355555c0 35.15733333-28.55822222 63.71555555-63.71555555 63.71555555H120.60444445c-35.15733333 0-63.71555555-28.55822222-63.71555556-63.71555555V120.60444445z" fill="#2489F2" ></path><path d="M443.50577778 611.55555555l-108.43022223-137.44355555c-7.96444445-10.12622222-20.13866667-16.04266667-32.99555555-16.04266667h-44.37333333c-22.30044445 0-34.816 25.71377778-21.04888889 43.23555556l173.85244444 220.27377778c16.83911111 21.27644445 49.03822222 21.27644445 65.87733333 0.11377778L786.54577778 328.81777778c13.99466667-17.52177778 1.36533333-43.23555555-20.93511111-43.23555556h-44.37333334c-12.85688889 0-25.03111111 5.91644445-32.99555555 16.04266667L443.50577778 611.55555555z" fill="#FFFFFF" ></path></symbol><symbol id="icon-check-square-normal" viewBox="0 0 1024 1024"><path d="M91.02222222 91.02222222h841.95555556v841.95555556H91.02222222z" fill="#FFFFFF" ></path><path d="M138.92266667 138.92266667v746.15466666h746.15466666V138.92266667H138.92266667z m-81.92-18.20444445c0-35.15733333 28.55822222-63.71555555 63.71555555-63.71555555h782.56355556c35.15733333 0 63.71555555 28.55822222 63.71555555 63.71555555v782.56355556c0 35.15733333-28.55822222 63.71555555-63.71555555 63.71555555H120.71822222c-35.15733333 0-63.71555555-28.55822222-63.71555555-63.71555555V120.71822222z" fill="#E5E7EA" ></path></symbol><symbol id="icon-warning-circle1" viewBox="0 0 1024 1024"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"  ></path><path d="M512 688m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z"  ></path><path d="M488 576h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"  ></path></symbol><symbol id="icon-zhifubao" viewBox="0 0 1024 1024"><path d="M636.93 593.92c34.73-40 63.89-191 63.89-191H527v-60h214.58v-34H524.37v-104h-99.7v101H217.38v38.5h207.29v58.5H255.93v38s332.27 1 338.27 1-48.55 121-48.55 121-253.49-105.65-374.18-29c-81.17 51.56-72.27 140-72.27 140 28.5 186.57 259.86 154.57 328.44 123.57C493 774.05 581.2 671.92 581.2 671.92l331 149v-141zM279.72 762.49c-132.59 1-142.91-94-142.91-94 1.87-67 51.5-107 152.29-102s214.7 66 214.7 66c-9.5 15-91.49 129-224.08 130z" fill="" ></path></symbol><symbol id="icon-warning-circle-fill" viewBox="0 0 1024 1024"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296z m32 440c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z"  ></path></symbol><symbol id="icon-photorecognition" viewBox="0 0 1024 1024"><path d="M192 267h640c17.7 0 32 14.3 32 32v426c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V299c0-17.7 14.3-32 32-32z" fill="#EDEEF1" ></path><path d="M611.6 376.5H754c3.5 0 6.4 2.9 6.4 6.4v38.2c0 3.5-2.9 6.4-6.4 6.4H611.6c-3.5 0-6.4-2.9-6.4-6.4v-38.2c0.1-3.5 2.9-6.4 6.4-6.4z m0 114.5H754c3.5 0 6.4 2.9 6.4 6.4v38.2c0 3.5-2.9 6.4-6.4 6.4H611.6c-3.5 0-6.4-2.9-6.4-6.4v-38.2c0.1-3.5 2.9-6.4 6.4-6.4z m0 114.5H754c3.5 0 6.4 2.9 6.4 6.4V650c0 3.5-2.9 6.4-6.4 6.4H611.6c-3.5 0-6.4-2.9-6.4-6.4v-38.2c0.1-3.4 2.9-6.3 6.4-6.3z m-244-47.8c-0.3-9.9-1.2-24.6-1.2-24.6s-24.7-10.3-32.1-30.6c-15.3-6-13.3-9.9-14.7-17.6 0 0-4.6-31.6 5.7-30.8 0 0 6.7 0 5.1-7.2-0.6-12.1-0.6-35.5 0.3-43.5 0.8-8 9.5-26.7 24.2-33 14.6-6.3 41.5-12.9 53.1-10.9 11.5 2.1 17.5 17.1 23.2 17.9 5.7 0.8 4.1-4.4 18.9-0.3 14.9 4.1 14.9 26.2 15.7 34.3 0.8 8.1 2.3 29.9 0.7 37.1-1.6 7.2 3.5 6.4 3.5 6.4 12.3 0 8.4 30.9 8.4 30.9-1.9 8.2-7.1 9.1-18.5 16.3-7.3 20.4-30.5 35.3-30.5 35.3s0 11-0.2 20.5 20 22.4 60.5 28.3c30.1 4.4 47.3 28.1 51.4 71.3 0.3 3.5-2.2 6.6-5.7 6.9h-274c-3.5 0-6.4-2.9-6.4-6.4-0.2-43.6 14.9-67.5 45.2-72 47.5-6.9 67.8-18.4 67.4-28.3z" fill="#88BBF1" ></path><path d="M942.6 756h9.4c4.4 0 8 3.6 8 8v92c0 4.4-3.6 8-8 8h-92c-4.4 0-8-3.6-8-8v-9.4c0-4.4 3.6-8 8-8h74.6V764c0-4.4 3.6-8 8-8z m0-488c-4.4 0-8-3.6-8-8v-74.6H860c-4.4 0-8-3.6-8-8V168c0-4.4 3.6-8 8-8h92c4.4 0 8 3.6 8 8v92c0 4.4-3.6 8-8 8h-9.4zM81.4 756c4.4 0 8 3.6 8 8v74.6H164c4.4 0 8 3.6 8 8v9.4c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-92c0-4.4 3.6-8 8-8h9.4z m0-488H72c-4.4 0-8-3.6-8-8v-92c0-4.4 3.6-8 8-8h92c4.4 0 8 3.6 8 8v9.4c0 4.4-3.6 8-8 8H89.4V260c0 4.4-3.6 8-8 8z" fill="#BDDBFB" ></path></symbol><symbol id="icon-camera-fill" viewBox="0 0 1024 1024"><path d="M864 260H728l-32.4-90.8C691 156.5 679 148 665.4 148H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 260H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V340c0-44.2-35.8-80-80-80zM512 716c-88.4 0-160-71.6-160-160s71.6-160 160-160 160 71.6 160 160-71.6 160-160 160z"  ></path><path d="M512 556m-96 0a96 96 0 1 0 192 0 96 96 0 1 0-192 0Z"  ></path></symbol><symbol id="icon-safetycertificate" viewBox="0 0 1024 1024"><path d="M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 0.7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c0.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5 214 654.3V226.7l298-101.6 298 101.6v427.6z"  ></path><path d="M404.2 453.3c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174c6.4 8.8 19.6 8.8 26 0l212.6-292.7c3.8-5.3 0-12.7-6.5-12.7h-55.2c-5.1 0-10 2.5-13 6.6L468.9 542.4l-64.7-89.1z"  ></path></symbol><symbol id="icon-face-o" viewBox="0 0 1024 1024"><path d="M383.9 617c14.3 57.5 66.2 100 128.1 100s113.8-42.5 128.1-100H383.9zM708 569v16c0 108.3-87.7 196-196 196s-196-87.7-196-196v-16c0-8.8 7.2-16 16-16h360c8.8 0 16 7.2 16 16zM596 412.8c0-32.1 26-58.2 58.2-58.2 32.1 0 58.2 26 58.2 58.2s-26 58.2-58.2 58.2c-32.1-0.1-58.2-26.1-58.2-58.2z m-284.3 0c0-32.1 26-58.3 58.2-58.3 32.1 0 58.2 26 58.2 58.2v0.1c0 32.1-26 58.2-58.2 58.2-32.2-0.1-58.2-26.1-58.2-58.2zM512 149c-200.5 0-363 162.5-363 363s162.5 363 363 363 363-162.5 363-363-162.5-363-363-363z m0-72c240.2 0 435 194.8 435 435S752.2 947 512 947 77 752.2 77 512 271.8 77 512 77z"  ></path></symbol><symbol id="icon-light" viewBox="0 0 1024 1024"><path d="M376.3 896h272c4.4 0 8 3.6 8 8v48c0 4.4-3.6 8-8 8h-272c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8z m81.3-826.7c142.7-26.4 287.6 47.2 348.2 174 59.4 124.3 20.3 274.4-94.4 356.6-18.2 13.1-26.9 25.7-25.7 47.8 1.3 22.6 1.6 78.6 0.8 168-0.2 17.6-14.4 31.7-32 31.7H370h-0.1c-17.7-0.1-31.9-14.5-31.9-32.1 0.4-95.1 0-154.7-1.1-179.1-0.5-10.4-7.5-23.5-16.2-30.1-107.5-81.6-150.9-186.4-118.5-311.9 32.1-124.5 121.1-200 255.4-224.9zM401.7 672h220.7c-0.2-8.8-0.4-15.6-0.7-20.5v-0.2c-1.3-22.6 3-43.5 13.8-62.5 9.3-16.4 21.9-29 38.5-40.9 89.4-64.1 120.1-180.5 74-277-48.3-101.1-165-159.8-278.8-138.7C357 153 289.4 212 264.1 310.1c-25.1 97.6 5.7 177 95.2 244.9 23.6 17.9 40.1 48.5 41.5 78.1 0.4 9 0.7 21.9 0.9 38.9z m0.4 64v47.4l220.6 0.1c0.1-17.4 0.2-33.3 0.2-47.5H402.1z"  ></path></symbol><symbol id="icon-phone-o" viewBox="0 0 1024 1024"><path d="M512 847c-27.6 0-50-22.4-50-50s22.4-50 50-50 50 22.4 50 50-22.4 50-50 50zM220 64h584c26.5 0 48 21.5 48 48v800c0 26.5-21.5 48-48 48H220c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48z m560 615.8H244V888h536V679.8z m0-72V136H244v471.8h536z"  ></path></symbol><symbol id="icon-talk" viewBox="0 0 1024 1024"><path d="M339.2 792l22.6 11.7c46 23.8 97.1 36.4 150.2 36.4 181.2 0 328-146.8 328-328S693.2 184 512 184 184 330.8 184 512v0.1c-0.1 56.2 14.3 111.4 41.8 160.3l14 24.9-6.9 27.8-23.3 93.4L339.2 792z m-165 107.3c-13.5 2.7-27.4-1.6-36.9-11.5s-13.2-24-9.9-37.4L163 707.7C129.5 648 111.9 580.5 112 512c0-220.9 179.1-400 400-400s400 179.1 400 400-179.1 400-400 400c-66.1 0-128.4-16-183.3-44.4l-154.5 31.7z"  ></path><path d="M330.5 523.5m-47.5 0a47.5 47.5 0 1 0 95 0 47.5 47.5 0 1 0-95 0Z"  ></path><path d="M512.5 523.5m-47.5 0a47.5 47.5 0 1 0 95 0 47.5 47.5 0 1 0-95 0Z"  ></path><path d="M694.5 523.5m-47.5 0a47.5 47.5 0 1 0 95 0 47.5 47.5 0 1 0-95 0Z"  ></path></symbol><symbol id="icon-phone" viewBox="0 0 1024 1024"><path d="M512 860c30.4 0 55-24.6 55-55s-24.6-55-55-55-55 24.6-55 55 24.6 55 55 55zM213 647h598v249c0 35.3-29 64-64.6 64H277.6c-35.7 0-64.6-28.7-64.6-64V647z m0-72V128c0-35.3 29-64 64.6-64h468.7C782 64 811 92.7 811 128v447H213z"  ></path></symbol><symbol id="icon-faceid" viewBox="0 0 1024 1024"><path d="M444.9 649.5c-4.4 0-8 3.6-8 8v34c0 4.4 3.6 8 8 8h134c4.4 0 8-3.6 8-8v-34c0-4.4-3.6-8-8-8h-134z m187-145.1c23.5 0 42.5-19 42.5-42.5s-19-42.5-42.5-42.5-42.5 19-42.5 42.5 19 42.5 42.5 42.5z m-273.1-42.5c0 23.5 19 42.5 42.5 42.5s42.5-19 42.5-42.5-19-42.5-42.5-42.5-42.5 19-42.5 42.5zM511.9 193C681 193 812 330.2 812 499.4S647.4 831 511.9 831 212 668.7 212 499.4 342.8 193 511.9 193zM862 740c0-4.4 3.6-8 8-8h34c4.4 0 8 3.6 8 8v140c0 17.7-14.3 32-32 32H740c-4.4 0-8-3.6-8-8v-34c0-4.4 3.6-8 8-8h122V740z m0-456V162H740c-4.4 0-8-3.6-8-8v-34c0-4.4 3.6-8 8-8h140c17.7 0 32 14.3 32 32v140c0 4.4-3.6 8-8 8h-34c-4.4 0-8-3.6-8-8zM162 740v122h122c4.4 0 8 3.6 8 8v34c0 4.4-3.6 8-8 8H144c-17.7 0-32-14.3-32-32V740c0-4.4 3.6-8 8-8h34c4.4 0 8 3.6 8 8z m0-456c0 4.4-3.6 8-8 8h-34c-4.4 0-8-3.6-8-8V144c0-17.7 14.3-32 32-32h140c4.4 0 8 3.6 8 8v34c0 4.4-3.6 8-8 8H162v122z"  ></path></symbol><symbol id="icon-creditcard-fill" viewBox="0 0 1024 1024"><path d="M928 160H96c-17.7 0-32 14.3-32 32v160h896V192c0-17.7-14.3-32-32-32zM64 832c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V440H64v392z m579-184c0-4.4 3.6-8 8-8h165c4.4 0 8 3.6 8 8v72c0 4.4-3.6 8-8 8H651c-4.4 0-8-3.6-8-8v-72z"  ></path></symbol><symbol id="icon-personal-fill-" viewBox="0 0 1024 1024"><path d="M512.33 599.27c186.25 0 403 74.52 403 207.18V901a16 16 0 0 1-16 16h-774a16 16 0 0 1-16-16v-94.5c0-132.71 216.76-207.23 403-207.23z m0.5-54.32c-119.79 0-216.94-97-217-216.84v-0.23C295.83 208.07 393 111 512.74 111h0.14c119.79 0 216.93 97.07 217 216.88v0.11c0 119.81-97 217-216.83 217h-0.17z"  ></path></symbol><symbol id="icon-reload" viewBox="0 0 1024 1024"><path d="M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-0.7-8.9-4.9-10.3l-56.7-19.5c-4.1-1.4-8.6 0.7-10.1 4.8-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4-31.6 31.6-68.4 56.4-109.3 73.8-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27-40.9-17.3-77.7-42.1-109.3-73.8-31.6-31.6-56.4-68.4-73.7-109.4-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27 40.9 17.3 77.7 42.1 109.3 73.8 9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47c-5.3 4.1-3.5 12.5 3 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l0.8-180.9c-0.1-6.6-7.8-10.3-13-6.2z"  ></path></symbol><symbol id="icon-check1" viewBox="0 0 1024 1024"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474c-6.1-7.7-15.3-12.2-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1 0.4-12.8-6.3-12.8z"  ></path></symbol><symbol id="icon-close1" viewBox="0 0 1024 1024"><path d="M563.8 512l262.5-312.9c4.4-5.2 0.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9c-4.4 5.2-0.7 13.1 6.1 13.1h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"  ></path></symbol><symbol id="icon-close-circle-fill" viewBox="0 0 1024 1024"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m165.4 618.2l-66-0.3L512 563.4l-99.3 118.4-66.1 0.3c-4.4 0-8-3.5-8-8 0-1.9 0.7-3.7 1.9-5.2l130.1-155L340.5 359c-1.2-1.5-1.9-3.3-1.9-5.2 0-4.4 3.6-8 8-8l66.1 0.3L512 464.6l99.3-118.4 66-0.3c4.4 0 8 3.5 8 8 0 1.9-0.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"  ></path></symbol><symbol id="icon-caret-down" viewBox="0 0 1024 1024"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"  ></path></symbol><symbol id="icon-left" viewBox="0 0 1024 1024"><path d="M400.8 512.7l321 287.6c3.4 3 5.3 7.4 5.3 11.9v82.2c0 4.4-3.6 8-8 8-2 0-3.9-0.7-5.3-2L307.6 536.7c-13.2-11.8-14.3-32-2.5-45.2 0.8-0.9 1.6-1.7 2.4-2.4l406.1-365.5c3.3-3 8.3-2.7 11.3 0.6 1.3 1.5 2.1 3.4 2.1 5.4v82.2c0 4.5-1.9 8.9-5.3 11.9l-320.9 289z"  ></path></symbol><symbol id="icon-rignt" viewBox="0 0 1024 1024"><path d="M623.2 513.1l-321 287.6c-3.4 3-5.3 7.4-5.3 11.9v82.2c0 4.4 3.6 8 8 8 2 0 3.9-0.7 5.3-2l406.1-363.6c13.2-11.8 14.3-32 2.5-45.2-0.8-0.9-1.6-1.7-2.4-2.4L310.3 124.1c-3.3-3-8.3-2.7-11.3 0.6-1.3 1.5-2.1 3.4-2.1 5.4v82.2c0 4.5 1.9 8.9 5.3 11.9l321 288.9z"  ></path></symbol></svg>',a=(e=document.getElementsByTagName("script"))[e.length-1].getAttribute("data-injectcss");if(a&&!t.__iconfont__svg__cssinject__){t.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(e){console&&console.log(e)}}!function(e){if(document.addEventListener)if(~["complete","loaded","interactive"].indexOf(document.readyState))setTimeout(e,0);else{var n=function t(){document.removeEventListener("DOMContentLoaded",t,!1),e()};document.addEventListener("DOMContentLoaded",n,!1)}else document.attachEvent&&(i=e,s=t.document,r=!1,(o=function(){try{s.documentElement.doScroll("left")}catch(e){return void setTimeout(o,50)}a()})(),s.onreadystatechange=function(){"complete"==s.readyState&&(s.onreadystatechange=null,a())});function a(){r||(r=!0,i())}var i,s,r,o}((function(){var t,e,a,i,s,r;(t=document.createElement("div")).innerHTML=n,n=null,(e=t.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",a=e,(i=document.body).firstChild?(s=a,(r=i.firstChild).parentNode.insertBefore(s,r)):i.appendChild(a))}))}(window)},"08d2":function(t,e,n){"use strict";var a=n("c4d4"),i=n.n(a);i.a},"0ff5":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("img",{staticClass:"middle-center",attrs:{src:t.url,alt:""},on:{load:t.successLoadImg}})])},i=[],s={name:"showImage",data:function(){return{}},props:{url:{default:""}},methods:{successLoadImg:function(t){var e=t.target||t.srcElement,n=e.parentElement.offsetWidth/e.parentElement.offsetHeight,a=e;1==a.complete&&(a.width>a.height*n?a.style.cssText="width: 100%;":a.style.cssText="height: 100%;"),this.$emit("load",t)}},created:function(){}},r=s,o=(n("a372"),n("2877")),c=Object(o["a"])(r,a,i,!1,null,"72af611e",null);e["a"]=c.exports},1:function(t,e){},1164:function(t,e,n){},"12b6":function(t,e,n){},"14b8":function(t,e,n){},"1ca2":function(t,e,n){},"1cd6":function(t,e,n){t.exports=n.p+"img/bg-phone.4127636a.png"},"1d50":function(t,e,n){"use strict";n.r(e);n("2fdb");var a=n("7618"),i=(n("6762"),n("4917"),n("768b")),s=n("d225"),r=n("b0b4"),o=(n("5df3"),n("1c4c"),n("ac6a"),n("96cf"),n("3b8d")),c=(n("a481"),n("7514"),n("cadf"),n("551c"),n("f751"),n("097d"),n("6d47"),n("082e"),n("db4d"),n("1fff"),n("aa35"),n("76a0")),l=n.n(c),u=n("a026"),p=(n("456d"),n("196b")),f=n.n(p),d=n("4328"),h=n.n(d),m=null;f.a.defaults.timeout=9e4,f.a.interceptors.request.use((function(t){return t.url=m.configApi+t.url,t.headers["cb"]||(t.url=t.url+(t.url.indexOf("?")>0?"&":"?")+"cb=".concat((new Date).getTime())),Object.keys(window.qysQuery).forEach((function(e){t.url=t.url+(t.url.indexOf("?")>0?"&":"?")+"".concat(e,"=").concat(window.qysQuery[e])})),t.headers["X-Requested-With"]="XMLHttpRequest",t}),(function(t){return Promise.reject(t)})),f.a.interceptors.response.use((function(t){if(200===t.status&&"true"!=t.$get("config","headers","noMes")&&([2002,401,402,403].includes(t.data.code)&&m.dealStep("INVALID"),0!==t.data.code))throw m.$message(t.data.message),new Error(t.data.message);return t}),(function(t){return Promise.reject(t)}));var v=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.prototype.get=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,a,i,s,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:null,a=r.length>2&&void 0!==r[2]?r[2]:{},i=JSON.parse(n.requestData),i=Object.assign({},i,{version:VERSION}),n.requestData=JSON.stringify(i),m=this,t.next=8,f()({method:"GET",url:e,params:n,headers:Object.assign(a.headers||{})});case 8:return s=t.sent,t.abrupt("return",s.data);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),t.prototype.postForm=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,n){var a,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i.length>2&&void 0!==i[2]?i[2]:{},m=this,t.abrupt("return",y.bind(this)(e,n,a,"form"));case 3:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),t.prototype.postMulti=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,n){var a,i,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=s.length>2&&void 0!==s[2]?s[2]:{},i=s.length>3?s[3]:void 0,m=this,t.abrupt("return",y.bind(this)(e,n,a,"multi",i));case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),t.prototype.postJson=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,n){var a,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i.length>2&&void 0!==i[2]?i[2]:{},m=this,t.abrupt("return",y.bind(this)(e,n,a,"json"));case 3:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()};function y(t,e){return g.apply(this,arguments)}function g(){return g=Object(o["a"])(regeneratorRuntime.mark((function t(e,n){var a,i,s,r,o,c,l,u=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=u.length>2&&void 0!==u[2]?u[2]:{},i=u.length>3?u[3]:void 0,s=u.length>4?u[4]:void 0,r=JSON.parse(n.requestData),r=Object.assign({},r,{version:VERSION}),n.requestData=JSON.stringify(r),t.t0=i,t.next="form"===t.t0?9:"multi"===t.t0?12:"json"===t.t0?16:19;break;case 9:return o="application/x-www-form-urlencoded",c=h.a.stringify(n),t.abrupt("break",19);case 12:return o="multipart/form-data",c=new FormData,Object.keys(n).map((function(t){Array.isArray(n[t])?n[t].map((function(e){c.append(t,e)})):c.append(t,n[t])})),t.abrupt("break",19);case 16:return o="application/json",c=n,t.abrupt("break",19);case 19:return t.next=21,f()({method:"POST",url:e,headers:Object.assign(a.headers||{},{"Content-Type":o}),data:c,cancelToken:s||null});case 21:return l=t.sent,t.abrupt("return",l.data);case 23:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}var b,_={install:v},S=u["default"].extend(n("2941").default),w=[],C=1,x=function t(e){e=e||{msg:""},"string"===typeof e&&(e={msg:e});var n=e.onClose,a="loading_"+C++;return e.onClose=function(){t.close(a,n)},b=new S({data:e}),b.id=a,b.vm=b.$mount(),document.body.appendChild(b.vm.$el),b.vm.visible=!0,b.dom=b.vm.$el,w.push(b),b.vm};x.close=function(t,e){for(var n=0,a=w.length;n<a;n++)if(t===w[n].id){"function"===typeof e&&e(w[n]),w.splice(n,1);break}};var k,I=x,A=u["default"].extend(n("9cb8").default),N=[],z=1,T=function t(e){e=e||{msg:""},"string"===typeof e&&(e={msg:e});var n="message_"+z++;return e.onClose=function(){t.close(n)},k=new A({data:e}),k.id=n,k.vm=k.$mount(),document.body.appendChild(k.vm.$el),k.vm.visible=!0,k.dom=k.vm.$el,N.push(k),k.vm};T.close=function(t){for(var e=0,n=N.length;e<n;e++)if(t===N[e].id){N.splice(e,1);break}};var O,$=T,E=u["default"].extend(n("8dfd").default),M=[],D=1,R=function t(e){e=e||{visible:!1,showCancel:!1,cancelText:"",okText:"",content:""},"string"===typeof e&&(e={visible:!1,showCancel:!1,cancelText:"",okText:"",content:e});var n="modal_"+D++;return e.onClose=function(){t.close(n)},O=new E({data:e}),"string"!==typeof O.content&&(O.$slots.default=[O.content],O.content=null),O.id=n,O.vm=O.$mount(),document.body.appendChild(O.vm.$el),O.vm.visible=!0,O.dom=O.vm.$el,M.push(O),O.vm};R.close=function(t){for(var e=0,n=M.length;e<n;e++)if(t===M[e].id){M.splice(e,1);break}};var P,q=R,j=u["default"].extend(n("7202").default),F=[],U=1,L=function t(e){e=e||{url:""},"string"===typeof e&&(e={url:e});var n="imageModal_"+U++;return e.onClose=function(){t.close(n)},P=new j({data:e}),P.id=n,P.vm=P.$mount(),document.body.appendChild(P.vm.$el),P.vm.visible=!0,P.dom=P.vm.$el,F.push(P),P.vm};L.close=function(t){for(var e=0,n=F.length;e<n;e++)if(t===F[e].id){F.splice(e,1);break}};var H=L,W=n("0ff5"),B=n("8dfd"),V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{},[n("label",{staticClass:"form-label"},[t._v("\n        "+t._s(t.label)+"\n    ")]),n("input",{staticClass:"form-input",class:{"input-error":t.error},attrs:{type:"text",placeholder:"请输入"+t.label},domProps:{value:t.value},on:{input:function(e){t.input=e.target.value},change:t.validate}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"error"},[t._v("请输入"+t._s(t.label))])])},G=[],J={name:"formInput",props:{label:{default:""},value:{default:""},required:{default:!1}},data:function(){return{error:!1,input:""}},watch:{input:function(){this.$emit("update:value",this.input)}},methods:{validate:function(){!1!==this.required?this.input?this.error=!1:this.error=!0:this.error=!1}}},K=J,Z=(n("7718"),n("2877")),Y=Object(Z["a"])(K,V,G,!1,null,"308a9d94",null),X=Y.exports,Q=function(){var t,e=this,n=e.$createElement,a=e._self._c||n;return a("button",e._g({staticClass:"auth-button",class:(t={},t[e.type]=!!e.type,t.disabled=e.disabled,t),attrs:{type:"button"}},e.listeners),[a("span",{staticClass:"middle-center"},[e._t("default")],2)])},tt=[],et=(n("c5f6"),{name:"AuthButton",props:{type:{type:String,default:""},disabled:{type:Boolean,default:!1},debounce:{type:Number,default:0}},data:function(){return{debounceFn:null}},computed:{listeners:function(){var t=this;return Object.assign({},this.$listeners,{click:function(e){t.debounce?t.debounceFn(e):t.emitEvent(e)}})}},created:function(){var t=this;this.debounceFn=this.$qUtils.debounce((function(e){t.emitEvent(e)}),300)},methods:{emitEvent:function(t){this.disabled||this.$emit("click",t)}}}),nt=et,at=(n("6fa9"),Object(Z["a"])(nt,Q,tt,!1,null,"095ad4b6",null)),it=at.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auth-checkbox",on:{click:function(e){return t.$emit("update:checked",!t.checked)}}},[n("q-icon",{attrs:{icon:t.checked?"check-square-selected":"check-square-normal"}}),t._t("default")],2)},rt=[],ot={name:"AuthCheckbox",props:{checked:Boolean},data:function(){return{}},methods:{}},ct=ot,lt=(n("d345"),Object(Z["a"])(ct,st,rt,!1,null,"9a9d218c",null)),ut=lt.exports,pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sub-header"},[n("div",{staticClass:"tip-large"},[t._v(t._s(t.account&&!t.isNumberUser?"认证账号："+t.$mosaic(t.account):""))]),n("div",{staticClass:"tip-large success-color sub-header-right",on:{click:t.showSecurity}},[n("q-icon",{staticClass:"safetycertificate-icon",attrs:{icon:"safetycertificate"}}),n("span",[t._v("安全声明")])],1)])},ft=[],dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"security-modal"},[a("div",{staticClass:"content"},[a("img",{attrs:{src:n("4813")}}),a("span",{staticClass:"h2-title title"},[t._v("个人身份隐私安全声明")]),a("span",{staticClass:"main-word text"},[t._v("您输入的身份信息仅用于个人实名认证；")]),a("span",{staticClass:"main-word"},[t._v("我们已采取权威安全技术来确保您的信息不被泄露和未经授权的访问和使用。")]),a("auth-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.close}},[t._v("我知道了")])],1)])},ht=[],mt={name:"SecurityModal",methods:{close:function(){this.$destroy(!0);var t=this.$el;t.parentNode.removeChild(t)}}},vt=mt,yt=(n("58d1"),Object(Z["a"])(vt,dt,ht,!1,null,"4ffeac5c",null)),gt=yt.exports,bt={name:"AuthSubheader",props:{account:{type:String,default:""}},data:function(){return{isNumberUser:!1}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getUserType();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getUserType:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_ONLYID",data:{userId:this.$_qyssdk_userId}})},{headers:{noMes:"true"}});case 3:e=t.sent,n=e.result,this.isNumberUser=n,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),showSecurity:function(){var t=new Vue({components:{authSecurityModal:gt},render:function(t){return t(gt,{})}}).$mount();document.body.appendChild(t.$el)}}},_t=bt,St=(n("a0b1"),Object(Z["a"])(_t,pt,ft,!1,null,"69d3bfa7",null)),wt=St.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auth-success"},[a("img",{attrs:{width:"222px",src:n("94b8")}}),a("span",{staticClass:"h1-title title"},[t._v("认证成功")]),!t.successPage&&"PRIVAPP"!=t.channel&&"THIRDAPP"!=t.channel||"CLOUD_PC"===t.channel?a("span",{staticClass:"main-word"},["DEFAULT"==t.mode?[t._v("\n            您已通过个人实名认证！\n        ")]:t._e(),"BANK"==t.mode?[t._v("\n            您已通过银行卡信息验证！\n        ")]:t._e(),"FACE"==t.mode?[t._v("\n            您已通过人脸识别认证！\n        ")]:t._e()],2):t._e(),a("div",{staticClass:"tips"},[t._v("即将为您跳转("+t._s(t.time)+"秒)...")]),a("div",{staticClass:"jump-next",on:{click:t.jump}},[t._v("\n        立即跳转 >\n    ")])])},xt=[],kt={name:"AuthSuccess",props:{user:{type:Object,default:function(){return{}}},mode:{type:String,default:""},successPage:{type:String,default:""},channel:{type:String,default:""}},data:function(){return{time:3,interval:""}},mounted:function(){var t=this;this.interval=setInterval((function(){1!=t.time?t.time--:t.jump()}),1e3)},beforeDestroy:function(){this.interval&&clearInterval(this.interval)},methods:{returnApp:function(){navigator.userAgent.indexOf("iPhone")>-1||navigator.userAgent.indexOf("iPad")>-1?window.webkit.messageHandlers.returnApp.postMessage():android.returnApp()},miniProgramBack:function(){window.WeixinJSBridge&&WeixinJSBridge.invoke?this.ready():document.addEventListener("WeixinJSBridgeReady",this.ready,!1)},ready:function(){wx.miniProgram.navigateBack({delta:3})},jump:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"CLEAR_AUTH_CERTIFICATION",data:{userId:this.$_qyssdk_userId}})},{headers:{noMes:"true"}});case 2:this.$_qyssdk_options&&(this.$_qyssdk_options.authSuccessCbWrapper&&this.$_qyssdk_options.authSuccessCbWrapper(this.mode,this.user),"SIGN_AUTH"===this.$_qyssdk_options.callType&&this.$emit("goPersonalSign")),clearInterval(this.interval);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},It=kt,At=(n("aa27"),Object(Z["a"])(It,Ct,xt,!1,null,"4ae8482a",null)),Nt=At.exports,zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auth-invalid"},[n("q-icon",{staticClass:"warning-circle-fill-icon",attrs:{icon:"warning-circle-fill"}}),n("span",{staticClass:"h1-title title"},[t._v("认证页面已失效")]),"THIRD"!=t.channel&&t.successPage?t._e():n("span",{staticClass:"main-word disable-color"},[t._v("\n        请重新认证，即将为您跳转("+t._s(t.time)+"秒)...\n    ")])],1)},Tt=[],Ot={name:"AuthInvalid",props:{successPage:{type:String,default:""},channel:{type:String,default:""}},data:function(){return{time:3,interval:""}},mounted:function(){var t=this;this.interval=setInterval((function(){1!=t.time?t.time--:(t.jump(),t.interval&&clearInterval(t.interval))}),1e3)},beforeDestroy:function(){this.interval&&clearInterval(this.interval)},methods:{jump:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.dealStep(""),this.$emit("refetchUserInfo");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},$t=Ot,Et=(n("60d6"),Object(Z["a"])($t,zt,Tt,!1,null,"693a65fe",null)),Mt=Et.exports,Dt=function(){var t,e=this,n=e.$createElement,a=e._self._c||n;return a("div",{staticClass:"area-code-wrapper",class:(t={},t[e.className]=!!e.className,t["is-disabled"]=e.disabled,t),on:{click:function(t){return t.stopPropagation(),e.codeToggle(t)}}},[e._v("\n    "+e._s(e.selected.code)+"\n    "),a("q-icon",{staticClass:"icon-arrow",class:{"is-open":e.isShowSelect,"is-close":!e.isShowSelect,"is-disabled-arrow":e.disabled},attrs:{icon:"rignt"}}),a("div",{staticClass:"right-line"}),e.isShowSelect?a("div",{staticClass:"code-display"},[e._m(0),a("div",{staticClass:"code-list"},e._l(e.codeList,(function(t,n){return a("div",{key:n,staticClass:"code-item",on:{click:function(n){return e.selectCode(t)}}},[a("span",[e._v(e._s(t.label)+"：")]),a("span",[e._v(e._s(t.code))])])})),0)]):e._e()],1)},Rt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"triangle_border_up"},[n("span")])}],Pt={name:"AreaCode",props:{disabled:{type:Boolean,default:!1},type:{type:String,default:""},className:{type:String,default:""},codeList:{type:Array,default:function(){return[{label:"大陆",areaAbbr:"ZH",code:"+86",value:""},{label:"香港",areaAbbr:"HK",code:"+852",value:"852"},{label:"台湾",areaAbbr:"TW",code:"+886",value:"886"}]}},code:{type:Object,default:function(){return{label:"大陆",areaAbbr:"ZH",code:"+86",value:""}}}},data:function(){return{isShowSelect:!1,selected:{}}},watch:{code:{handler:function(t){this.selected=t},deep:!0}},mounted:function(){var t=this;this.selected=this.code,document.getElementsByTagName("body")[0].addEventListener("click",(function(e){t.isShowSelect=!1}))},methods:{codeToggle:function(t){this.disabled||(t.stopPropagation(),this.isShowSelect=!this.isShowSelect,this.$emit("toggleSelectCode"))},selectCode:function(t){this.selected=t,this.$emit("getCode",t,this.type)}}},qt=Pt,jt=(n("8dd6"),Object(Z["a"])(qt,Dt,Rt,!1,null,"08f10aa0",null)),Ft=jt.exports,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"skeleton",style:{padding:t.padding,height:t.height+"px",width:t.width+"px"}},[n("ul",{staticClass:"skeleton-wrapper"},t._l(t.itemLength,(function(e){return n("li",{key:e,staticClass:"skeleton-item",style:t.itemStyle})})),0)])},Lt=[],Ht=(n("28a5"),{name:"Skeleton",props:{padding:{type:String,default:"42px 42px"},height:{type:Number,default:0,required:!0},widthMM:{type:Number,default:1,required:!0},heightMM:{type:Number,default:1,required:!0},itemHeight:{type:Number,default:16},itemMarginBottom:{type:Number,default:16}},computed:{paddingObj:function(){var t=this.padding.split(/\s/);3===t.length?t[3]=t[1]:2===t.length?(t[3]=t[1],t[2]=t[0]):1===t.length&&(t[3]=t[0],t[2]=t[0],t[1]=t[0]);var e=t.map((function(t){return parseInt(t)})),n=Object(i["a"])(e,4),a=n[0],s=n[1],r=n[2],o=n[3];return{top:a,right:s,bottom:r,left:o}},width:function(){return this.height/this.heightMM*this.widthMM},itemLength:function(){var t=this.paddingObj,e=t.top,n=t.bottom,a=this.height-e-n,i=this.itemHeight+this.itemMarginBottom;return Math.floor((a+this.itemMarginBottom)/i)},itemStyle:function(){return{height:"".concat(this.itemHeight,"px"),marginBottom:"".concat(this.itemMarginBottom,"px")}}}}),Wt=Ht,Bt=(n("cad7"),Object(Z["a"])(Wt,Ut,Lt,!1,null,"39e819d4",null)),Vt=Bt.exports,Gt=[W["a"],X,B["default"],it,ut,wt,Nt,Mt,Ft,Vt],Jt=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];Gt.map((function(e){t.component(e.name,e)})),t.prototype.$loading=I,t.prototype.$message=$,t.prototype.$modal=q,t.prototype.$imageModal=H};"undefined"!==typeof window&&window.Vue&&Jt(window.Vue);var Kt={install:Jt},Zt=n("1cb5"),Yt=null;function Xt(t){return Qt.apply(this,arguments)}function Qt(){return Qt=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,a,i,s,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.target,!window.FileReader){t.next=30;break}if(a=new FileReader,i=n.files[0].name.split("."),s=i[i.length-1].toLowerCase(),r=Number(Math.round(100*n.files[0].size/1048576)/100),"png"===s||"jpg"===s||"jpeg"===s){t.next=11;break}return Yt.$message("请上传图片类型文件！"),t.abrupt("return",!1);case 11:if(!(r>20)){t.next=16;break}return Yt.$message("您上传的图片太大了！"),t.abrupt("return",!1);case 16:return t.prev=16,t.next=19,Yt.$qUtils.compressImg(n.files[0],{outputType:"blob",maxDefaultSize:10,quality:1,type:"jpeg",maxWidth:360,maxHeight:540});case 19:return o=t.sent,t.abrupt("return",o);case 23:t.prev=23,t.t0=t["catch"](16),console.log(t.t0);case 26:a.onload=function(t){a=""},a.onerror=function(t){Yt.$message("读取图片失败，请重新选择！")};case 28:t.next=31;break;case 30:Yt.$message("浏览器插件不支持");case 31:case"end":return t.stop()}}),t,null,[[16,23]])}))),Qt.apply(this,arguments)}var te=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.prototype.uploadImageHandler=function(t){return Yt=this,Xt.bind(this)(t)}},ee={install:te},ne=n("755b"),ae=n("4233"),ie=n("287d"),se={isMobileTerminal:/Android|webOS|iPhone|iPod|BlackBerry/i,isEmail:/^[\.A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,isPhoneNumber:/^1[3456789]\d{9}$/,isZHPhoneWithCode:/^(\+86|86)?1[0-9]{10}$/,isHKPhoneWithCode:/^(5|6|9)\d{7}$/,isTWPhoneWithCode:/^0?9\d{8}$/,isMobileNumber:/^(\(\d{3,4}\)|\d{3,4}-|\s)?\d{7,14}$/,isIdCard:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}$)/,isMoney:/^([1-9][\d]{0,7}|0)(\.[\d]{1,2})?$/,isCreditCard:/^[0-9]*$/,isZHCNUserName:/^([\U0002A700-\U0002B73F\U00020000-\U0002A6DF\u3400-\u4DBF\u4e00-\u9fa5·]{1,30}|[a-zA-Z\.\s]{1,30})$/,isEmoJi:/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/,isChinese:/[^\U0002A700-\U0002B73F\U00020000-\U0002A6DF\u3400-\u4DBF\u4e00-\u9fa5]+$/,isDecimalTwo:/^[0-9]+(.[0-9]{2})?$/,isDecimalOneOrTwo:/^[0-9]+(.[0-9]{1,2})?$/,isEnSpecialChar:/[`~!@#$%^&*()_+<>?:"{},.\/;'[\]]/im,isCnSpecialChar:/[·！#￥（——）：；“”‘、，|《。》？、【】[\]]/im,isHighPassword:/(?=.*[a-zA-Z])(?=.*\d)(?=.*[`~!@#$%^&*()_+<>?:"{},.\/;'[\]])[a-zA-Z\d`~!@#$%^&*()_+<>?:"{},.\/;'[\]]{8,16}/i,isPassword:/^[A-Za-z0-9`~!@#$%^&*()_+<>?:"{},.\/;'[\]]+$/,isUrl:/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(?::\d+)?|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/},re=(n("6b54"),n("3452")),oe=n.n(re);function ce(t){var e=t.data,n=t.hashkey;n=n.slice(0,8)+n.slice(-8),n=oe.a.enc.Utf8.parse(n);var a=oe.a.AES.decrypt(e,n,{mode:oe.a.mode.ECB});return JSON.parse(a.toString(oe.a.enc.Utf8))}function le(t,e){var n;return n=t&&"86"!==t?"".concat(t," ").concat(e):e,n}function ue(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!t)return{contactCode:"",contactContent:""};var e=/^(?:\+?(86|852|886)\s?)?(.*)$/,n=t.match(e)[1]||"86",a=t.match(e)[2];return{contactCode:n,contactContent:a}}function pe(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=[{label:"大陆",areaAbbr:"ZH",code:"+86",value:""},{label:"香港",areaAbbr:"HK",code:"+852",value:"852"},{label:"台湾",areaAbbr:"TW",code:"+886",value:"886"}],n=/^(?:\+?(86|852|886)\s?)?(.*)$/,a=t.match(n)[1]||"86";return""===a||"86"===a?{label:"大陆",areaAbbr:"ZH",code:"+86",value:""}:e.find((function(t){return t.value===a}))}function fe(){var t="",e=navigator.userAgent,n=e.indexOf("Android")>-1||e.indexOf("Adr")>-1,a=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return n?t="android":a&&(t="ios"),t}var de=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:!(t.contractMes.viewNeedAuth&&t.needRealName),expression:"!(contractMes.viewNeedAuth && needRealName)"}],ref:"doc",staticClass:"doc"},[n("header",[n("div",{staticClass:"contract-title ellipsis"},[t._v("当前文件："+t._s(t.currentDoc.title))]),n("div",{staticClass:"click-area",on:{click:function(e){t.changeComponent("contractList"),t.rectanglesAllOutSelect()}}},[n("i",{staticClass:"iconfont iconicon_write_spread- middle-center"})])]),n("div",{ref:"page-list",staticClass:"page-list",class:{"can-not-sign":!t.canSign},on:{click:t.rectanglesAllOutSelect,scroll:function(e){t.calcCurrentPageNo(e),t.isScrolling=!0,t.scrollingStop()}}},[t.canPre?n("div",{staticClass:"jump-page"},[n("div",{staticClass:"info",on:{click:t.preDoc}},[t._v("切换至上一份文件")]),n("div",{staticClass:"title"},[t._v(t._s(t.contractMes.$get("documents",t.currentDocIndex-1,t.title)))])]):t._e(),n("div",{staticClass:"wrapper",style:{width:100*t.resize+"%"}},t._l(t.currentPages,(function(e){return n("div",{key:e.docId+e.pageNo,ref:"pageNo",refInFor:!0,staticClass:"page"},[n("div",{staticClass:"page-img-wrapper",staticStyle:{position:"relative"}},[e.docimg.loaded?t._e():n("skeleton",{staticStyle:{position:"absolute"},attrs:{height:e.size.heightPixel,widthMM:e.size.widthMM,heightMM:e.size.heightMM}}),n("lazy-component",[n("img",{style:e.style,attrs:{src:e.imgObj.src},on:{load:function(t){e.docimg.loaded=!0}}})])],1),t._l(t.rectangles,(function(a){return t.canSign&&t.isRectShow(e,a)?[n("div",{staticClass:"rectangle-area",class:{focus:a.isSelected,signed:a.hasSigned},style:a.style,attrs:{id:a.id},on:{click:function(e){a.isSelected=!0,t.selectSeal(a)}}},[a.hasSigned?t._e():[n("span",[t._v("点击签名")])]],2)]:t._e()})),t._l(t.stamperListShow,(function(a,i){return t.isStamperShow(e,a)?[n("div",{directives:[{name:"popover",rawName:"v-popover",value:{name:a.id,position:"top"},expression:"{ name: stamper.id, position: 'top' }"},{name:"drag",rawName:"v-drag",value:{canDrag:!1!==t.contractMes.extraSign,hideDragStamperHelper:t.hideDragStamperHelper,location:t.stamperList[i],locations:t.stamperList,rectangles:t.rectangles},expression:"{\n                            canDrag: contractMes.extraSign !== false,\n                            hideDragStamperHelper: hideDragStamperHelper,\n                            location: stamperList[index],\n                            locations: stamperList,\n                            rectangles: rectangles,\n                        }"}],key:a.id,staticClass:"stamper-img",class:{"has-location":a.locationId,"need-background":"PERSONAL"==a.sealType||"TIMESTAMP"==a.sealType},style:a.style,attrs:{id:a.id},on:{touchmove:function(e){return t.popoverHidden(a.id)},click:function(e){return t.rectangleSelect(a)}}},[n("img",{attrs:{src:t.stamperSrc(a.sealId)}})]),"TIMESTAMP"==a.sealType&&a.locationId?t._e():n("popover",{ref:a.id,refInFor:!0,staticStyle:{height:"24px"},attrs:{width:"TIMESTAMP"!=a.sealType?105:56,name:a.id}},["TIMESTAMP"!=a.sealType?n("span",{staticClass:"popover-action",on:{click:function(e){return t.reSelectSeal(a)}}},[t._v("重签")]):t._e(),n("span",{staticClass:"popover-action",on:{click:function(e){return t.deleteStamper(a.id)}}},[t._v("删除")])])]:t._e()}))],2)})),0),t.canNext?n("div",{staticClass:"jump-page"},[n("div",{staticClass:"info",on:{click:t.nextDoc}},[t._v("切换至下一份文件")]),n("div",{staticClass:"title"},[t._v("\n                "+t._s(t.contractMes.$get("documents",t.currentDocIndex+1,"title"))+"\n            ")])]):t._e(),t.isScrolling?n("div",{staticClass:"current-page tip-large title-color-dark horizon-center"},[t._v("\n            "+t._s(this.currentPageNo)+"/"+t._s(this.totalPageNo)+"\n        ")]):t._e()]),t.canSign?[n("div",{staticClass:"fix-location"},[n("i",{staticClass:"iconfont iconquestioncircle",staticStyle:{"margin-bottom":"15px",color:"#c9c9c9"},on:{click:t.showHelpModal}}),t.hasRectangles?n("div",{staticStyle:{width:"50px",height:"50px"},on:{click:function(e){return t.locateRectangle()}}},[n("div",{staticClass:"middle-center"},[n("i",{staticClass:"iconfont icondingwei blue-text"}),n("div",{staticClass:"status"},[n("span",{staticClass:"blue-text"},[t._v(t._s(t.currentRectangleIndex))]),n("span",{staticClass:"grey-text"},[t._v("/"+t._s(t.rectangleWithoutTimestamp.length))])])])]):t._e()]),n("footer",{staticClass:"sign-action"},[n("div",{staticClass:"sign-area"},[n("span",{directives:[{name:"popover",rawName:"v-popover.top",value:{name:"sign"},expression:"{ name: 'sign' }",modifiers:{top:!0}}],staticClass:"sign-button",on:{click:function(e){!(t.hasRectangles&&t.rectangleWithoutTimestamp.length>1)&&t.selectSeal()}}},[n("i",{staticClass:"sign-button-icon iconfont iconsign1"}),t._v("\n                    签名\n                ")]),n("span",{staticClass:"sign-button",on:{click:function(e){return t.addStamper()}}},[n("i",{staticClass:"sign-button-icon iconfont iconicon-2-32"}),t._v("\n                    时间戳\n                ")])]),n("div",{staticClass:"confirm-sign",class:{"can-confirm-sign":t.canConfirmSign},on:{click:t.confirmSign}},[t._v("\n                确认签署\n            ")])]),t.hasRectangles&&t.rectangleWithoutTimestamp.length>1?n("popover",{ref:"sign",attrs:{width:153,name:"sign"}},[n("div",{staticClass:"popover-action",on:{click:function(e){t.popoverHidden("sign"),t.selectSeal()}}},[t._v("\n                添加一个签名\n            ")]),n("div",{staticClass:"popover-action",on:{click:function(e){t.popoverHidden("sign"),t.modifyAllRectangles=!0,t.selectSeal()}}},[t._v("\n                添加所有指定签名\n            ")])]):t._e()]:t._e(),n(t.activeComponent,{tag:"component",attrs:{contact:t.contact,documentsList:t.contractMes.documents,currentDocIndex:t.currentDocIndex,sealList:t.sealList,selectSealOptions:t.selectSealOptions,stamperList:t.stamperList,contractId:t.contractId,activityId:t.contractMes.activityId},on:{signContract:t.signContract,componentClose:t.componentClose,chooseContract:t.chooseContract,changeComponent:t.changeComponent,addStamper:t.addStamper,modifyStamper:t.modifyStamper,changeSignature:t.changeSignature,setFacePhotoKey:t.setFacePhotoKey}})],2)},he=[],me=(n("20d6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-container"},[n("div",{staticClass:"modal-header"},[n("i",{staticClass:"iconfont iconclose",on:{click:t.close}}),t._v("\n                短信验证码签署\n            ")]),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"form-item"},[n("span",{staticClass:"label"},[t.isMail?[t._v("\n                            邮箱：\n                        ")]:[t._v("\n                            手机号：\n                        ")]],2),n("strong",{staticStyle:{"font-size":"20px"}},[t._v(t._s(t.contactShow))])]),n("div",{staticClass:"form-item"},[n("span",{staticClass:"label"},[t._v("\n                        验证码：\n                    ")]),n("div",{staticClass:"content"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.pin,expression:"pin"}],attrs:{type:"text",placeholder:"请输入验证码",maxlength:"6"},domProps:{value:t.pin},on:{blur:function(e){return t.resetScroll()},input:function(e){e.target.composing||(t.pin=e.target.value)}}}),n("div",{staticClass:"get-pin",class:{"disabled-button":t.smsPinGetting},on:{click:t.getSmsPin}},[t.isFrist?[t._v("\n                                获取验证码\n                            ")]:[t._v("\n                                重新获取\n                                "),t.smsPinGetting?[t._v(" ("+t._s(t.smsCountNumber)+") ")]:t._e()]],2)])]),t.canVoiceVerify?n("div",{staticClass:"item-tip",class:{"disabled-text":t.voicePinGetting},on:{click:t.voiceCaptcha}},[t.voicePinGetting?[t._v(" 您即将收到语音电话("+t._s(t.voiceCountNumber)+") ")]:[t._v("\n                        收不到短信，试试语音验证码\n                    ")]],2):t._e()]),n("div",{staticClass:"modal-footer"},[n("div",{staticClass:"confirm-button",on:{click:t.submit}},[t._v("\n                    确定\n                ")])])])])])}),ve=[],ye={data:function(){return{pin:null,isFrist:!0,smsCountNumber:0,voiceCountNumber:0,canVoiceVerify:!1}},props:{contact:{type:String},contractId:{type:String}},watch:{smsCountNumber:function(t){40===t&&(this.canVoiceVerify=!0)}},computed:{voicePinGetting:function(){return 0!=this.voiceCountNumber},smsPinGetting:function(){return 0!=this.smsCountNumber},contactShow:function(){return this.isMail?this.contact.slice(0,3)+"****"+this.contact.slice(7):this.contact},isMail:function(){var t=/^[\.A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;return t.test(this.contact||"")}},methods:{submit:function(){this.$emit("signContract",this.pin),this.close()},close:function(){this.$emit("componentClose")},resetScroll:function(){setTimeout((function(){window.scrollTo(0,0)}),300)},voiceCaptcha:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=setInterval((function(){n.voiceCountNumber?n.voiceCountNumber--:clearInterval(e)}),1e3),t.prev=1,t.next=4,this.postForm("",{requestData:JSON.stringify({type:"GET_SIGN_VOICE",data:{contractId:this.contractId,userId:this.$_qyssdk_userId}})});case 4:this.voiceCountNumber=60,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](1),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[1,7]])})));function e(){return t.apply(this,arguments)}return e}(),getSmsPin:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.isFrist=!1,e=setInterval((function(){0===n.smsCountNumber?clearInterval(e):n.smsCountNumber--}),1e3),t.prev=2,t.next=5,this.postForm("",{requestData:JSON.stringify({type:"GET_SIGN_PIN",data:{contractId:this.contractId,userId:this.$_qyssdk_userId}})});case 5:this.smsCountNumber=60,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[2,8]])})));function e(){return t.apply(this,arguments)}return e}()}},ge=ye,be=(n("7c11"),Object(Z["a"])(ge,me,ve,!1,null,"71ab31f1",null)),_e=be.exports,Se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-mask",on:{click:t.close}},[n("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutUp"}},[n("div",{staticClass:"modal-container"},t._l(t.documentsList,(function(e,a){return n("div",{staticClass:"list ellipsis",on:{click:function(e){return t.choose(a)}}},[n("span",[t._v(t._s(a+1)+".")]),t._v(t._s(e.title)+"\n                "),a==t.currentDocIndex?n("i",{staticClass:"iconfont iconfuxuankuang blue-text",staticStyle:{right:"15px",position:"absolute"}}):t._e()])})),0)])],1)},we=[],Ce={data:function(){return{}},props:{documentsList:{type:Array,required:!0},currentDocIndex:{default:0}},methods:{choose:function(t){this.$emit("chooseContract",t)},close:function(){this.$emit("componentClose")}}},xe=Ce,ke=(n("3967"),Object(Z["a"])(xe,Se,we,!1,null,"5528463e",null)),Ie=ke.exports,Ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"signPad",staticClass:"sign-pad",class:{"in-vertical-direction":"vertical"===t.direction},style:t.containerStyle},[n("div",{staticClass:"sign-title"},[n("div"),t._v("\n        请绘制清晰可辨的签名\n        "),n("i",{staticClass:" iconfont iconclose",on:{click:t.close}})]),n("div",{ref:"signContent",staticClass:"sign-content"},[n("div",{ref:"signCanvasWrapper",staticClass:"sign-canvas-wrapper",style:t.signCanvasWrapperStyle},[n("canvas",{ref:"signCanvas",staticClass:"sign-canvas",on:{touchstart:t.writeStart,touchend:t.writeEnd,touchmove:t.writeMove}})])]),n("div",{staticClass:"sign-footer"},[n("div",{staticStyle:{width:"140px"}},[n("i",{staticClass:"iconfont iconhuabi3",class:{blue:"tiny"==t.lineWidth},on:{click:function(e){return t.changeWidth("tiny")}}}),n("i",{staticClass:"iconfont iconhuabi4",class:{blue:"medium"==t.lineWidth},on:{click:function(e){return t.changeWidth("medium")}}}),n("i",{staticClass:"iconfont iconhuabi5",class:{blue:"large"==t.lineWidth},on:{click:function(e){return t.changeWidth("large")}}})]),n("div",[n("button",{staticClass:"clear",on:{click:t.clear}},[t._v("清除")]),n("button",{staticClass:"save",on:{click:t.save}},[t._v("保存")])]),n("div",[n("div",{staticClass:"red circle ",class:{"outer-circle":"red"==t.penColor},on:{click:function(e){return t.changePenColor("red")}}}),n("div",{staticClass:"blue circle",class:{"outer-circle":"blue"==t.penColor},on:{click:function(e){return t.changePenColor("blue")}}}),n("div",{staticClass:"black circle",class:{"outer-circle":"black"==t.penColor},on:{click:function(e){return t.changePenColor("black")}}})])])])},Ne=[],ze=(n("8e6e"),n("34ef"),n("bd86")),Te=n("65d2");function Oe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function $e(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(n),!0).forEach((function(e){Object(ze["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ee={data:function(){return{bodyHeight:"",signaturePad:"",lineWidth:"medium",penColor:"black",direction:"",userOrientationDb:null,bodyClientHeight:0,containerSize:{},signCanvasWrapperSize:{}}},props:{selectSealOptions:{default:{}},contractId:{type:String}},computed:{isModify:function(){return!!this.selectSealOptions.modifyStamperId},headerStyle:function(){return{width:this.bodyHeight+1.5+"px",right:23.5-this.bodyHeight/2+"px",top:this.bodyHeight/2-25+"px"}},footerStyle:function(){return{width:this.bodyHeight+"px",left:24-this.bodyHeight/2+"px",top:this.bodyHeight/2-26+"px"}},signCanvasWrapperStyle:function(){var t=this.isSignaturePadEmpty?0:1;return $e({opacity:t},this.signCanvasWrapperSize)},containerStyle:function(){var t=this.isUserOrientationCalled?1:0,e=this.isIphone6sInWx&&343==this.bodyClientHeight?"20px":"0";return $e({opacity:t,top:e},this.containerSize)}},watch:{signCanvasWrapperSize:function(){var t=this;this.$nextTick((function(){t.refreshCanvas()}))}},mounted:function(){var t=this;this.userOrientationDb=this.$qUtils.debounce((function(){t.userOrientation()}),150);var e=navigator.userAgent;/iphone/i.test(e)&&/MicroMessenger/i.test(e)&&667==screen.height&&375==screen.width&&(this.isIphone6sInWx=!0),this.userOrientationDb(),window.addEventListener("resize",this.userOrientationDb,!1),this.ratio=Math.max(window.devicePixelRatio||1,1),setTimeout((function(){if(t.isPCSignPage&&t.$route.query.sealId){var e=t.$route.query.sealId;t.replaceSignatureIdFromQuery=e}}),0)},beforeDestroy:function(){window.removeEventListener("resize",this.userOrientationDb,!1)},methods:{refreshCanvas:function(){var t=this.$refs.signCanvas;t.width=t.offsetWidth*this.ratio,t.height=t.offsetHeight*this.ratio;var e=t.getContext("2d");e.scale(this.ratio,this.ratio),this.signaturePad.clear?this.signaturePad.clear():(this.signaturePad=new Te["a"](t),this.signaturePad.penColor="black",this.signaturePad.minWidth=.5,this.signaturePad.maxWidth=2)},userOrientation:function(){var t,e=this;switch(this.bodyClientHeight=document.body.clientHeight,window.orientation){case-90:t="horizontal";break;case 90:t="horizontal";break;case 0:t="vertical";break;case 180:t="vertical";break}this.direction!==t?(this.direction=t,"vertical"===t?(this.containerSize={width:"".concat(this.$refs.signPad.offsetHeight,"px"),height:"".concat(this.$refs.signPad.offsetWidth,"px")},this.$nextTick((function(){e.signCanvasWrapperSize={height:"".concat(e.$refs.signContent.offsetWidth,"px"),width:"".concat(e.$refs.signContent.offsetHeight,"px")}}))):(this.containerSize={},this.signCanvasWrapperSize={}),this.isUserOrientationCalled=!0):this.isUserOrientationCalled=!0},changePenColor:function(t){switch(t){case"black":this.signaturePad.penColor="#273039";break;case"blue":this.signaturePad.penColor="#00a0e9";break;case"red":this.signaturePad.penColor="#f74555";break;default:}this.penColor=t},changeWidth:function(t){switch(t){case"tiny":this.signaturePad.minWidth=1,this.signaturePad.maxWidth=1;break;case"medium":this.signaturePad.minWidth=2,this.signaturePad.maxWidth=1;break;case"large":this.signaturePad.minWidth=2.5,this.signaturePad.maxWidth=2.5;break;default:}this.lineWidth=t},writeStart:function(t){this.signaturePad._handleTouchStart(t)},writeMove:function(t){this.signaturePad._handleTouchMove(t)},writeEnd:function(t){this.signaturePad._handleTouchEnd(t)},convertBase64UrlToBlobFinFile:function(t,e){function n(t){var e=t.split(","),n=e[0].match(/:(.*?);/)[1],a=atob(e[1]),i=a.length,s=new Uint8Array(i);while(i--)s[i]=a.charCodeAt(i);return new Blob([s],{type:n})}function a(t,e){return t.lastModifiedDate=new Date,t.name=e,t}var i=n(t),s=a(i,e);return s},rotateImgDataURL:function(t){var e=this,n=new Promise((function(n,a){var i=new Image,s=e.convertBase64UrlToBlobFinFile(t,"签名.png"),r=new FileReader;r.readAsDataURL(s),r.onload=function(t){i.src=t.target.result};var c=document.createElement("canvas"),l=c.getContext("2d");i.onload=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,s,r,o,u,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=i.width,s=i.height,r=a,o=s,c.width=r,c.height=o,l.clearRect(0,0,r,o),l.drawImage(i,0,0,r,o),u=r,p=o,t.t0=window.orientation,t.next=90===t.t0||-90===t.t0?13:18;break;case 13:return c.width=p,c.height=u,l.rotate(90*Math.PI/180),l.drawImage(i,0,0,u,-p),t.abrupt("break",18);case 18:e=c.toDataURL("image/png",.6),n(e);case 20:case"end":return t.stop()}}),t)})))}));return n},save:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.signaturePad.isEmpty()){t.next=3;break}return this.$message("签名不能为空！"),t.abrupt("return");case 3:return e=this.$loading("正在上传，请稍候"),t.next=6,this.rotateImgDataURL(this.signaturePad.toDataURL("image",.6));case 6:return n=t.sent,t.prev=7,t.next=10,this.postForm("",{requestData:JSON.stringify({type:"UPLOAD_PERSONAL_SEAL",data:{userId:this.$_qyssdk_userId,base64Str:n,contractId:this.contractId}})});case 10:a=t.sent,this.$emit("changeSignature",a.result),this.isModify?this.$emit("modifyStamper",this.selectSealOptions.modifyStamperId,{id:a.result,type:"PERSONAL"}):this.$emit("addStamper",{id:a.result,type:"PERSONAL"}),this.close(),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](7),console.log(t.t0);case 19:return t.prev=19,e.close(),t.finish(19);case 22:case"end":return t.stop()}}),t,this,[[7,16,19,22]])})));function e(){return t.apply(this,arguments)}return e}(),clear:function(){this.signaturePad.clear()},close:function(){this.$emit("componentClose")}}},Me=Ee,De=(n("d2ee"),Object(Z["a"])(Me,Ae,Ne,!1,null,"cec70d36",null)),Re=De.exports,Pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"modal-header"},[n("i",{staticClass:"iconfont iconguanbi vertical-center",on:{click:t.close}}),t._v("\n                选择签名\n                "),n("i",{staticClass:"iconfont iconsign1 vertical-center",on:{click:function(e){return t.changeComponent("createSignature")}}})]),n("div",{staticClass:"modal-body"},[0!==t.sealList.length?[n("div",{directives:[{name:"hammer",rawName:"v-hammer:swipe.horizontal",value:t.swipe,expression:"swipe",arg:"swipe",modifiers:{horizontal:!0}}],staticClass:"image-container"},[n("img",{attrs:{src:t.imgSrc}})]),n("div",{staticClass:"circle-container"},t._l(t.sealList.length,(function(e){return n("div",{staticClass:"circle",class:{selected:t.currentSealIndex+1==e}})})),0),n("button",{staticClass:"choose-signature",on:{click:function(e){return t.submit(t.sealList[t.currentSealIndex])}}},[t._v("\n                        使用签名\n                    ")])]:t._e()],2)])])])},qe=[],je=n("c8b5"),Fe=n.n(je),Ue={components:{},props:{selectSealOptions:{type:Object},sealList:{type:Array},stamperList:{type:Array},contractId:{type:String}},data:function(){return{currentSealIndex:0}},computed:{isModify:function(){return!!this.selectSealOptions.modifyStamperId},imgSrc:function(){return"".concat(this.configApi,"?").concat(encodeURI("requestData=".concat(JSON.stringify({type:"DOWNLOAD_SEAL",data:{contractId:this.contractId,userId:this.$_qyssdk_userId,datePattern:"HYPHEN",sealId:this.sealList[this.currentSealIndex].id}})).concat(function(){var t="";return Object.keys(window.qysQuery).forEach((function(e){t+="&".concat(e,"=").concat(window.qysQuery[e])})),t}())))}},created:function(){var t=this;if(this.isModify){var e=this.stamperList.find((function(e){return e.id==t.selectSealOptions.modifyStamperId})).sealId;this.currentSealIndex=this.sealList.findIndex((function(t){return t.id==e}))}},methods:{changeComponent:function(t){this.$emit("changeComponent",t)},close:function(){this.$emit("componentClose")},submit:function(t){this.isModify?this.$emit("modifyStamper",this.selectSealOptions.modifyStamperId,t):this.$emit("addStamper",t,this.selectSealOptions.rectangle),this.close()},swipe:function(t){"swipeleft"==t.type?this.currentSealIndex<this.sealList.length-1?this.currentSealIndex++:this.currentSealIndex=0:"swiperight"==t.type&&(this.currentSealIndex>0?this.currentSealIndex--:this.currentSealIndex=this.sealList.length-1)}}},Le=Ue,He=(n("d5a5"),Object(Z["a"])(Le,Pe,qe,!1,null,"b6889304",null)),We=He.exports,Be=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},["init"==t.status?[a("strong",{staticClass:"header"},[t._v("\n            人证比对验证\n        ")]),a("img",{staticStyle:{"margin-bottom":"15px"},attrs:{width:"110px",src:n("86cd"),alt:""},on:{click:t.triggerUploadFacePic}}),t._m(0),t._m(1)]:t._e(),"loading"==t.status?[a("strong",{staticClass:"header"},[t._v("\n            人证比对验证\n        ")]),a("img",{staticStyle:{"margin-bottom":"15px"},attrs:{width:"120px",src:n("fb5e"),alt:""}}),a("div",{staticClass:"tips"},[t._v("\n            正在与公安系统中的人脸数据进行比对...\n        ")])]:t._e(),"failed"==t.status?[t._m(2),a("img",{staticStyle:{"margin-bottom":"35px"},attrs:{width:"200px",src:t.imgSrc,alt:""}}),a("div",{staticClass:"re-take-photo",staticStyle:{"margin-bottom":"30px"},on:{click:t.triggerUploadFacePic}},[t._v("\n            重新拍摄\n        ")])]:t._e(),"success"==t.status?[a("i",{staticClass:"iconfont iconcheckcircle success-icon"}),a("div",{staticClass:"auth-result"},[t._v("\n            验证通过\n        ")]),a("div",{staticClass:"tips"},[t._v("\n            请在电脑端继续您的操作\n        ")])]:t._e(),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"file",id:"photo"},on:{change:t.uploadFacePic}})],2)},Ve=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tips"},[t._v("\n            请拍摄您的正脸照片"),n("br"),t._v("\n            以确保当前签署人的身份真实性\n        ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer"},[t._v("\n            若当前浏览器不支持拍照"),n("br"),t._v("\n            请使用本地相机现场拍摄您的正脸照片，然后上传\n        ")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"error-tip"},[n("i",{staticClass:"iconfont iconexclamationcircle failed"}),t._v("\n            比对结果：人脸匹配度较低\n        ")])}],Ge={data:function(){return{status:"init",imgSrc:""}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),computed:{},props:{activityId:"",contractId:""},methods:{uploadFacePic:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.target.files[0].type,n.match(/jpg|JPG|jpeg|JPEG|gif|GIF|png|PNG/i)){t.next=6;break}return this.$message("目前支持的图片类型为 .jpg,.jpeg,.png,.gif"),this.status="init",this.imgSrc="",t.abrupt("return");case 6:if(t.prev=6,a=document.getElementById("photo"),!a.files||!a.files[0]){t.next=18;break}return this.status="loading",t.next=12,this.$qUtils.compressImg(a.files[0],{outputType:"blob",quality:1,type:"png"});case 12:return i=t.sent,this.imgSrc=window.URL.createObjectURL(i),t.next=16,this.postMulti("",{file:i,requestData:JSON.stringify({type:"GET_FACESIGN_CHECK",data:{contractId:this.contractId,userId:this.$_qyssdk_userId,activityId:this.activityId,type:"face_sign"}})},{headers:{noMes:"true"}});case 16:s=t.sent,s.facePhotoKey?(this.status="success",this.$emit("setFacePhotoKey",s.facePhotoKey),this.$emit("componentClose")):this.status="failed";case 18:t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](6),console.log(t.t0);case 23:return t.prev=23,t.finish(23);case 25:case"end":return t.stop()}}),t,this,[[6,20,23,25]])})));function e(e){return t.apply(this,arguments)}return e}(),triggerUploadFacePic:function(){document.getElementById("photo").click()}}},Je=Ge,Ke=(n("8259"),Object(Z["a"])(Je,Be,Ve,!1,null,"4d092bd7",null)),Ze=Ke.exports,Ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("strong",{staticClass:"title"},[t._v("\n        "+t._s(t._f("title")(t.steps[t.index]))+"\n        "),n("i",{staticClass:"anticon icon-back fr icon-guanbi",staticStyle:{color:"#ccc"},on:{click:t.close}})]),n("div",{staticClass:"tips",domProps:{innerHTML:t._s(t.tip)}}),n("img",{directives:[{name:"hammer",rawName:"v-hammer:swipe.horizontal",value:t.swipe,expression:"swipe",arg:"swipe",modifiers:{horizontal:!0}}],attrs:{src:t.imgSrc}}),n("div",{staticStyle:{"text-align":"center"}},t._l(3,(function(e){return n("div",{staticClass:"circle",class:{selected:t.index+1==e}})})),0)])},Xe=[],Qe={filters:{title:function(t){switch(t){case 1:return"点击添加签名/签章";case 2:return"拖动签名位置";case 3:return"文档缩放查看";case 4:return"定位签署位置";case 5:return"一键完成签署"}}},props:{hasRectangles:Boolean},data:function(){return{index:0,steps:this.hasRectangles?[4,5,3]:[1,2,3]}},computed:{imgSrc:function(){return n("c21a")("./doc-helper".concat(this.steps[this.index],".png"))},tip:function(){switch(this.steps[this.index]){case 1:return'点击<i class="anticon blue-text split icon-sign1"></i><i class="anticon blue-text icon-seal1"></i>在文档中添加签名、印章';case 2:return"按住签名并拖动，可调整签名位置";case 3:return"支持手势缩放查看文档";case 4:return'点击 <i class="anticon blue-text icon-dingwei" style="font-size:16px;"></i> 定位文档的签名或签章位置';case 5:return'点击<span class="blue-text">【签名】</span>选择<span class="blue-text">【添加签名到所有位置】</span>'}}},methods:{close:function(){this.$parent.visible=!1},swipe:function(t){"swipeleft"==t.type&&this.index<2&&this.index++,"swiperight"==t.type&&this.index>0&&this.index--}}},tn=Qe,en=(n("22f0"),Object(Z["a"])(tn,Ye,Xe,!1,null,"454ccb70",null)),nn=en.exports,an=0,sn=function(t){t.touches.length>1&&t.preventDefault()},rn=function(t){var e=(new Date).getTime();e-an<=300&&t.preventDefault(),an=e},on={name:"PersonalSign",components:{smsPinGet:_e,contractList:Ie,selectSeal:We,faceAuth:Ze,createSignature:Re},data:function(){return{currentDocIndex:0,timeStamp:(new Date).getTime(),contractMes:{documents:[]},activeComponent:"",modifyAllRectangles:!1,stamperList:[],selectSealOptions:{},watchStampers:[],rectangles:[],lastScrollTop:0,nowPageNo:1,facePhotoKey:"",hammertime:"",resize:1,preScale:1,isScrolling:!1,scrollingStop:null,currentPageNo:1}},props:{contractId:{type:String},contact:{type:String}},watch:{stopScroll:function(t){this.$refs["page-list"].style["overflow"]=t?"hidden":"auto"},stamperList:{handler:function(){this.getRectangles()},deep:!0},"stamperList.length":function(){var t=this;this.watchStampers.map((function(t){t()})),this.watchStampers=[],Object.keys(this.stamperList).map((function(e){var n=t.$watch("stamperList.".concat(e),(function(e){e.docId===t.currentDoc.id&&"TIMESTAMP"!=e.sealType&&t.detectOverlap(e)}),{deep:!0}),a=t.$watch("stamperList.".concat(e),t.changeStamperDirection,{deep:!0,immediate:!0});t.watchStampers.push(n),t.watchStampers.push(a)}))}},computed:{needRealName:function(){var t=this,e=this.contractMes.signatories.find((function(e){return e.id===t.contractMes.signatoryId}))||{};return"REALNAME"==e.preAction},stopScroll:function(){return!!this.activeComponent},totalPageNo:function(){return this.currentDoc.$get("docimgs","length")||1},canNext:function(){return this.currentDocIndex!=this.contractMes.documents.length-1},canPre:function(){return 0!=this.currentDocIndex},currentDoc:function(){return this.contractMes.documents[this.currentDocIndex]||{docimgs:[]}},hasRectangles:function(){return this.contractMes.documents.some((function(t){return t.rectangles}))},canConfirmSign:function(){if(this.hasRectangles){var t=this.rectangles.some((function(t){return!t.hasSigned}));if(t)return!1}var e=this.stamperList.every((function(t){return"TIMESTAMP"==t.sealType}));return!e},canSign:function(){return"AUDIT"!=this.contractMes.actStep&&"CONFIG_FLOW"!=this.contractMes.actStep&&("REQUIRED"==this.contractMes.status||"INVALIDING"==this.contractMes.status)&&this.contractMes.signable},rectangleWithoutTimestamp:function(){return this.rectangles.filter((function(t){return"TIMESTAMP"!=t.rectType}))},currentRectangleIndex:function(){var t=this.rectangleWithoutTimestamp.findIndex((function(t){return t.isSelected}))+1;return t},currentPages:function(){var t=this,e=[];return this.currentDoc.docimgs.map((function(n){var a={};void 0===n.loaded&&t.$set(n,"loaded",!1),a.docimg=n;var i="".concat(t.configApi,"?").concat(encodeURI("requestData=".concat(JSON.stringify({type:"DOWNLOAD_DOCUMENT_IMAGE",data:{contractId:t.contractId,documentId:n.docId,userId:t.$_qyssdk_userId,page:n.pageNo,isThumb:!1}}),"&_=").concat(t.timeStamp).concat(function(){var t="";return Object.keys(window.qysQuery).forEach((function(e){t+="&".concat(e,"=").concat(window.qysQuery[e])})),t}())));a.imgObj={src:i,attempt:1};var s=t.$refs.doc.offsetWidth,r=s/n.width*n.height;a.size={widthMM:n.width,heightMM:n.height,widthPixel:s,heightPixel:r},a.style={width:"100%","min-width":s+"px","min-height":r+"px"},a.pageNo=n.pageNo,a.docId=n.docId,e.push(a)})),e},stamperListShow:function(){var t=this.$qUtils.deepClone(this.stamperList);return t.map((function(t){t.style={width:100*t.width+"%",height:100*t.height+"%",left:100*t.left+"%",top:100*t.top+"%"}})),t},sealList:function(){return this.contractMes.seals},unSignedDoc:function(){var t=[],e=this.stamperList.filter((function(t){return"TIMESTAMP"!=t.sealType}));return e.map((function(e){t.includes(e.docId)||t.push(e.docId)})),this.contractMes.documents.length-t.length},unSignedDocId:function(){var t=[],e=this.stamperList.filter((function(t){return"TIMESTAMP"!=t.sealType}));return e.map((function(e){t.includes(e.docId)||t.push(e.docId)})),this.contractMes.documents.find((function(e){return!t.includes(e.id)})).id}},created:function(){var t=this;this.scrollingStop=this.$qUtils.debounce((function(){t.isScrolling=!1}),500),this.init()},mounted:function(){var t=this;document.addEventListener("touchstart",sn,{passive:!1}),document.addEventListener("touchend",rn,{passive:!1}),this.hammertime=new Fe.a(this.$refs["page-list"],{touchAction:"pan-x pan-y"}),this.hammertime.get("pinch").set({enable:!0}),this.hammertime.on("pinchmove",(function(e){var n=.05,a=t.$refs["page-list"],i=t.$refs["pageNo"][t.nowPageNo-1].offsetTop-50;t.preScale>e.scale?t.resize>1&&(t.resize-=n,a.scrollTop=i+(t.resize-1)*(e.center.y-50),a.scrollLeft=(t.resize-1)*e.center.x):t.resize<3&&(t.resize+=n,a.scrollTop=i+(t.resize-1)*(e.center.y-50),a.scrollLeft=(t.resize-1)*e.center.x),t.preScale=e.scale,t.$nextTick((function(){t.stamperList.map((function(t){var e=document.querySelector("[data-popover=".concat(t.id,"]"));e&&(document.getElementById(t.id).click(),document.getElementById(t.id).click())}))})),e.preventDefault()})).on("pinchend",(function(e){t.preScale=1}))},beforeDestroy:function(){document.removeEventListener("touchstart",sn,{passive:!1}),document.removeEventListener("touchend",rn,{passive:!1})},methods:{showHelpModal:function(){var t=this.$createElement(nn,{props:{hasRectangles:this.hasRectangles}});this.$modal({visible:!1,showCancel:!1,showOk:!1,okfn:function(){},cancel:function(){},content:t})},setFacePhotoKey:function(t){this.facePhotoKey=t,this.signContract()},stamperSrc:function(t){return"".concat(this.configApi,"?").concat(encodeURI("requestData=".concat(JSON.stringify({type:"DOWNLOAD_SEAL",data:{contractId:this.contractId,userId:this.$_qyssdk_userId,datePattern:"HYPHEN",sealId:t}})).concat(function(){var t="";return Object.keys(window.qysQuery).forEach((function(e){t+="&".concat(e,"=").concat(window.qysQuery[e])})),t}())))},init:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$loading("正在加载文件，请稍候"),t.prev=1,t.next=4,this.postForm("",{requestData:JSON.stringify({type:"GET_CONTRACT",data:{contractId:this.contractId,userId:this.$_qyssdk_userId,simple:!1}})});case 4:if(n=t.sent,this.contractMes=n.result,!this.contractMes.viewNeedAuth||!this.needRealName){t.next=9;break}return this.$modal({visible:!1,showCancel:!1,okText:"确定",okfn:function(){},cancelFn:function(){},content:"您当前还是未认证用户，请继续完成实名认证，以便预览合同内容！"}),t.abrupt("return");case 9:if(this.canSign){t.next=11;break}return t.abrupt("return");case 11:this.getRectangles(),this.contractMes.documents.map((function(t){t.rectangles&&t.rectangles.map((function(t){"TIMESTAMP"==t.rectType&&a.addStamper(void 0,t)}))})),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](1),console.log(t.t0);case 18:return t.prev=18,e.close(),t.finish(18);case 21:case"end":return t.stop()}}),t,this,[[1,15,18,21]])})));function e(){return t.apply(this,arguments)}return e}(),guid:function(){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)}));return"stamper-".concat(t)},changeComponent:function(t){this.activeComponent=t},isRectShow:function(t,e){return t.pageNo==e.page&&t.docId==e.documentId},isStamperShow:function(t,e){return t.pageNo==e.pageNo&&t.docId==e.docId},scrollToPage:function(t){var e=this.$refs["pageNo"][t-1].offsetTop;this.$refs["page-list"].scrollTop=e},deleteStamper:function(t){var e=this.stamperList.findIndex((function(e){return t==e.id}));this.stamperList.splice(e,1)},chooseContract:function(t){var e=this;t===this.currentDocIndex&&1==this.nowPageNo||(this.currentDocIndex=t,this.nowPageNo=1,this.$nextTick((function(){0==e.currentDocIndex?e.$refs["page-list"].scrollTop=0:e.$refs["page-list"].scrollTop=50})))},preDoc:function(){var t=this;this.currentDocIndex--,this.nowPageNo=this.totalPageNo,this.$nextTick((function(){var e=t.$refs["page-list"];e.scrollTop=e.scrollHeight-e.offsetHeight}))},nextDoc:function(){var t=this;this.currentDocIndex++,this.nowPageNo=1,this.$nextTick((function(){t.$refs["page-list"].scrollTop=60}))},calcCurrentPageNo:function(t){var e=t.srcElement,n=e.scrollTop,a=n-this.lastScrollTop>0?"down":"up";this.lastScrollTop=n;var i=this.totalPageNo,s=[i-1];if(s.offsetTop+s.offsetHeight/2<n+e.offsetHeight)this.currentPageNo=i;else{var r=this.$refs["pageNo"],o=this.currentPageNo;if("down"==a){var c=r[o-1];while(c.offsetTop-.5*c.offsetHeight<n+10){if(this.currentPageNo=o,!(o<this.totalPageNo))break;o++,c=r[o-1]}}else{var l=r[o-1];while(l.offsetTop+.5*l.offsetHeight>n+10){if(this.currentPageNo=o,!(o>1))break;o--,l=r[o-1]}}}},scrollToRectangle:function(t){var e=this,n=this.contractMes.documents.findIndex((function(e){return t.documentId==e.id}));if(n!=this.currentDocIndex)return this.chooseContract(n),void this.$nextTick((function(){a.bind(e)(t)}));function a(t){if(document.getElementById(t.id)){var e=document.getElementById(t.id).offsetTop+this.$refs["pageNo"][t.page-1].offsetTop,n=this.$refs["page-list"].offsetHeight,a=e-n/2;this.$refs["page-list"].scrollTop=a>0?a:0}}a.bind(this)(t)},locateRectangle:function(){if(0===this.currentRectangleIndex)return this.rectangleWithoutTimestamp[0].isSelected=!0,void this.scrollToRectangle(this.rectangleWithoutTimestamp[0]);var t,e=this.rectangleWithoutTimestamp.findIndex((function(t){return t.isSelected}));this.rectangleWithoutTimestamp[e].isSelected=!1,t=e+1==this.rectangleWithoutTimestamp.length?this.rectangleWithoutTimestamp[0]:this.rectangleWithoutTimestamp[e+1],t.isSelected=!0,this.scrollToRectangle(t)},rectanglesAllOutSelect:function(){this.rectangles.map((function(t){t.isSelected=!1}))},changeSignature:function(t){var e=this.sealList.find((function(t){return"PERSONAL"==t.type}));e?e.id=t:this.sealList.push({type:"PERSONAL",id:t})},selectSeal:function(t){this.selectSealOptions.rectangle=t,this.selectSealOptions.modifyStamperId=null,0==this.sealList.length?this.changeComponent("createSignature"):1==this.sealList.length?this.addStamper(this.sealList[0],t):this.changeComponent("selectSeal")},reSelectSeal:function(t){this.selectSealOptions.modifyStamperId=t.id,1==this.sealList.length?this.changeComponent("createSignature"):this.changeComponent("selectSeal")},addStamper:function(t,e){var n=this;this.modifyAllRectangles?(this.rectangleWithoutTimestamp.map((function(e){if(e.hasSigned){var a=n.stamperList.find((function(t){return t.locationId==e.id}));n.modifyStamper(a.id,t)}else n.addSingleStamper(t,e)})),this.modifyAllRectangles=!1,this.$message("已将签名添加至所有指定位置！")):this.addSingleStamper(t,e)},componentClose:function(){this.modifyAllRectangles=!1,this.changeComponent("")},addSingleStamper:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:0,type:"TIMESTAMP"},e=arguments.length>1?arguments[1]:void 0,n=t.type;if(e||(e="TIMESTAMP"!==n&&this.rectangles.find((function(t){return!t.hasSigned}))||{id:null}),!1!==this.contractMes.extraSign||e.id){var a,i;switch(n){case"PERSONAL":i=.051,a=.179;break;case"PERSONALSEAL":i=t.spec.height/297,a=t.spec.width/210;break;case"TIMESTAMP":i=.025,a=.133;break}e.id||this.scrollToPage(this.nowPageNo),"TIMESTAMP"!=n&&e.id&&this.scrollToRectangle(e);var s=Math.random()/5-.1,r=Math.random()/5-.1;this.stamperList.push({pageNo:e.page||this.nowPageNo,docId:e.documentId||this.currentDoc.id,width:a,height:i,left:e.id?e.offsetX:s+(1-a)/2,top:e.id?1-e.offsetY-i:r+(1-i)/2,sealType:n,sealId:t.id,id:this.guid(),draging:!1,locationId:e.id})}else this.$message("不能在指定位置之外签署")},getRectangles:function(){var t=this,e=[];this.contractMes.documents.map((function(n){e=e.concat(t.$qUtils.deepClone(n.rectangles||[]))})),e.map((function(e){var n,a,i=t.stamperList.find((function(t){return t.locationId==e.id}));i?(e.hasSigned=!0,n=i.width,a=i.height):(e.hasSigned=!1,n=e.width,a=e.height),e.style={width:100*n+"%",height:100*a+"%",left:100*e.offsetX+"%",top:100*(1-e.offsetY-a)+"%"},e.isSelected=!1})),this.rectangles=e},rectangleSelect:function(t){var e=this.rectangles.find((function(e){return e.id==t.locationId}));e&&(e.isSelected=!0)},detectOverlap:function(t){var e=this,n=t.width+t.left,a=t.left,i=t.top,s=t.top+t.height,r=this.rectangles.find((function(r){if(r.hasSigned&&r.id!=t.locationId)return!1;if("TIMESTAMP"==r.rectType)return!1;if(r.documentId!==e.currentDoc.id)return!1;var o=r.width+r.offsetX,c=r.offsetX,l=1-r.offsetY-r.height,u=1-r.offsetY,p=t.width+r.width-(Math.max(n,o)-Math.min(a,c)),f=t.height+r.height-(Math.max(s,u)-Math.min(i,l));return t.pageNo==r.page&&p>0&&f>0&&p*f>.01*r.width*r.height}))||{id:""};t.locationId=r.id,r.id?t.draging?r.isSelected=!0:(r.isSelected=!1,t.left=r.offsetX,t.top=1-r.offsetY-t.height):this.rectanglesAllOutSelect()},changeStamperDirection:function(t){var e,n,a,i,s=this.contractMes.documents.find((function(e){return e.id==t.docId})),r=s.docimgs[t.pageNo-1];switch(r.width>r.height?(a=297,i=210):(a=210,i=297),t.sealType){case"PERSONAL":n=16/i,e=40/a;break;case"PERSONALSEAL":var o=this.sealList.find((function(e){return e.id==t.sealId}));n=o.spec.height/i,e=o.spec.width/a;break;case"TIMESTAMP":n=7.43/i,e=27.93/a;break}t.top=t.top+t.height-n,t.height=n,t.width=e},modifyStamper:function(t,e){var n,a,i=this.stamperList.find((function(e){return e.id==t})),s=e.type;switch(i.sealId=e.id,i.sealType=s,s){case"PERSONAL":a=.051,n=.179;break;case"PERSONALSEAL":a=e.spec.height/297,n=e.spec.width/210;break;case"TIMESTAMP":a=.025,n=.133;break}i.top=i.top+i.height-a,i.width=n,i.height=a},confirmSignValidate:function(){var t=this;this.$modal({visible:!1,showCancel:!0,cancelText:"忽略",okText:"立即前往",okfn:function(){var e=t.contractMes.documents.findIndex((function(e){return e.id==t.unSignedDocId}));t.chooseContract(e)},cancelFn:function(){t.chooseSignMethod()},content:"<div>\n                    仍有".concat(this.unSignedDoc,"个文件未签署，是否前往签署?\n                </div>")})},chooseSignMethod:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.contractMes.signNeedFace){t.next=6;break}return t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_FACESIGN_KEY",data:{contractId:this.contractId,userId:this.$_qyssdk_userId,activityId:this.contractMes.activityId}})});case 3:return e=t.sent,e.facePhotoKey?(this.facePhotoKey=e.facePhotoKey,console.log(e.facePhotoKey),console.log(e),this.signContract()):this.changeComponent("faceAuth"),t.abrupt("return");case 6:this.changeComponent("smsPinGet");case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),confirmSign:function(){if(this.hasRectangles){var t=this.rectangles.filter((function(t){return!t.hasSigned}));if(t.length)return void this.$message("您还有".concat(t.length,"处未签署"))}var e=this.stamperList.every((function(t){return"TIMESTAMP"==t.sealType}));if(e)return this.$message("您的合同尚未添加签名"),!1;!this.unSignedDoc||this.hasRectangles||this.contractMes.extraSign?this.chooseSignMethod():this.confirmSignValidate()},hideDragStamperHelper:function(){var t=this;this.stamperList.map((function(e){t.popoverHidden("drag-".concat(e.id))}))},popoverTrigger:function(t,e){var n=this.$refs[t];n&&("[object Array]"===Object.prototype.toString.call(n)?this.$refs[t].map((function(t){t.visible=e})):this.$refs[t].visible=e)},popoverShow:function(t){this.popoverTrigger(t,!0)},popoverHidden:function(t){this.popoverTrigger(t,!1)},signContract:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=this.$loading("正在签署，请稍候..."),a=[],i=this.$qUtils.deepClone(this.stamperList),i.map((function(t){var e=a.findIndex((function(e){return e.documentId==t.docId}));-1==e&&(a.push({documentId:t.docId,stampers:[]}),e=a.length-1);var n={};n={page:t.pageNo,width:t.width,height:t.height,offsetX:t.left,offsetY:1-t.top-t.height,sealType:t.sealType,sealId:t.sealId},t.locationId&&(n.locationId=t.locationId),a[e].stampers.push(n)})),t.prev=4,t.next=7,this.postForm("",{requestData:JSON.stringify({type:"SIGN_CONTRACT",data:{contractId:this.contractId,userId:this.$_qyssdk_userId,activityId:this.contractMes.activityId,signDocs:a,pin:e,facePhotoKey:this.facePhotoKey}})});case 7:t.sent,s=this.$options.data(),this.contractMes=s["contractMes"],this.stamperList=s["stamperList"],this.currentDocIndex=s["currentDocIndex"],this.timeStamp=s["timeStamp"],this.init(),this.$_qyssdk_options&&this.$_qyssdk_options.signSuccessCb&&this.$_qyssdk_options.signSuccessCb(),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](4),console.log(t.t0);case 20:return t.prev=20,n.close(),t.finish(20);case 23:case"end":return t.stop()}}),t,this,[[4,17,20,23]])})));function e(e){return t.apply(this,arguments)}return e}()},directives:{drag:{inserted:function(t,e,n){var a=t,i=e.value.location,s=(e.value.locations,e.value.rectangles),r=e.value.hideDragStamperHelper;if(e.value.canDrag){if(i.locationId){var o=s.find((function(t){return"ACROSS_PAGE"==t.rectType&&i.locationId==t.id}));if(o)return}i.locationId&&"TIMESTAMP"==i.sealType?a.ontouchstart=function(t){t.preventDefault()}:a.ontouchstart=function(t){a.parentNode.parentNode.parentNode.style["overflow"]="hidden";var e=t.touches[0],n=e.clientX-a.offsetLeft,s=e.clientY-a.offsetTop;a.ontouchmove=function(t){i.draging=!0;var e=t.touches[0],r=e.clientX-n,o=e.clientY-s;r<0&&(r=0);var c=a.parentNode.parentNode.offsetWidth;r+a.offsetWidth>c&&(r=c-a.offsetWidth);var l=a.parentNode.parentNode.offsetTop-a.parentNode.offsetTop;o<l&&(o=l);var u=a.parentNode.parentNode.offsetTop+a.parentNode.parentNode.offsetHeight-a.parentNode.offsetTop-a.offsetHeight;o>u&&(o=u),r/=a.parentNode.offsetWidth,o/=a.parentNode.offsetHeight,i.left=r,i.top=o},a.ontouchend=function(t){r(),setTimeout((function(){var t=!document.querySelector("[data-popover=".concat(i.id,"]"));t&&document.getElementById(i.id).click()}),100),a.parentNode.parentNode.parentNode.style["overflow"]="auto",i.draging=!1,a.onmousemove=null,a.onmouseup=null;var e,n=i.top,s=i.height,o=0,c=5,l=c/a.parentNode.offsetHeight;if(n>1)o=n-1,e=Math.ceil(o+i.pageNo);else if(n<0){if(n>-l/2)return void(i.top=0);n<-l/2&&(o=n,e=Math.floor(o+i.pageNo))}else{if(!(n+s>1))return;if(n+s<=1+l/2)return void(i.top=1-s);n+s>1+l/2&&(i.top=1+l,e=Math.floor(1+i.pageNo))}i.top=i.top-(e-i.pageNo)-l*(e-i.pageNo),(i.top<0||-0==i.top)&&(i.top=0),i.top+s>1&&(i.top=1-s),i.pageNo=e}}}}}}},cn=on,ln=(n("9ab5"),n("ee28"),Object(Z["a"])(cn,de,he,!1,null,"27d66458",null)),un=ln.exports,pn=new u["default"];function fn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fn(Object(n),!0).forEach((function(e){Object(ze["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var hn,mn,vn=6,yn={left:[-1,0],right:[1,0],top:[0,1],bottom:[0,-1]},gn={name:"Popover",render:function(t){if(this.visible)return t("div",{class:this.className,style:this.style,attrs:{"data-popover":this.name},on:{click:function(t){t.stopPropagation()}},ref:"dropdown"},this.$slots.default)},props:{name:{type:String,required:!0},width:{type:Number,default:180},pointer:{type:Boolean,default:!0},event:{type:String,default:"click"},anchor:{type:Number,default:.5,validator:function(t){return t>=0&&t<=1}}},data:function(){return{visible:!1,positionClass:"",position:{left:0,top:0}}},mounted:function(){pn.$on(this.showEventName,this.showEventListener),pn.$on(this.hideEventName,this.hideEventListener)},beforeDestroy:function(){pn.$off(this.showEventName,this.showEventListener),pn.$off(this.hideEventName,this.hideEventListener)},computed:{showEventName:function(){return"show:".concat(this.event)},hideEventName:function(){return"hide:".concat(this.event)},className:function(){return["vue-popover",this.pointer&&this.positionClass]},style:function(){return dn({width:"".concat(this.width,"px")},this.position)}},methods:{showEventListener:function(t){var e=this;this.visible?pn.$emit(this.hideEventName):this.$nextTick((function(){var n=t.target,a=t.name,i=t.position;if(a===e.name){var s=yn[i];e.positionClass="dropdown-position-".concat(i),e.visible=!0,e.$nextTick((function(){e.$emit("show",t),e.$nextTick((function(){var t=e.getDropdownPosition(n,e.$refs.dropdown,s);e.position={left:"".concat(t.left,"px"),top:"".concat(t.top,"px")}}))}))}}))},hideEventListener:function(t){this.visible&&(this.visible=!1,this.$emit("hide",t))},getDropdownPosition:function(t,e,n){var a=t.getBoundingClientRect(),i=e.getBoundingClientRect(),s=t.offsetLeft,r=t.offsetTop,o=.5*(i.height+a.height),c=s-.5*(i.width-a.width),l=r+a.height-o,u=.5*n[0]*(i.width+a.width),p=n[1]*o;return this.pointer&&(u+=n[0]*vn,p+=n[1]*vn),{left:c+u,top:l-p}}}},bn=gn,_n=(n("97449"),Object(Z["a"])(bn,hn,mn,!1,null,null,null)),Sn=_n.exports,wn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("popover",{attrs:{name:"tooltip",pointer:t.pointer,width:t.width,event:t.event},on:{show:function(e){t.value=e.value}}},[t._v("\n  "+t._s(t.value)+"\n")])},Cn=[],xn={name:"Tooltip",props:{event:{type:String,default:"hover"},pointer:{type:Boolean,default:!1},width:{type:Number,default:160}},data:function(){return{value:""}}},kn=xn,In=Object(Z["a"])(kn,wn,Cn,!1,null,null,null),An=In.exports;function Nn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nn(Object(n),!0).forEach((function(e){Object(ze["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Tn="bottom",On=function(t){var e=t.arg,n=void 0===e?"":e,i=t.modifiers,s=void 0===i?{}:i,r=t.value,o=void 0===r?{}:r,c=Object.keys(s),l="object"===Object(a["a"])(o)&&o.name?o.name:n,u=c[0]||o.position||Tn;return{name:l,position:u,value:o}},$n=function(t,e){var n=function(n){pn.$emit("show:click",zn({},e,{target:t,srcEvent:n}));var a=function n(a){pn.$emit("hide:click",zn({},e,{target:t,srcEvent:a})),document.removeEventListener("click",n)};document.addEventListener("click",a),n.stopPropagation()};t.addEventListener("click",n),t.$popoverRemoveClickHandlers=function(){t.removeEventListener("click",n)}},En=function(t,e){var n=function(n){pn.$emit("show:hover",zn({},e,{target:t,srcEvent:n}))},a=function(n){pn.$emit("hide:hover",zn({},e,{target:t,srcEvent:n}))};t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",a),t.$popoverRemoveHoverHandlers=function(){t.removeEventListener("mouseenter",n),t.removeEventListener("mouseleave",a)}},Mn={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};document.addEventListener("resize",(function(t){pn.$emit("hide",{srcEvent:t})})),t.component("Popover",Sn),t.directive("popover",{bind:function(t,e){var n=On(e);$n(t,n),En(t,n)},unbind:function(t,e){t.$popoverRemoveHoverHandlers(),t.$popoverRemoveClickHandlers()}}),e.tooltip&&(e.debug&&console.log("vue-js-popover | tooltip active"),t.component("Tooltip",An))}},Dn=n("caf9"),Rn=n("6591"),Pn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n(t.status,{tag:"component",attrs:{mode:t.mode,status:t.status,user:t.user,auth:t.auth,successPage:t.successPage,step:t.step,otherModes:t.otherModes,channel:t.channel,canEditBankPhone:t.canEditBankPhone,staticInfo:t.staticInfo,modifyFieldList:t.modifyFieldList,reverifyCert:t.reverifyCert,accountPrecheck:t.accountPrecheck},on:{"update:status":function(e){t.status=e},updateStep:t.getUserInfo,goPersonalSign:t.goPersonalSign,refetchUserInfo:t.refetchUserInfo,reVerify:t.reVerify}})],1)},qn=[],jn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"outerWrapper",staticClass:"auth-graphic-code",on:{touchmove:function(t){t.preventDefault()},click:function(e){t.maskClose&&t.close}}},[n("div",{staticClass:"code-content"},[n("div",{staticClass:"h2-title title"},[t._v(t._s(t.title))]),n("div",{staticClass:"graphic"},[n("img",{staticClass:"graphic-img",attrs:{src:t.captchaSrc}}),n("div",{staticClass:"main-word link-color refresh-btn",on:{click:t.refreshCaptcha}},[n("q-icon",{staticClass:"reload-icon",attrs:{icon:"reload"}}),n("span",[t._v("换一张")])],1)]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],ref:"codeIpt",staticClass:"code-input",attrs:{placeholder:"请输入图形验证码"},domProps:{value:t.code},on:{focus:function(e){t.isCanScroll=!1},blur:function(e){t.code=t.code.replace(/\s/g,""),t.isCanScroll=!0},input:function(e){e.target.composing||(t.code=e.target.value)}}}),n("div",{staticClass:"footer"},[n("button",{staticClass:"btn cancel-btn",on:{click:t.close}},[n("span",{staticClass:"middle-center"},[t._v("取消")])]),n("button",{staticClass:"btn sure-btn",class:{"is-active":t.code},on:{click:function(e){t.code&&t.getCode()}}},[n("span",{staticClass:"middle-center"},[t._v("确定")])])])])])},Fn=[],Un={name:"AuthGraphicCode",props:{title:{type:String,default:""},maskClose:{type:Boolean,default:!1}},data:function(){return{captchaToken:"",timeStamp:(new Date).getTime(),code:"",isCanScroll:!1}},computed:{captchaSrc:function(){var t={type:"DOWNLOAD_AUTH_CAPTCHA",data:{userId:this.$_qyssdk_userId,captchaToken:this.captchaToken,type:this.$_qyssdk_options.callType}},e=function(){var t="";return Object.keys(window.qysQuery).forEach((function(e){t+="&".concat(e,"=").concat(window.qysQuery[e])})),t}();return"".concat(this.configApi,"?").concat(encodeURI("requestData=".concat(JSON.stringify(t)).concat(e)),"&timeStamp=").concat(this.timeStamp)}},watch:{isCanScroll:function(t){var e=this;t&&this.$nextTick((function(){e.$refs.outerWrapper.scrollIntoView()}))}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.captchaPrepare();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{captchaPrepare:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_CAPTCHA_INIT",data:{userId:this.$_qyssdk_userId}})});case 2:e=t.sent,this.captchaToken=e.result;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),refreshCaptcha:function(){this.timeStamp=(new Date).getTime()},close:function(){this.$destroy(!0);var t=this.$el;t.parentNode.removeChild(t)},getCode:function(){this.$emit("getCode",this.code,this.captchaToken),this.close()}}},Ln=Un,Hn=(n("9197"),Object(Z["a"])(Ln,jn,Fn,!1,null,"426ea726",null)),Wn=Hn.exports,Bn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"outerWrapper",staticClass:"info-wrapper"},[t.idCardImg?t._e():n("auth-subheader",{attrs:{account:t.user.mobile}}),t.idCardImg?n("div",{staticClass:"card-con"},[n("img",{staticClass:"card-img",attrs:{src:t.idCardImg}}),n("span",{staticClass:"tip-large"},[t._v("信息识别有误？直接在下方修改 或\n            "),n("span",{staticClass:"tip-large link-color",on:{click:t.chooseIdCard}},[t._v("重新上传")])])]):t._e(),n("div",{staticClass:"content-wrapper"},[t.idCardImg?n("div",{staticClass:"h3-title title-color title"},[t._v("识别结果")]):t._e(),n("div",{staticClass:"form-item"},[n("div",{staticClass:"input-wrap",class:"ui-input-"+t.info.username.status},[n("ui-textbox",{ref:"username",attrs:{"floating-label":"",id:"username",label:"姓名",iconPosition:"right",disabled:t.isUsernameDisabled,enforceMaxlength:!0,maxlength:50},on:{focus:t.inpFocus,blur:function(e){t.checkData("username"),t.handleIosScroll()}},model:{value:t.info.username.value,callback:function(e){t.$set(t.info.username,"value",e)},expression:"info.username.value"}},[t.info.username.value&&t.$refs.$get("username","isActive")?n("q-icon",{staticClass:"clear-icon",attrs:{slot:"icon",icon:"close-circle-fill"},on:{touchstart:function(e){t.info.username.value=""}},slot:"icon"}):t._e()],1)],1),t.info.username.status?n("span",{staticClass:"ui-textbox-tips",class:t.info.username.status+"-tips"},[t._v(t._s(t.info.username.message))]):t._e()]),t.idCardImg?t._e():n("div",{staticClass:"form-item",on:{click:function(e){!(t.isAbortCardDisabled&&t.isIdCard||!t.hasManual)&&(t.cardTypeVisible=!0)}}},[n("div",{staticClass:"input-wrap",class:"ui-input-"+t.info.paperType.status},[n("ui-textbox",{ref:"paperType",attrs:{"floating-label":"",id:"paperType",label:"证件类型",iconPosition:"right",readonly:!0,disabled:t.isAbortCardDisabled&&t.isIdCard||!t.hasManual},model:{value:t.info.paperType.label,callback:function(e){t.$set(t.info.paperType,"label",e)},expression:"info.paperType.label"}},[n("q-icon",{staticClass:"caret-down-icon",staticStyle:{"font-size":"18px"},attrs:{slot:"icon",icon:"caret-down"},slot:"icon"})],1)],1),t.info.paperType.status?n("span",{staticClass:"ui-textbox-tips",class:t.info.paperType.status+"-tips"},[t._v(t._s(t.info.paperType.message))]):t._e()]),n("div",{staticClass:"form-item"},[n("div",{staticClass:"input-wrap",class:"ui-input-"+t.info.cardNo.status},[n("ui-textbox",{ref:"cardNo",attrs:{"floating-label":"",id:"cardNo",label:"证件号",iconPosition:"right",disabled:t.isAbortCardDisabled},on:{focus:t.inpFocus,blur:function(e){t.checkData("cardNo"),t.handleIosScroll()},keydown:t.syncCardNo},model:{value:t.cardNoShow,callback:function(e){t.cardNoShow=e},expression:"cardNoShow"}},["IDCARD"!==t.info.paperType.value||t.idCardImg?t._e():n("q-icon",{staticClass:"idcard-icon",attrs:{slot:"icon",icon:"photorecognition"},on:{click:function(e){!t.isAbortCardDisabled&&t.chooseIdCard()}},slot:"icon"}),t.info.cardNo.value&&t.$refs.$get("cardNo","isActive")?n("q-icon",{directives:[{name:"show",rawName:"v-show",value:t.idCardImg,expression:"idCardImg"}],staticClass:"clear-icon",attrs:{slot:"icon",icon:"close-circle-fill"},on:{touchstart:function(e){t.info.cardNo.value=""}},slot:"icon"}):t._e()],1)],1),t.info.cardNo.status?n("span",{staticClass:"ui-textbox-tips",class:t.info.cardNo.status+"-tips"},[t._v(t._s(t.info.cardNo.message))]):t._e()]),n("div",{staticClass:"privacy-protocol"},[n("auth-checkbox",{staticStyle:{"font-size":"15px"},attrs:{checked:t.agreeChecked},on:{"update:checked":function(e){t.agreeChecked=e}}},[n("span",{staticClass:"main-word disable-color",staticStyle:{"margin-left":"3px"}},[t._v("我已阅读并同意")])]),n("span",{staticClass:"main-word link-color",on:{click:t.viewPrivacy}},[t._v("《隐私保护协议》")])],1),n("auth-button",{staticClass:"next-step-btn",attrs:{type:"primary",disabled:t.isDisabled,debounce:200},on:{click:t.nextStep}},[t._v("下一步")])],1),t.cardTypeVisible?n("mt-popup",{staticClass:"select-popup",attrs:{position:"bottom"},model:{value:t.cardTypeVisible,callback:function(e){t.cardTypeVisible=e},expression:"cardTypeVisible"}},[t._l(t.types,(function(e){return n("div",{key:e.value,staticClass:"type-item h3-title regular-color",class:{"is-active":t.info.paperType.value===e.value},on:{click:function(n){return t.selectType(e)}}},[t._v("\n            "+t._s(e.label)+"\n        ")])})),n("auth-button",{staticClass:"cancel-select-btn h3-title link-color",attrs:{type:"unfill"},on:{click:t.closeSelect}},[t._v("取消")])],2):t._e()],1)},Vn=[],Gn=(n("14b9"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"header",on:{click:t.close}},[n("div",{staticClass:"header-text h2-title"}),n("div",{staticClass:"right-icon-wrapper"},[n("q-icon",{attrs:{icon:"close1"}})],1)]),t._m(0)])}),Jn=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",[n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("版本发布日期：2019年")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("10")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("月")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("10")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("日")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("版本生效日期：2019年")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("10")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("月")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("10")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("日")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("尊敬的用户，上海亘岩网络科技有限公司（以下简称“契约锁”")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("或“我们”")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("）重视您的隐私")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("安全，")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("当")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("您在使用")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人身份认证服务")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("时，契约锁将按照《隐私安全保护协议》（以下简称")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("“本协议”）收集、使用")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("及管理")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("您")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("。")]),n("span",{staticStyle:{"background-color":"#ffffff",color:"#191f25","font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("为了确保您的")]),n("span",{staticStyle:{"background-color":"#ffffff",color:"#191f25","font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"background-color":"#ffffff",color:"#191f25","font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("被合法、合理、适度的收集，并在安全、可控的情况下传输和使用，")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("特制定")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("本协议，")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("约定契约锁对您提交信息的管理规则。")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("请您仔细阅读本协议并")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("确保理解全部内容，")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("阅读过程中，如您有任何疑问，")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("可联系契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("客服（服务热线：")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("400-")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("805")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("-6850")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("）")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("。")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("本协议中与您的权益存在重大关系的条款，将使用粗体")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("加下划线")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("标注以提示您注意。您通过网络页面或其他形式点击确认同意本协议，即代表您已")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("充分理解本协议的所有条款，并同意契约锁将按照本协议来收集、使用及")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("管理您的相关信息。")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("本协议")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("将帮助您了解以下内容：")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("一、")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们如何收集和使用您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("二、")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("如何使用Cookie技术")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("三、")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("如何")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("共享、转让和公开披露您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("四")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("、")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("如何")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("保护您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("五")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("、")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("您的权利")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("六、我们如何处理儿童的个人信息")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("七")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("、")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("如何在全球范围转移")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("八、除外责任")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("九、")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("本协议如何更新")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("十")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("、如何联系契约锁")])]),n("h1",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"5pt 0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("一、")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("我们如何收集和使用您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("个人信息")])]),n("ol",{staticStyle:{margin:"0pt","padding-left":"0pt"},attrs:{type:"1"}},[n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","line-height":"22.5pt",margin:"0pt 0pt 0pt 13.69pt","padding-left":"7.31pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("为了向您及为您提供产品及服务的商户提供个人身份认证服务，需要将您在进行个人身份认证过程中填写的信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("，")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("例如")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","text-decoration":"underline"}},[t._v("姓名、证件类型、证件号码、手机号码或邮箱")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("提供给契约锁，同时为了准确核验您的身份真实性，尽量防止您的身份被冒用，契约锁将")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","text-decoration":"underline"}},[t._v("根据不同的认证方式按需收集您的人脸照片、证件照片、手持证件照片、银行卡号、银行预留手机号等信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("。")])]),n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","line-height":"22.5pt",margin:"0pt 0pt 0pt 13.69pt","padding-left":"7.31pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("为准确验证")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("您的个人真实")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("身份，")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("需将")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("您提交的以上")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("认证")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("信息提供给合法存有您")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人身份")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("的第三方机构进行比对核验")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("。")])]),n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","line-height":"22.5pt",margin:"0pt 0pt 0pt 13.69pt","padding-left":"7.31pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("为")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("了便于为您提供产品或服务的商户评估是否向您提供产品或服务，契约锁将会")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("把您的认证信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("提供给商户。")])]),n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","line-height":"22.5pt",margin:"0pt 0pt 0pt 13.69pt","padding-left":"7.31pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("另外，")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("当您使用")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("服务时，为了维护服务的安全稳定运行，")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("会收集以下信息，包括您的设备型号、操作系统、唯一设备标识符、登录IP地址、接入网络的方式、类型和状态、网络质量数据、与")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁服务有关的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("操作日志及服务日志")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("、")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("相关的信息地理位置信息。")])]),n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","line-height":"22.5pt",margin:"0pt 0pt 0pt 13.69pt","padding-left":"7.31pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们将信息用于本政策未载明的其他用途，或者将基于特定目的收集而来的信息用于其他目的时，会事先征求您的同意。")])]),n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","line-height":"22.5pt",margin:"0pt 0pt 0pt 13.69pt","padding-left":"7.31pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("根据相关法律法规规定，以下情形中收集您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("无需征得您的授权同意")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("：")])])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("1)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("与国家安全、国防安全有关的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("2)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("与公共安全、公共卫生、重大公共利益有关的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("3)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("与犯罪侦查、起诉、审判和判决执行等有关的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("4)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("出于维护")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("主体或其他个人的生命、财产等重大合法权益但又很难得到您本人同意的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("5)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("所收集的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("是您自行向社会公众公开的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("6)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("从合法公开披露的信息中收集")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("的，如合法的新闻报道、政府信息公开等渠道")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("7)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("根据您的要求签订合同所必需的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("8)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("用于维护所提供的产品或服务的安全稳定运行所必需的，例如发现、处置产品或服务的故障")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("9)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("法律法规规定的其他情形")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("10)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("    ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("如我们停止运营")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("产品或服务，我们将及时停止继续收集")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("您")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("的活动，将停止运营的通知以逐一告知或公告的形式通知您，")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("对所持有的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("进行删除或匿名化处理。")])]),n("ol",{staticStyle:{margin:"0pt","padding-left":"0pt"},attrs:{start:"7",type:"1"}},[n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","line-height":"22.5pt",margin:"0pt 0pt 0pt 13.69pt","padding-left":"7.31pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("为了遵守国家法律法规，以及向您提供服务及提升服务质量，契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("还")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("会在以下情形中使用您的信息：")])])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("1)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁会根据本")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("协议")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("的约定并为实现契约锁的服务或功能对所收集的您提交的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人身份")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("信息进行使用；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("2)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("为了使您知晓使用")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人身份认证服务")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("的状态，契约锁会向您")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("或为您提供产品的商户发送服务提醒；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("3)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("为了保障服务的稳定性与安全性，契约锁会将您的信息用于身份验证、安全防范、存档和备份用途；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("4)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁会对您的信息进行综合统计，以便为您提供更加准确、便捷的服务，或帮助契约锁评估、改善")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("产品")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("功能设计；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("5)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("在收集")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("后，契约锁在通过技术手段对您的信息数据进行去标识化处理后，该等去标识化的信息将无法识别信息主体，有权在不经您同")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("意的情况下直接使用，有权对用户数据库进行分析并予以商业化的利用；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("6)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("当契约锁展示您的信息时，契约锁会采用包括内容替换、匿名化处理方式对您的信息进行脱敏，以保护您的信息安全。")])]),n("h1",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"5pt 0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("二、我们")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("如何")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("使用")]),n("span",{staticStyle:{"font-family":"宋体","font-size":"15pt","font-weight":"bold"}},[t._v("Cookie")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("技术")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("为")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("了让您获得")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("轻松的访问体验，我们会在您的计算机或移动设备上存储名为")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("Cookie的小数据文件。Cookie通常包含标识符、站点名称以及一些号码和字符。我们不会在Cookie里面存储与个人身份或隐私相关的信息。")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("您可根据自己的偏好管理或删除")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("Cookie")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("，如果浏览器自动接收Cookie，您可以根据自己的需要修改浏览器的设置以拒绝Cookie。请注意，如果您选择拒绝Cookie，")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("则需要在每一次访问我们的网站时更改用户设置")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("。")])]),n("h1",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"5pt 0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("三")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("、我们如何共享、转让和公开披露您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("个人信息")])]),n("ol",{staticStyle:{margin:"0pt","padding-left":"0pt"},attrs:{type:"1"}},[n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","line-height":"22.5pt",margin:"0pt 0pt 0pt 14.47pt","padding-left":"6.53pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold"}},[t._v("共享")])])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"16.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们不会与")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("以外的公司、组织和个人共享您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("，但以下情况除外")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("：")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"16.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("1)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("在获取明确同意的情况下共享")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("：")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("获得您的明确同意后，我们会与其他方共享您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("。")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"16.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("2)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("在法定情形下的共享")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("：")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们可能会根据法律法规规定，或按行政、司法机关依法提出的强制性要求，对外共享您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("。")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"16.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("3)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("与授权合作伙伴共享")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("：")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","text-decoration":"underline"}},[t._v("仅为实现本隐私政策中声明的目的，我们的某些服务将由我们和授权合作伙伴共同提供。我们会根据法律法规与合作伙伴共享您的某些")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","text-decoration":"underline"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","text-decoration":"underline"}},[t._v("。")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("例如，您的个人身份信息传输至电子认证服务机构(CA,CertificateAuthority)或个人身份信息及签约合同信息传输至公证处，由CA以出具数字证书之目的或公证处以出具公证文件之目的使用并保存。我们仅会出于合法、正当、必要、特定、明确的目的共享您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("，并且只会共享提供服务所必要的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("。")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","text-decoration":"underline"}},[t._v("我们的合作伙伴无权将共享的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","text-decoration":"underline"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","text-decoration":"underline"}},[t._v("用于与产品或服务无关的其他用途。")])]),n("ol",{staticStyle:{margin:"0pt","padding-left":"0pt"},attrs:{start:"2",type:"1"}},[n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","line-height":"16.5pt",margin:"0pt 0pt 0pt 14.47pt","padding-left":"6.53pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold"}},[t._v("转让")])])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"16.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们不会将您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("转让给任何公司、组织和个人，但以下情况除外")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("：")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"16.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("1)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("在获取明确同意的情况下转让")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("：")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("获得您的明确同意后，我们会向其他方转让您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"16.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("2)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("在")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("发生合并、收购或破产清算情形，或其他涉及合并、收购或破产清算情形时，如涉及到")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("转让，我们会要求新的持有您")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("的公司、组织继续受本政策的约束，否则我们将要求该公司、组织和个人重新向您征求授权同意。")])]),n("ol",{staticStyle:{margin:"0pt","padding-left":"0pt"},attrs:{start:"3",type:"1"}},[n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","line-height":"16.5pt",margin:"0pt 0pt 0pt 14.47pt","padding-left":"6.53pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold"}},[t._v("公开披露")])])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"16.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们仅会在以下情况下，公开披露您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("：")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"16.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("1)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("获得您明确同意或基于您的主动选择，我们可能会公开披露您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"16.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("2)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("在法律、法律程序、诉讼或政府主管部门强制性要求的情况下，我们可能会公开披露您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("。执法机关提出披露要求，我们会及时通知您，除非执法机关另有禁止披露的要求。")])]),n("ol",{staticStyle:{margin:"0pt","padding-left":"0pt"},attrs:{start:"4",type:"1"}},[n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","line-height":"16.5pt",margin:"0pt 0pt 0pt 14.47pt","padding-left":"6.53pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold"}},[t._v("共享、转让、公开披露")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold"}},[t._v("时事先征得授权同意的例外")])])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"16.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("以下情形中，共享、转让、公开披露您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("无需事先征得您的授权同意")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("：")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"16.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("1)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("与国家安全、国防安全有关的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"16.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("2)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("与公共安全、公共卫生、重大公共利益有关的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"16.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("3)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("与犯罪侦查、起诉、审判和判决执行等有关的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"16.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("4)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("您自行向社会公众公开的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"16.5pt",margin:"0pt 0pt 0pt 42pt","text-indent":"-21pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("5)")]),n("span",{staticStyle:{font:"7.0pt 'Times New Roman'"}},[t._v("        ")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("从合法公开披露的信息中收集")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("的，如合法的新闻报道、政府信息公开等渠道。根据法律规定，共享、转让经去标识化处理的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("，且确保数据接收方无法复原并重新识别")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("主体的，不属于")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("的对外共享、转让及公开披露行为，对此类数据的保存及处理将无需另行向您通知并征得您的同意。")])]),n("h1",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"5pt 0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("四")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("、我们如何保护您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("个人信息")])]),n("ol",{staticStyle:{margin:"0pt","padding-left":"0pt"},attrs:{type:"1"}},[n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","line-height":"16.5pt",margin:"0pt 0pt 0pt 13.69pt","padding-left":"7.31pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们已采取符合业界标准的安全防护措施保护您提供的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("安全，防止")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("遭到未经授权访问、公开披露、使用、修改、损坏或丢失。例如，在您的浏览器与服务器之间交换数据时受SSL(SecureSocketLayer)协议加密保护")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们同时对")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁服务")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("提供HTTPS(HyperTextTransferProtocoloverSecureSocketLayer)协议安全浏览方式")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们会使用加密技术提高")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("的安全性")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们会使用受信赖的保护机制防止")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("遭到恶意攻击")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们会部署访问控制机制，确保只有授权人员才可访问")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("以及我们会举办安全和隐私保护培训课程，加强员工对于保护")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("重要性的认识。")])]),n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","line-height":"16.5pt",margin:"0pt 0pt 0pt 13.69pt","padding-left":"7.31pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们已经取得以下认证")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("：")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("信息系统安全等级保护三级认证、ISO27001")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("：")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("2013信息安全认证。")])]),n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","line-height":"16.5pt",margin:"0pt 0pt 0pt 13.69pt","padding-left":"7.31pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们会采取合理可行的措施，避免收集无关的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("。")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","text-decoration":"underline"}},[t._v("我们只会在达成本政策所述目的所需的期限内保留您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","text-decoration":"underline"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","text-decoration":"underline"}},[t._v("，除非需要延长保留期或受到法律的允许。")])]),n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","line-height":"16.5pt",margin:"0pt 0pt 0pt 13.69pt","padding-left":"7.31pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("互联网并非绝对安全的环境，")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","text-decoration":"underline"}},[t._v("我们强烈建议您不要使用非")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","text-decoration":"underline"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","text-decoration":"underline"}},[t._v("推荐的通信方式发送")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","text-decoration":"underline"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt","font-weight":"bold","text-decoration":"underline"}},[t._v("。")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("请您妥善保护自己的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("，仅在必要的情形下向他人提供。如您发现自己的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("尤其是您的账户或密码发生泄露，请您立即")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("联系契约锁客服")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("，以便我们根据您的申请采取相应措施。")])]),n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","line-height":"16.5pt",margin:"0pt 0pt 0pt 13.69pt","padding-left":"7.31pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("请使用复杂密码，协助我们保证您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("数据")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("安全。我们将尽力保障您发送给我们的任何信息的安全性。如果我们的物理、技术或管理防护设施遭到破坏，导致信息被非授权访问、公开披露、篡改或毁坏，导致您的合法权益受损，我们将承担相应的法律责任。")])]),n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","line-height":"16.5pt",margin:"0pt 0pt 0pt 13.69pt","padding-left":"7.31pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("在不幸发生")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("安全事件后，我们将按照法律法规的要求及时向您告知")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("：")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("安全事件的基本情况和可能的影响、我们已采取或将要采取的处置措施、您可自主防范和降低风险的建议、对您的补救措施等。事件相关情况我们将以邮件、信函、电话或推送通知等方式告知您，难以逐一告知")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("主体时，我们会采取合理、有效的方式发布公告。同时，我们还将按照监管部门要求，上报")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("安全事件的处置情况。")])])]),n("h1",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"5pt 0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("五")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("、您的权利")])]),n("ol",{staticStyle:{margin:"0pt","padding-left":"0pt"},attrs:{type:"1"}},[n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","line-height":"22.5pt",margin:"0pt 0pt 0pt 13.69pt","padding-left":"7.31pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("会尽力提升核验结果的准确性，但由于")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("能收集到的信息范围有限，以及行业技术水平及核验手段仍在完善过程中，")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("无法确保核验结果完全准确无误。如您发现核验结果不准确，您可通过客服电话")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("400-")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("805")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("-6850")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("告知")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("，以便我们重新核验并逐步提升核验能力。")])]),n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","line-height":"22.5pt",margin:"0pt 0pt 0pt 13.69pt","padding-left":"7.31pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("您不得将本服务用于中国法律法规所限制或禁止，以及违背道德风俗的领域，否则因此导致")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("或第三方遭受损失的，您应承担相应赔偿责任。")])]),n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","line-height":"22.5pt",margin:"0pt 0pt 0pt 13.69pt","padding-left":"7.31pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("如您发现我们收集、使用您")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("的行为，违反了法律、行政法规规定或违反了与您的约定，或您发现我们采集、储存的您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("有错误的，您可联系我们的客服电话")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("400-")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("805")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("-6850")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("，要求删除或更正。")])]),n("li",{staticStyle:{"background-color":"#ffffff","font-family":"微软雅黑","font-size":"10.5pt","line-height":"22.5pt",margin:"0pt 0pt 0pt 13.69pt","padding-left":"7.31pt","text-indent":"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("认证服务仅作为个人身份真实性校验，并不能代表认证后签署的文件、合同具备法律效益。")])])]),n("h1",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"5pt 0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("六")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("、我们如何处理儿童的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("个人信息")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们的产品、网站和服务主要面向成人。如果没有父母或监护人的同意，儿童不得创建自己的用户账户。")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("对于经父母同意而收集儿童")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("的情况，我们只会在受到法律允许、父母或监护人明确同意或者保护儿童所必要的情况下使用或公开披露此信息。")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("尽管当地法律和习俗对儿童的定义不同，但我们将不满14周岁的任何人均视为儿童。如果我们发现自己在未事先获得可证实的父母同意的情况下收集了儿童的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("，则会设法尽快删除相关数据。")])]),n("h1",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"5pt 0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("七")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("、您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("如何在全球范围转移")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("我们在中华人民共和国境内运营中收集和产生的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("，存储在中国境内，以下情形除外")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("：")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("1、法律法规有明确规定")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("2、获得您的明确授权。")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("针对以上情形，我们会确保依据本隐私政策对您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("提供在中华人民共和国境内足够同等的保护。")])]),n("h1",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"5pt 0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("八")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("、除外责任")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("您理解并同意，鉴于计算机、互联网的特殊性，下述情况不属于")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("违约：")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("1、因自然灾害如洪水、地震、瘟疫流行等以及社会事件如战争、动乱、政府行为、电信主干线路中断、网路堵塞、电信部门技术调整和政府管制等导致本服务不能提供或中断；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("2、黑客攻击造成服务中断、信息数据泄露；但我们应按照本协议约定做好应急处理。")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("3、")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("在进行服务器配置、维护时，需要短时间中断服务；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("4、由于Internet上的通路阻塞造成您网站访问速度下降；")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("5、因国家法律法规及政策的相关要求，中断或终止本服务。")])]),n("h1",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"5pt 0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("九")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("、")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("本协议如何更新")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("根据国家法律法规变化及服务运营需要，")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("将对")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("本协议")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("及相关规则不时地进行修改，修改后的内容会通过")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("官网（")]),n("a",{attrs:{href:"http://www.qiyuesuo.com"}},[n("span",{staticStyle:{color:"#0000ff","font-family":"微软雅黑","font-size":"10.5pt","text-decoration":"underline"}},[t._v("www.qiyuesuo.com")])]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("）")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("、")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人身份认证服务")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("等渠道公布，公布后即生效，并取代此前相关内容。您应不时关注相关公告、提示信息及协议、规则等相关内容的变动。您知悉并确认，如您不同意更新后的内容，应立即停止使用相应服务，并")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("联系契约锁注销或删除您的个人身份信息")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("，")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("将停止收集您的")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个人身份")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("信息；如您继续使用服务，即视为同意接受更新内容")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("。")])]),n("h1",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"5pt 0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("十")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"15pt","font-weight":"bold"}},[t._v("、如何联系契约锁")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("如您对")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("本协议")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("存在任何疑问，或任何相关的投诉、意见，请联系客服")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("400-")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("805")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("-")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("6850")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("、官方网站（")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("supports@qiyuesuo.com")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("）")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("进行咨询或反映。受理您的问题后，")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("会及时、妥善处理。")])]),n("p",{staticStyle:{"background-color":"#ffffff","line-height":"22.5pt",margin:"0pt"}},[n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("一般情况下，")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("契约锁")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("将在")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("30")]),n("span",{staticStyle:{"font-family":"微软雅黑","font-size":"10.5pt"}},[t._v("个工作日内给予答复。")])])])])}],Kn={name:"PrivacyProtection",data:function(){return{}},methods:{close:function(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)}}},Zn=Kn,Yn=(n("a2f1"),Object(Z["a"])(Zn,Gn,Jn,!1,null,"7f9910e5",null)),Xn=Yn.exports,Qn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"auth-ways",class:{"is-transparent":t.isModalDisplay}},[t.noWays?t.loading?t._e():[a("q-icon",{staticClass:"exit-auth",attrs:{icon:"export"},on:{click:t.showExitAuthModal}}),a("div",{staticClass:"no-ways-tip middle-center main-word regular-color"},[t._v("\n            JSSDK不支持该认证流程，请核实后台配置\n        ")])]:[t.isModalDisplay?t._e():[a("div",{staticClass:"header"},[a("q-icon",{staticClass:"safetycertificate-icon",attrs:{icon:"safetycertificate"}}),t._v("所有信息仅用于身份验证，我们不会以任何形式收集\n            ")],1),a("div",{staticClass:"tip-large ways-title"},[t._v("选择认证方式")])],t.isModalDisplay?a("div",{staticClass:"mask",on:{click:t.close}}):t._e(),a("div",{staticClass:"content",class:{"modal-content":t.isModalDisplay}},[t.loading?t._e():[a("transition",{attrs:{name:"real-name-ways"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.toggleDisplay,expression:"toggleDisplay"}],staticClass:"ways",class:{"modal-style":t.isModalDisplay}},[t._t("default")],2)])],t.loading?a("div",{staticClass:"loading-con"},[a("img",{staticClass:"loading",attrs:{src:n("f342")}}),t._v("\n                正在查找可用认证方式...\n            ")]):t._e()],2)]],2)},ta=[],ea=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"default-certify-code"},[n("div",{staticClass:"large-title title"},[t._v("输入验证码")]),n("div",{staticClass:"tip-large body-color"},[t._v("\n        验证码已发送至：\n        "),n("span",{staticClass:"tip-large link-color"},[t.isUseMail?[t._v("\n                "+t._s(t.mobile)+"\n            ")]:[t._v("\n                "+t._s(t._f("mobileRender")(t._f("plusPrefix")(t.mobile)))+"\n            ")]],2)]),n("div",{staticClass:"code"},[t._l(t.code,(function(e,a){return n("div",{key:e.id,staticClass:"code-item-con",class:{"is-focus":t.inputFocus&&t.hackCode.length===a},on:{click:t.manualFocus}},[n("span",{staticClass:"code-item"},[t._v("\n                "+t._s(e.value)+"\n            ")])])})),n("input",{directives:[{name:"model",rawName:"v-model",value:t.hackCode,expression:"hackCode"}],staticClass:"hack-input",attrs:{type:"tel",id:"code1",maxlength:"6"},domProps:{value:t.hackCode},on:{focus:function(e){t.inputFocus=!0},blur:function(e){t.inputFocus=!1},input:function(e){e.target.composing||(t.hackCode=e.target.value)}}})],2),n("div",{staticClass:"btn-con"},[n("span",{class:["tip-large","disable-color",{"resend-active":t.isResendActive}],on:{click:function(e){t.isResendActive&&t.resend()}}},[t._v("\n            重新发送验证码"+t._s(t.isResendActive?"":"（"+t.countDown+"s）")+"\n        ")]),t.isVoiceActive?n("span",{staticClass:"tip-large disable-color voice-btn",on:{click:function(e){t.isVoiceActive&&t.byVoice()}}},[t._v("\n            收不到短信？试试语音验证码\n        ")]):t._e()]),t.showOtherAuthWays?n("div",{staticClass:"tips"},[n("span",{staticClass:"tip-large"},[t._v("手机号已不用？")]),n("span",{staticClass:"tip-large link-color",on:{click:t.openAuthWaysModal}},[t._v("尝试其他认证方式")])]):t._e()])},na=[],aa={name:"DefaultCertifyCode",filters:{mobileRender:function(t){var e="";if(t.includes(" ")){var n="".concat(t.split(" ")[0]," "),a=t.split(" ")[1],i=a.length-5;e=n+a.substring(0,3)+"*".repeat(i)+a.substr(-2)}else e=t.substring(0,3)+"*".repeat(4)+t.substr(-4);return e}},props:{user:{type:Object,default:function(){return{}}},otherModes:{type:String,default:""},channel:{type:String,default:""},root:{type:Object},mobile:{type:String},isUseMail:{default:!1},accountPrecheck:{type:Boolean,default:!1}},data:function(){return{code:[{id:1,value:""},{id:2,value:""},{id:3,value:""},{id:4,value:""},{id:5,value:""},{id:6,value:""}],hackCode:"",interval:null,countDown:60,inputFocus:!1,step:"",authWays:[],hasHoldCardPic:!1,hasManualed:!1,faildLogs:[]}},computed:{isResendActive:function(){return 0===this.countDown},isVoiceActive:function(){return this.countDown<=30},degradeToManual:function(){return this.authWays.includes("MANUAL")},showOtherAuthWays:function(){if(this.accountPrecheck)return!1;var t=this.$qUtils.deepClone(this.authWays),e=t.findIndex((function(t){return"IVS"===t}));e>-1&&t.splice(e,1);var n=!this.hasManualed&&this.degradeToManual&&!this.hasHoldCardPic;if("DEFAULT"===this.$appointAuthWay&&0===this.faildLogs.length||!n){var a=t.findIndex((function(t){return"MANUAL"===t}));a>-1&&t.splice(e,1)}return 0!==t.length}},watch:{code:{handler:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,a,i,s,r,o,c,l,u,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.every((function(t){return!!t.value}))){t.next=27;break}return n=this.user,a=n.username,i=n.cardNo,s=n.mobile,r=n.paperType,o="",c=this.$loading("提交验证中..."),this.code.forEach((function(t){o+=t.value})),t.prev=5,l={username:a,cardNo:i,mobile:s,pin:o,paperType:r},t.next=9,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_PINVALIDATE",data:{userId:this.$_qyssdk_userId,mobile:s,pin:o}})});case 9:if(u=t.sent,p=u.result,!this.accountPrecheck){t.next=15;break}p.result?this.dealStep("INFO"):this.$message("手机号验证失败"),t.next=19;break;case 15:return t.next=17,this.postForm("",{requestData:JSON.stringify({type:"UPLOAD_IVS_MATERIAL",data:{userId:this.$_qyssdk_userId,material:l,pin:l.pin}})});case 17:return t.next=19,this.verify();case 19:t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](5),console.log(t.t0);case 24:return t.prev=24,c.close(),t.finish(24);case 27:case"end":return t.stop()}}),t,this,[[5,21,24,27]])})));function e(e){return t.apply(this,arguments)}return e}(),deep:!0},hackCode:function(t){this.code.forEach((function(e,n){e.value=t[n]||""}))}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_DETAIL",data:{userId:this.$_qyssdk_userId}})});case 2:return e=t.sent,n=this.decryptoData(e.result),a=n.result,this.step=a.step,t.next=7,this.$getAppointAuthWay();case 7:return t.next=9,this.$getAuthWays();case 9:return this.authWays=t.sent,t.next=12,this.judgeCardPictureType();case 12:return t.next=14,this.judgeManualed();case 14:return t.next=16,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_LOG",data:{userId:this.$_qyssdk_userId}})});case 16:i=t.sent,s=i.result,this.faildLogs=s;case 19:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=this;this.$nextTick((function(){t.manualFocus()})),this.cleanInterval(),this.startInterval()},beforeDestroy:function(){this.cleanInterval()},methods:{judgeManualed:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_PASS_BEFORE",data:{userId:this.$_qyssdk_userId,name:this.user.username,cardNo:this.user.cardNo}})});case 2:e=t.sent,this.hasManualed=e.result;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),judgeCardPictureType:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_IMAGE_EXIST",data:{userId:this.$_qyssdk_userId,name:this.user.username,cardNo:this.user.cardNo}})});case 3:e=t.sent,this.hasHoldCardPic=e.handfrontImage,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),openAuthWaysModal:function(){var t=this,e=new Vue({components:{authWaysModal:Ta},render:function(e){return e(Ta,{props:{root:t,user:t.user,otherModes:t.otherModes,channel:t.channel,useOtherFrom:"IVS",step:t.step}})}}).$mount();document.body.appendChild(e.$el)},startInterval:function(){var t=this;this.interval=setInterval((function(){t.countDown>0&&t.countDown--}),1e3)},cleanInterval:function(){this.interval&&clearInterval(this.interval)},manualFocus:function(){document.querySelector(".hack-input").focus()},resend:function(){this.countDown=60,this.cleanInterval(),this.startInterval(),this.sendPin()},sendPin:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_PIN",data:{userId:this.$_qyssdk_userId,mobile:this.mobile}})},{headers:{noMes:"true"}});case 3:e=t.sent,n=e.code,0===n&&this.$message("发送成功"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),byVoice:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_VOICE",data:{userId:this.$_qyssdk_userId,mobile:this.mobile}})},{headers:{noMes:"true"}});case 3:e=t.sent,0===e.code&&this.$message("发送成功"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),verify:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"PHONE_AUTH_VERIFY",data:{userId:this.$_qyssdk_userId}})},{headers:{noMes:"true"}});case 3:if(e=t.sent,0!==e.code||"END"!==e.nextStep){t.next=7;break}return this.dealStep("SUCCESS"),t.abrupt("return");case 7:this.dealStep(e.nextStep),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}(),dealStep:function(t){this.root.dealStep(t),this.close()},close:function(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)}}},ia=aa,sa=(n("9455"),Object(Z["a"])(ia,ea,na,!1,null,"14dde12f",null)),ra=sa.exports,oa=function(t,e){var a=e._c;return e.props.isShow?a("div",{staticClass:"way way-bank",class:{"way-modal-style":e.props.isModalDisplay},on:{click:e.props.auth}},[a("div",{staticClass:"icon-con",class:{"modal-style":e.props.isModalDisplay}},[a("q-icon",{attrs:{icon:"creditcard-fill"}})],1),a("div",{staticClass:"desc",class:{"modal-style":e.props.isModalDisplay}},[a("span",{staticClass:"h3-title title-color text-title"},[e._v("银行卡认证")]),a("span",{staticClass:"tip-large text-tip"},[e._v("需校验本人的银行卡信息及预留手机号")])]),e.props.isModalDisplay?e._e():a("q-icon",{staticClass:"right-icon",attrs:{icon:"rignt"}}),a("img",{staticClass:"bg-img",attrs:{src:n("3afd")}})],1):e._e()},ca=[],la={},ua=Object(Z["a"])(la,oa,ca,!0,null,null,null),pa=ua.exports,fa=function(t,e){var a=e._c;return e.props.isShow?a("div",{staticClass:"way way-face",class:{"way-modal-style":e.props.isModalDisplay},on:{click:e.props.auth}},[a("div",{staticClass:"icon-con",class:{"modal-style":e.props.isModalDisplay}},[a("q-icon",{attrs:{icon:"faceid"}})],1),a("div",{staticClass:"desc",class:{"modal-style":e.props.isModalDisplay}},[a("span",{staticClass:"h3-title title-color text-title"},[e._v("人脸识别认证")]),a("span",{staticClass:"tip-large text-tip"},[e._v(e._s(e.props.faceAuthDesc))])]),e.props.isModalDisplay?e._e():a("q-icon",{staticClass:"right-icon",attrs:{icon:"rignt"}}),a("img",{staticClass:"bg-img",attrs:{src:n("e753")}})],1):e._e()},da=[],ha={},ma=Object(Z["a"])(ha,fa,da,!0,null,null,null),va=ma.exports,ya=function(t,e){var a=e._c;return e.props.isShow?a("div",{staticClass:"way way-phone",class:{"way-modal-style":e.props.isModalDisplay},on:{click:e.props.auth}},[a("div",{staticClass:"icon-con",class:{"modal-style":e.props.isModalDisplay}},[a("q-icon",{attrs:{icon:"phone"}})],1),a("div",{staticClass:"desc",class:{"modal-style":e.props.isModalDisplay}},[a("span",{staticClass:"h3-title title-color text-title"},[e._v("手机号认证")]),a("span",{staticClass:"tip-large text-tip"},[e._v("需校验由本人开户的手机号")])]),e.props.isModalDisplay?e._e():a("q-icon",{staticClass:"right-icon",attrs:{icon:"rignt"}}),a("img",{staticClass:"bg-img",attrs:{src:n("1cd6")}})],1):e._e()},ga=[],ba={},_a=Object(Z["a"])(ba,ya,ga,!0,null,null,null),Sa=_a.exports,wa=function(t,e){var n=e._c;return e.props.isShow?n("div",{staticClass:"way way-manual",class:{"way-modal-style":e.props.isModalDisplay},on:{click:e.props.auth}},[n("div",{staticClass:"icon-con",class:{"modal-style":e.props.isModalDisplay}},[n("q-icon",{attrs:{icon:"personal-fill-"}})],1),n("div",{staticClass:"desc",class:{"modal-style":e.props.isModalDisplay}},[n("span",{staticClass:"h3-title title-color text-title"},[e._v("人工审核认证")]),n("span",{staticClass:"tip-large text-tip"},[e._v("大约需要1-2个工作日")])]),e.props.isModalDisplay?e._e():n("q-icon",{staticClass:"right-icon",attrs:{icon:"rignt"}})],1):e._e()},Ca=[],xa={},ka=Object(Z["a"])(xa,wa,Ca,!0,null,null,null),Ia=ka.exports,Aa={name:"authWays",components:{},props:{isModalDisplay:{type:Boolean,default:!0},root:{type:Object},user:{type:Object,default:function(){return{}}},channel:{type:String,default:""},reverifyCert:{type:String,default:""},otherModes:{type:String,default:""},accountPrecheck:{type:Boolean,default:!1},useOtherFrom:{type:String,default:""},faceFailedType:{type:Array,default:function(){return[]}}},data:function(){return{showAlipayWays:!1,authWays:[],hasCardPic:!1,hasHoldCardPic:!1,hasManualed:!1,isUseMail:!1,step:"",faildLogs:[],loading:!0,isAndroid:!1,isShotVideo:!1,toggleDisplay:!1}},computed:{faceAuthDesc:function(){return this.isShotVideo?"需录制一段朗读数字的认证视频":"需现场拍摄正脸照片"},authAccount:function(){var t=this.getContactCodeAndContent(this.user.mobile||"").contactContent||"",e=this.getAreaCodeObj(this.user.mobile||"").value;return this.isUseMail?t:this.getContactWithCode(e,t)},degradeToManual:function(){return this.otherModes.includes("MANUAL")},baiduAiHasFailed:function(){return this.faildLogs.some((function(t){return"BAIDUAI"===t.type}))},hasOtherWaysExcludeManual:function(){return"FACE"===this.$appointAuthWay||this.authWays.some((function(t){return"MANUAL"!==t}))},hasPic:function(){return this.hasCardPic||this.hasHoldCardPic},noWays:function(){return this.authWays.every((function(t){return"MANUAL"===t}))&&!this.showAuthWay("MANUAL")}},watch:{loading:function(t){t||(this.sortEntrance(),this.toggleDisplay=!0)}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.isUseMail=!this.$qUtils.validata({value:this.user.mobile,noValNotValid:!1,rules:[{rule:this.$qUtils.validator.isEmail}]}).isInvalid,e=this.getDeviceType(),this.isAndroid="android"===e,t.next=6,this.$getAuthWays();case 6:return this.authWays=t.sent,this.excludeCurrentAuthWay(),t.next=10,this.judgeCardPictureType();case 10:return t.next=12,this.judgeManualed();case 12:return t.next=14,this.$getAppointAuthWay();case 14:return t.next=16,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_DETAIL",data:{userId:this.$_qyssdk_userId}})});case 16:return n=t.sent,a=this.decryptoData(n.result),i=a.result,this.step=i.step,t.next=21,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_LOG",data:{userId:this.$_qyssdk_userId}})});case 21:s=t.sent,this.faildLogs=s.result,this.isShotVideo=this.isAndroid||!this.isAndroid&&!this.hasPic,t.next=29;break;case 26:t.prev=26,t.t0=t["catch"](0),console.log(t.t0);case 29:return t.prev=29,this.loading=!1,t.finish(29);case 32:case"end":return t.stop()}}),t,this,[[0,26,29,32]])})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=this;this.$nextTick((function(){t.showAlipayWays=!0}))},methods:{sortEntrance:function(){var t={BANK:this.insertBankEntrance(),FACE:this.insertFaceEntrance(),IVS:this.insertIvsEntrance(),MANUAL:this.insertManualEntrance()},e=[],n=this.$qUtils.deepClone(this.authWays);n=this.addAuthWays(n),n.forEach((function(n){Object.keys(t).includes(n)&&e.push(t[n])}));var a=this.$createElement("div",{class:{container:!0}},e);this.$slots.default=a,console.log("this.$slots**",this.$slots)},insertBankEntrance:function(){var t=this.$createElement(pa,{props:{isModalDisplay:this.isModalDisplay,isShow:this.showAuthWay("BANK"),auth:this.bankAuth}});return t},insertFaceEntrance:function(){var t=this.$createElement(va,{props:{isModalDisplay:this.isModalDisplay,isShow:this.showAuthWay("FACE"),auth:this.faceAuth,faceAuthDesc:this.faceAuthDesc}});return t},insertIvsEntrance:function(){var t=this.$createElement(Sa,{props:{isModalDisplay:this.isModalDisplay,isShow:this.showAuthWay("IVS"),auth:this.phoneAuth}});return t},insertManualEntrance:function(){var t=this.$createElement(Ia,{props:{isModalDisplay:this.isModalDisplay,isShow:this.showAuthWay("MANUAL"),auth:this.manualAuth}});return t},manualAuth:function(){this.dealStep("MANUALINFO")},excludeCurrentAuthWay:function(){var t=this,e=(this.authWays||[]).findIndex((function(e){return e===t.useOtherFrom}));e>-1&&this.authWays.splice(e,1)},judgeCardPictureType:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_IMAGE_EXIST",data:{userId:this.$_qyssdk_userId,name:this.user.username,cardNo:this.user.cardNo}})});case 3:e=t.sent,this.hasCardPic=e.faceImage,this.hasHoldCardPic=e.handfrontImage,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),judgeManualed:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_PASS_BEFORE",data:{userId:this.$_qyssdk_userId,name:this.user.username,cardNo:this.user.cardNo}})});case 2:e=t.sent,this.hasManualed=e.result;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),addAuthWays:function(t){var e=this;"FACE"!==this.$appointAuthWay||this.baiduAiHasFailed||t.includes("FACE")||t.push("FACE");var n=t.findIndex((function(t){return t===e.useOtherFrom}));return n>-1&&t.splice(n,1),console.log("authWays--",t),t},showAuthWay:function(t){var e=this.$qUtils.deepClone(this.authWays);return e=this.addAuthWays(e),("FACE"!==this.$appointAuthWay||0!==this.faildLogs.length||"IVS"!==t&&"BANK"!==t&&"MANUAL"!==t)&&("MANUAL"===t?!(!this.step.includes("FAILED")&&0===this.faildLogs.length)&&(!this.hasManualed&&this.degradeToManual&&!this.hasHoldCardPic):(e||[]).includes(t))},auth:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={PHONEINFO:this.phoneAuth,BANKINFO:this.bankAuth},t.next=3,n[e]();case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),phoneAuth:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isUseMail&&this.authAccount){t.next=3;break}return this.dealStep("threeElementsAuth"),t.abrupt("return");case 3:if(!this.reverifyCert&&!this.accountPrecheck){t.next=6;break}return this.submitInfoWithoutCode(),t.abrupt("return");case 6:return t.next=8,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_CAPTCHAREQUIRED",data:{userId:this.$_qyssdk_userId}})});case 8:if(e=t.sent,n=e.result,n){t.next=13;break}return this.getCode(null,n),t.abrupt("return");case 13:a=new Vue({components:{AuthGraphicCode:Wn},render:function(t){return t(Wn,{props:{title:"输入图形验证码"},on:{getCode:function(t,e){i.getCode(t,n,e)}}})}}).$mount(),document.body.appendChild(a.$el);case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),bankAuth:function(){this.dealStep("BANKINFO")},getCode:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,n){var a,i,s,r=this,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=o.length>2&&void 0!==o[2]?o[2]:null,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_PIN",data:{userId:this.$_qyssdk_userId,mobile:this.authAccount,validCaptcha:n,captcha:e,captchaToken:a}})});case 3:i={components:{certifyCode:ra},render:function(t){return t(ra,{props:{root:r.root,user:r.user,mobile:r.authAccount,isUseMail:r.isUseMail,accountPrecheck:r.accountPrecheck,otherModes:r.otherModes,channel:r.channel}})}},s=new Vue(i).$mount(),document.body.appendChild(s.$el);case 6:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),submitInfoWithoutCode:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i,s,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.user,n=e.username,a=e.cardNo,i=e.mobile,s=e.paperType,r=this.$loading("提交验证中..."),o={username:n,cardNo:a,mobile:i,paperType:s},t.prev=3,t.next=6,this.postForm("",{requestData:JSON.stringify({type:"UPLOAD_IVS_MATERIAL",data:{userId:this.$_qyssdk_userId,material:o}})},{headers:{"reverify-certificate":this.reverifyCert}});case 6:return t.next=8,this.verify();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),console.log(t.t0);case 13:return t.prev=13,r.close(),t.finish(13);case 16:case"end":return t.stop()}}),t,this,[[3,10,13,16]])})));function e(){return t.apply(this,arguments)}return e}(),verify:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"PHONE_AUTH_VERIFY",data:{userId:this.$_qyssdk_userId}})},{headers:{noMes:"true"}});case 3:if(e=t.sent,0!==e.code||"END"!==e.nextStep){t.next=7;break}return this.dealStep("SUCCESS"),t.abrupt("return");case 7:this.dealStep(e.nextStep),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}(),faceAuth:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"UPLOAD_FACE_MATERIAL",data:{userId:this.$_qyssdk_userId,material:{username:this.user.username,cardNo:this.user.cardNo}}})},{headers:{noMes:"true"}});case 3:e=t.sent,0===e.code?this.dealStep("FACEID"):this.$message(e.message),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),close:function(){this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},dealStep:function(t){this.root.dealStep(t)},showExitAuthModal:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$mt.MessageBox.confirm("",{message:"确定退出认证流程？",confirmButtonClass:"main-word link-color"});case 3:this.$giveUpAuth(),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(){return t.apply(this,arguments)}return e}()}},Na=Aa,za=(n("08d2"),Object(Z["a"])(Na,Qn,ta,!1,null,"656a894e",null)),Ta=za.exports,Oa={name:"DefaultAuth",props:{user:{type:Object,default:function(){return{}}},staticInfo:{type:Object,default:function(){return{}}},auth:{type:Boolean,default:!0},channel:{type:String,default:""},reverifyCert:{type:String,default:""},modifyFieldList:{type:Array,default:function(){return[]}},customizedPrivacyAgreement:String,accountPrecheck:{type:Boolean,default:!1},mode:{type:String,default:""},otherModes:{type:String,default:""},step:{type:String,default:""}},data:function(){return{agreeChecked:!1,info:{username:{value:this.user.username||"",status:"",message:""},paperType:{label:"",value:this.user.paperType||"IDCARD",status:"",message:""},cardNo:{value:this.user.cardNo||"",status:"",message:""}},cardNoShow:"",types:[{label:"身份证",value:"IDCARD"},{label:"护照",value:"PASSPORT"},{label:"港澳通行证",value:"HKMP"},{label:"台胞证",value:"MTPS"}],cardTypeVisible:!1,isCurrentFormActive:!1,updatedInfo:{},idCardImg:"",isCanScroll:!1,authWays:[],isUseMail:!1,loadingData:!0}},computed:{authAccount:function(){var t=this.getContactCodeAndContent(this.user.mobile||"").contactContent||"",e=this.getAreaCodeObj(this.user.mobile||"").value;return this.isUseMail?t:this.getContactWithCode(e,t)},isDisabled:function(){var t=!1;if(this.loadingData)return!0;for(var e in this.info)if(!this.info[e].value||"error"===this.info[e].status){t=!0;break}return t},isUsernameDisabled:function(){return!this.modifyFieldList.includes("NAME")&&(this.auth&&this.hasDefaultUsername||this.isFromSaas)},isAbortCardDisabled:function(){return!this.modifyFieldList.includes("CARDNO")&&this.auth&&this.hasDefaultCardNo&&!this.isFromSaas},isIdCard:function(){var t=this.$qUtils.validata({value:this.user.cardNo,noValNotValid:!1,rules:[{rule:this.$qUtils.validator.isIdCard}]});return!t.isInvalid},isFromSaas:function(){return"SAAS_PC"==this.channel},hasDefaultUsername:function(){return!!this.staticInfo.username},hasDefaultCardNo:function(){return!!this.staticInfo.cardNo},hasManual:function(){return this.authWays.includes("MANUAL")}},watch:{"info.paperType.value":{handler:function(t){this.checkData("cardNo")},deep:!0},isCanScroll:function(t){var e=this;t&&this.$nextTick((function(){e.$refs.outerWrapper.scrollIntoView()}))},cardNoShow:function(t){var e=this.info.cardNo.value.split("");e.length=t.length,t.split("").forEach((function(t,n){"*"===t&&e[n]&&" "!==e[n]||(e[n]=t)})),this.info.cardNo.value=e.join(""),18==this.cardNoShow.length&&this.checkData("cardNo")}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$getAppointAuthWay();case 3:return t.next=5,this.$getAuthWays();case 5:return this.authWays=t.sent,t.next=8,this.captchaPrepare();case 8:return this.initPaperType(),t.next=11,this.initData();case 11:this.isUseMail=!this.$qUtils.validata({value:this.user.mobile,noValNotValid:!1,rules:[{rule:this.$qUtils.validator.isEmail}]}).isInvalid,t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:return t.prev=17,this.loadingData=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[0,14,17,20]])})));function e(){return t.apply(this,arguments)}return e}(),methods:{initData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_DETAIL",data:{userId:this.$_qyssdk_userId}})});case 2:e=t.sent,n=this.decryptoData(e.result),a=n.result,Object.keys(this.info).forEach((function(t){"paperType"===t?(s.info[t].value=a.authInfo[t]||"IDCARD",s.info[t].label=s.types.find((function(e){return e.value===(a.authInfo[t]||"IDCARD")})).label):s.info[t].value=a.authInfo[t]||""})),i=a.$get("authInfo","cardNo"),i&&(this.cardNoShow=i[0]+"*".repeat(i.length-2)+i.slice(-1));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initPaperType:function(){var t=this.cardTypeLabel();this.hasManual||(t="身份证",this.info.paperType.value="IDCARD",this.$qUtils.validator.isIdCard.test(this.info.cardNo.value)||(this.info.cardNo.value="")),this.info.paperType.label=t},syncCardNo:function(t){if(8==t.keyCode){var e=t.target.selectionStart,n=this.info.cardNo.value;this.info.cardNo.value=n.slice(0,e-1)+n.slice(e)}else if(46==t.keyCode){var a=t.target.selectionStart,i=this.info.cardNo.value;this.info.cardNo.value=i.slice(0,a)+i.slice(a+1)}else if(t.keyCode>=65&&t.keyCode<=90||t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105){var s=t.target.selectionStart,r=this.info.cardNo.value;this.info.cardNo.value="".concat(r.slice(0,s)," ").concat(r.slice(s))}},viewPrivacy:function(){var t=this,e={components:{privacyProtection:Xn},render:function(e){return e(Xn,{props:{customizedPrivacyAgreement:t.customizedPrivacyAgreement}})}},n=new Vue(e).$mount();document.body.appendChild(n.$el)},closeSelect:function(){this.cardTypeVisible=!1},selectType:function(t){Object.assign(this.info.paperType,t),this.closeSelect()},nextStep:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.triggerCheckData()){t.next=2;break}return t.abrupt("return");case 2:if(this.agreeChecked){t.next=5;break}return this.$message("请先阅读并同意服务协议"),t.abrupt("return");case 5:return this.updateInfo(),e=this.$loading("正在提交"),t.prev=7,t.next=10,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_IMAGE_EXIST",data:{userId:this.$_qyssdk_userId,name:this.info.username.value,cardNo:this.info.cardNo.value}})});case 10:if(n=t.sent,"IDCARD"===this.info.paperType.value||n.faceImage||n.handfrontImage){t.next=14;break}return this.dealStep("MANUALINFO"),t.abrupt("return");case 14:if("IDCARD"===this.info.paperType.value||!n.faceImage&&!n.handfrontImage){t.next=19;break}return t.next=17,this.submitInfo();case 17:return this.dealStep("FACEID"),t.abrupt("return");case 19:if("FACE"!==this.$appointAuthWay){t.next=24;break}return t.next=22,this.submitInfo();case 22:return this.dealStep("FACEID"),t.abrupt("return");case 24:if(this.user.mobile&&!this.isUseMail){t.next=30;break}return t.next=27,this.submitInfo();case 27:return a={IVS:"threeElementsAuth",BANK:"BANKINFO"},["DEFAULT","FACE"].includes(this.$appointAuthWay)?this.openAuthWaysModal():this.dealStep(a[this.$appointAuthWay]),t.abrupt("return");case 30:if(!this.accountPrecheck||"IVS"!==this.$appointAuthWay){t.next=33;break}return this.submitInfoWithoutCode(),t.abrupt("return");case 33:if(""!==this.$appointAuthWay&&"DEFAULT"!==this.$appointAuthWay&&"FACE"!==this.$appointAuthWay){t.next=37;break}return this.submitInfoWithoutCode(!1),this.openAuthWaysModal(),t.abrupt("return");case 37:if("IVS"!==this.$appointAuthWay){t.next=40;break}return this.submitInfoWithoutCode(),t.abrupt("return");case 40:if("BANK"!==this.$appointAuthWay){t.next=43;break}return this.dealStep("BANKINFO"),t.abrupt("return");case 43:t.next=48;break;case 45:t.prev=45,t.t0=t["catch"](7),console.log(t.t0);case 48:return t.prev=48,e.close(),t.finish(48);case 51:case"end":return t.stop()}}),t,this,[[7,45,48,51]])})));function e(){return t.apply(this,arguments)}return e}(),submitInfo:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$loading("验证中..."),t.prev=1,t.next=4,this.postForm("",{requestData:JSON.stringify({type:"UPLOAD_FACE_MATERIAL",data:{userId:this.$_qyssdk_userId,material:{username:this.info.username.value,paperType:this.info.paperType.value,cardNo:this.info.cardNo.value}}})});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),console.log(t.t0);case 9:return t.prev=9,e.close(),t.finish(9);case 12:case"end":return t.stop()}}),t,this,[[1,6,9,12]])})));function e(){return t.apply(this,arguments)}return e}(),submitInfoWithoutCode:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=!(i.length>0&&void 0!==i[0])||i[0],n=this.$loading("提交验证中..."),a={username:this.info.username.value,paperType:this.info.paperType.value,cardNo:this.info.cardNo.value,mobile:this.user.mobile},t.prev=3,t.next=6,this.postForm("",{requestData:JSON.stringify({type:"UPLOAD_IVS_MATERIAL",data:{userId:this.$_qyssdk_userId,material:a}})},{headers:{"reverify-certificate":this.reverifyCert}});case 6:if(e){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,this.verify();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](3),console.log(t.t0);case 15:return t.prev=15,n.close(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[3,12,15,18]])})));function e(){return t.apply(this,arguments)}return e}(),verify:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"PHONE_AUTH_VERIFY",data:{userId:this.$_qyssdk_userId}})},{headers:{noMes:"true"}});case 3:if(e=t.sent,0!==e.code||"END"!==e.nextStep){t.next=7;break}return this.dealStep("SUCCESS"),t.abrupt("return");case 7:this.dealStep(e.nextStep),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,this,[[0,10]])})));function e(){return t.apply(this,arguments)}return e}(),updateInfo:function(){var t={};for(var e in this.info)t[e]=this.info[e].value;this.user=Object.assign(this.user,t)},chooseIdCard:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.initFormStatus(),t.next=3,this.$qUtils.chooseFile({accept:"image/*"});case 3:e=t.sent,this.uploadIdCardPic(e);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),uploadIdCardPic:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.uploadImageHandler(e);case 3:if(n=t.sent,n){t.next=6;break}return t.abrupt("return");case 6:return this.idCardImg=window.URL.createObjectURL(n),t.next=9,this.postMulti("",{file:n,requestData:JSON.stringify({type:"ORC_IDCARD",data:{userId:this.$_qyssdk_userId}})});case 9:a=t.sent,this.updateFormData(a.result),this.triggerCheckData(),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,this,[[0,14]])})));function e(e){return t.apply(this,arguments)}return e}(),triggerCheckData:function(){var t=this;return["username","cardNo"].forEach((function(e){t.checkData(e)})),!this.isDisabled},updateFormData:function(t){var e=t.username,n=t.cardNo,a=this.$qUtils.deepClone(this.info);a.username.value=e,a.cardNo.value=n,this.info=a},trimData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",n=this.info[t].value;return n&&("terminal"===e?n=n.trim():"all"===e&&(n=n.replace(/\s/g,"")),this.info[t].value=n),n},checkData:function(t){var e=this.info[t].value,n={};switch(t){case"username":this.$qUtils.validator.isZHUserName.test(e)?e=this.trimData(t):this.$qUtils.validator.isENUserName.test(e)&&(e=this.trimData(t,"terminal")),n=this.$qUtils.validata({value:e,rules:[{rule:this.$qUtils.validator.isZHENUserName,level:"error",message:"仅允许输入中文或英文"}]});break;case"cardNo":e=this.trimData(t),"IDCARD"===this.info.paperType.value&&(n=this.$qUtils.validata({value:e,rules:[{rule:this.$qUtils.validator.isIdCard,level:"error",message:"证件号码格式不正确"}]}));break}n.isInvalid?(this.info[t].status=n.status,this.info[t].message=n.message):(this.info[t].status="",this.info[t].message="")},getAreaCode:function(t){this.code=t},toggleSelectCode:function(t){this.$refs[t].focus()},captchaPrepare:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_CAPTCHA_INIT",data:{userId:this.$_qyssdk_userId}})});case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),initFormStatus:function(){var t=this.$qUtils.deepClone(this.info);for(var e in t)t[e].status="",t[e].message="";this.info=t},cardTypeLabel:function(){var t=this;return this.types.find((function(e){return e.value===(t.user.paperType||"IDCARD")})).label},inpFocus:function(t){this.isCanScroll=!1},handleIosScroll:function(){this.isCanScroll=!0},openAuthWaysModal:function(){var t=this;this.updateInfo();var e=new Vue({components:{authWaysModal:Ta},render:function(e){return e(Ta,{props:{isModalDisplay:!1,root:t,user:t.user,channel:t.channel,reverifyCert:t.reverifyCert,otherModes:t.otherModes,accountPrecheck:t.accountPrecheck,step:t.step}})}}).$mount();document.body.appendChild(e.$el)}}},$a=Oa,Ea=(n("c2bb"),Object(Z["a"])($a,Bn,Vn,!1,null,"03a07280",null)),Ma=Ea.exports,Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"default-fail"},[a("div",{staticClass:"default-result-top"},[a("q-icon",{staticClass:"exit-auth",attrs:{icon:"export"},on:{click:t.showExitAuthModal}}),a("img",{staticClass:"res-img",attrs:{src:n("5189")}}),a("span",{staticClass:"h2-title title"},[t._v("认证失败")]),a("span",{staticClass:"tip-large"},[t._v("姓名、身份证号与手机号实名信息不匹配")])],1),a("div",{staticClass:"default-result-bottom"},[a("span",{staticClass:"main-word title-color title"},[t._v("核对身份信息")]),a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word regular-color"},[t._v("姓    名")]),a("span",{staticClass:"main-word"},[t._v(t._s(t.user.username))])]),t._m(0),a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word regular-color"},[t._v("证件号")]),a("span",{staticClass:"main-word"},[t._v(t._s(t.user.cardNo))])]),a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word regular-color"},[t._v("手机号")]),a("span",{staticClass:"main-word"},[t._v(t._s(t.isUseMail?t.mobile:t.user.mobile))])])]),a("div",{staticClass:"modify-info main-word body-color-dark",attrs:{type:"primary"},on:{click:t.modifyInfo}},[t._v("\n        修改信息重新认证\n    ")]),t.isShowOtherWays?a("div",{staticClass:"change-other main-word",attrs:{type:"primary"},on:{click:t.openAuthWaysModal}},[t._v("\n        尝试其他认证方式\n    ")]):t._e()])},Ra=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info-row"},[n("span",{staticClass:"main-word regular-color"},[t._v("证件类型")]),n("span",{staticClass:"main-word"},[t._v("身份证")])])}],Pa={name:"DefaultFail",props:{user:{type:Object,default:function(){return{}}},successPage:{type:String,default:""},otherModes:{type:String,default:""},channel:{type:String,default:""},step:{type:String,default:""}},data:function(){return{hasHoldCardPic:!1,hasManualed:!1,otherAuthWays:[],mobile:""}},computed:{degradeToManual:function(){return this.otherAuthWays.includes("MANUAL")},degradeToIvs:function(){return this.otherAuthWays.includes("IVS")},degradeToFace:function(){return this.otherAuthWays.includes("FACE")},isShowOtherWays:function(){var t=this.$qUtils.deepClone(this.otherAuthWays),e=!this.hasManualed&&this.degradeToManual&&!this.hasHoldCardPic;return!!e||!(!e&&t.every((function(t){return"MANUAL"===t})))&&!!this.otherAuthWays.length},isUseMail:function(){var t=this.$qUtils.validata({value:this.user.mobile,noValNotValid:!1,rules:[{rule:this.$qUtils.validator.isEmail}]});return!t.isInvalid}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$getAuthWays();case 2:return this.otherAuthWays=t.sent,t.next=5,this.judgeManualed();case 5:return t.next=7,this.judgeCardPictureType();case 7:return t.next=9,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_DETAIL",data:{userId:this.$_qyssdk_userId}})});case 9:e=t.sent,n=this.decryptoData(e.result),a=n.result,this.mobile=a.authInfo.cellphone||"";case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{judgeManualed:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_PASS_BEFORE",data:{userId:this.$_qyssdk_userId,name:this.user.username,cardNo:this.user.cardNo}})});case 2:e=t.sent,this.hasManualed=e.result;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),judgeCardPictureType:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_IMAGE_EXIST",data:{userId:this.$_qyssdk_userId,name:this.user.username,cardNo:this.user.cardNo}})});case 3:e=t.sent,this.hasHoldCardPic=e.handfrontImage,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),modifyInfo:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$emit("reVerify"),this.dealStep("INFO");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),openAuthWaysModal:function(){var t=this,e=new Vue({components:{authWaysModal:Ta},render:function(e){return e(Ta,{props:{root:t,information:t.user,user:t.user,channel:t.channel,otherModes:t.otherModes,step:t.step}})}}).$mount();document.body.appendChild(e.$el)},preventTouchmove:function(t){t.preventDefault()},showExitAuthModal:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$mt.MessageBox.confirm("",{message:"确定退出认证流程？",confirmButtonClass:"main-word link-color"});case 3:this.exitAuth(),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(){return t.apply(this,arguments)}return e}(),exitAuth:function(){this.$giveUpAuth({channel:this.channel,successPage:this.successPage},window.vueInstance)}}},qa=Pa,ja=(n("a5d1"),Object(Z["a"])(qa,Da,Ra,!1,null,"524eaa90",null)),Fa=ja.exports,Ua=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"face-wrapper"},[t.isShotVideo?[a("div",{staticClass:"content"},[a("img",{staticClass:"face-img",attrs:{src:n("1e44")}}),a("span",{staticClass:"main-word regular-color"},[a("span",{staticClass:"main-word link-color"},[t._v(t._s(t._f("nameRender")(t.user.username)))]),t._v("\n                请录制3-5秒朗读下方数字的视频")]),t.randomData.generatedNumbers?a("div",{staticClass:"number-wrap"},t._l(t.randomData.generatedNumbers.slice(),(function(e,n){return a("span",{key:n,staticClass:"number-item",class:{"number-style5":5===t.randomData.generatedNumbers.length,"number-style6":6===t.randomData.generatedNumbers.length}},[t._v(t._s(e))])})),0):t._e(),a("auth-button",{staticClass:"start-button",attrs:{type:"primary",disabled:"loading"===t.status},on:{click:t.triggerUploadFaceVideo}},[t._v(t._s("loading"===t.status?"正在上传...":"开始录制"))]),t.showOtherAuthWays?a("div",{staticClass:"tips"},[a("span",{staticClass:"tip-large"},[t._v("不方便录制视频？")]),a("span",{staticClass:"tip-large link-color",on:{click:t.openAuthWaysModal}},[t._v("尝试其他认证方式")])]):t._e()],1)]:[a("div",{staticClass:"content"},[!t.imgSrc||"loading"!==t.status&&"failed"!==t.status?a("img",{staticClass:"face-img",attrs:{src:n("1e44")}}):a("div",{staticClass:"face-photo-con"},[a("img",{attrs:{src:t.imgSrc},on:{load:t.$qUtils.fillContainerWhenImgLoad}}),a("img",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.status,expression:"status === 'loading'"}],staticClass:"scan-img",attrs:{src:n("cd08")}})]),"init"===t.status?a("span",{staticClass:"main-word regular-color photo-tips-init"},[a("span",{staticClass:"main-word link-color"},[t._v(t._s(t._f("nameRender")(t.user.username)))]),t._v("请现场拍摄你的正脸照片")]):t._e(),"loading"===t.status?a("span",{staticClass:"main-word link-color photo-tips-loading"},[t._v("正在进行身份比对，请稍后…")]):t._e(),"failed"===t.status?a("span",{staticClass:"main-word error-color photo-tips-failed"},[a("q-icon",{staticClass:"close-icon",attrs:{icon:"close-circle-fill"}}),a("span",[t._v(t._s(t.failMsg))])],1):t._e(),a("div",{staticClass:"shot-button-wrapper"},["loading"!==t.status?a("auth-button",{staticClass:"tack-photo-btn",attrs:{type:"primary",disabled:t.failedTimes>=3},on:{click:t.triggerUploadFacePic}},[t._v(t._s("failed"===t.status?"重新拍摄":"开始拍摄"))]):t._e(),"failed"===t.status?a("span",{staticClass:"tip-large fail-times-tips",staticStyle:{"margin-bottom":"20px"}},[t._v("剩余"+t._s(3-t.failedTimes)+"次拍照校验机会")]):t._e()],1),t.showOtherAuthWays?a("div",{staticClass:"tips"},[a("span",{staticClass:"tip-large"},[t._v("不方便拍照？")]),a("span",{staticClass:"tip-large link-color",on:{click:t.openAuthWaysModal}},[t._v("尝试其他认证方式")])]):t._e()])]],2)},La=[],Ha=n("bc3a"),Wa=n.n(Ha),Ba={name:"Face",filters:{nameRender:function(t){var e=t.length;return 2===e?"".concat(t.substring(0,1),"*"):e>2?t.substring(0,1)+"*".repeat(e-2)+t.substr(-1):void 0}},props:{user:{type:Object,default:function(){return{}}},otherModes:{type:String,default:""},channel:{type:String,default:""},step:{type:String,default:""}},data:function(){return{randomData:{generatedNumbers:"",bizno:""},isAndroid:!1,status:"init",imgSrc:"",failedTimes:0,failMsg:"比对结果：人脸匹配度较低",hasCardPic:!1,hasHoldCardPic:!1,hasManualed:!1,axiosSource:Wa.a.CancelToken.source(),isShotVideo:!1,authWays:[],faildLogs:[]}},computed:{hasPic:function(){return this.hasCardPic||this.hasHoldCardPic},degradeToManual:function(){return this.authWays.includes("MANUAL")},showOtherAuthWays:function(){var t=this.$qUtils.deepClone(this.authWays),e=t.findIndex((function(t){return"FACE"===t}));if(e>-1&&t.splice(e,1),"FACE"===this.$appointAuthWay&&0===this.faildLogs.length)return!1;var n=!this.hasManualed&&this.degradeToManual&&!this.hasHoldCardPic;if("DEFAULT"===this.$appointAuthWay&&0===this.faildLogs.length||!n){var a=t.findIndex((function(t){return"MANUAL"===t}));a>-1&&t.splice(e,1)}return 0!==t.length}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.getDeviceType(),this.isAndroid="android"===e,this.isShotVideo=this.isAndroid||!this.isAndroid&&!this.hasPic,!this.isShotVideo){t.next=6;break}return t.next=6,this.getRandomNumber();case 6:return t.next=8,this.$getAppointAuthWay();case 8:return t.next=10,this.$getAuthWays();case 10:return this.authWays=t.sent,t.next=13,this.judgeCardPictureType();case 13:return t.next=15,this.judgeManualed();case 15:return t.next=17,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_LOG",data:{userId:this.$_qyssdk_userId}})});case 17:n=t.sent,a=n.result,this.faildLogs=a;case 20:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{judgeManualed:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_PASS_BEFORE",data:{userId:this.$_qyssdk_userId,name:this.user.username,cardNo:this.user.cardNo}})});case 2:e=t.sent,this.hasManualed=e.result;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),openAuthWaysModal:function(){var t=this,e=new Vue({components:{authWaysModal:Ta},render:function(e){return e(Ta,{props:{root:t,user:t.user,otherModes:t.otherModes,channel:t.channel,useOtherFrom:"FACE",step:t.step}})}}).$mount();document.body.appendChild(e.$el)},judgeCardPictureType:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_IMAGE_EXIST",data:{userId:this.$_qyssdk_userId,name:this.user.username,cardNo:this.user.cardNo}})});case 3:e=t.sent,this.hasCardPic=e.faceImage,this.hasHoldCardPic=e.handfrontImage,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),triggerUploadFacePic:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$qUtils.chooseFile({accept:"image/*",capture:"camera"});case 2:e=t.sent,this.uploadFacePic(e);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),triggerUploadFaceVideo:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$qUtils.chooseFile({accept:"video/*",capture:"user"});case 2:e=t.sent,this.uploadVideo(e);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),uploadFacePic:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,a,i,s,r,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,n=e.target,!window.FileReader){t.next=35;break}if(a=new FileReader,i=n.files[0].name.split("."),s=i[i.length-1].toLowerCase(),r=Number(Math.round(100*n.files[0].size/1048576)/100),"png"===s||"jpg"===s||"jpeg"===s){t.next=12;break}return this.$message("请上传图片类型文件！"),t.abrupt("return",!1);case 12:if(!(r>20)){t.next=17;break}return this.$message("您上传的图片太大了！"),t.abrupt("return",!1);case 17:return this.status="loading",t.next=20,this.$qUtils.compressImg(n.files[0],{outputType:"blob",maxDefaultSize:2,quality:1,type:"jpeg",maxWidth:360,maxHeight:540});case 20:return o=t.sent,this.imgSrc=window.URL.createObjectURL(o),t.next=24,this.postMulti("",{file:o,requestData:JSON.stringify({type:"GET_FACE_COMPARE",data:{userId:this.$_qyssdk_userId}})},{headers:{noMes:"true"}});case 24:if(c=t.sent,!(0!==c.code&&this.failedTimes<2)){t.next=30;break}return this.failMsg="比对结果：".concat(c.message),this.increaseFailTimes(),this.status="failed",t.abrupt("return");case 30:0===c.code?this.dealStep("SUCCESS"):this.dealStep(c.nextStep),a.onload=function(t){a=""},a.onerror=function(t){this.$message("读取图片失败，请重新选择！")};case 33:t.next=36;break;case 35:this.$message("浏览器插件不支持");case 36:t.next=41;break;case 38:t.prev=38,t.t0=t["catch"](0),console.log(t.t0);case 41:case"end":return t.stop()}}),t,this,[[0,38]])})));function e(e){return t.apply(this,arguments)}return e}(),uploadVideo:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.status="loading",n=this.$loading("正在上传识别..."),a=e.target,this.axiosSource=Wa.a.CancelToken.source(),t.prev=4,!a.files[0]){t.next=15;break}if(i=Number(Math.round(100*a.files[0].size/1048576)/100),!(i>20)){t.next=11;break}return this.status="",this.$message("视频大小不能超过20M！"),t.abrupt("return",!1);case 11:return t.next=13,this.uploadVideoWithTimeout("",{file:a.files[0],requestData:JSON.stringify({type:"BAIDUAI_LIVENESS_VERIFY",data:{userId:this.$_qyssdk_userId,bizno:this.randomData.bizno}})});case 13:s=t.sent,0===s.code?this.dealStep("SUCCESS"):("END"===s.nextStep?this.dealStep("FACEFAILED"):this.dealStep(s.nextStep),this.status="failed");case 15:t.next=21;break;case 17:t.prev=17,t.t0=t["catch"](4),this.$qUtils.isObject(t.t0)&&t.t0.errorMsg&&(this.axiosSource.cancel(),this.status="init",this.$message(t.t0.errorMsg)),console.log(t.t0);case 21:return t.prev=21,n.close(),t.finish(21);case 24:case"end":return t.stop()}}),t,this,[[4,17,21,24]])})));function e(e){return t.apply(this,arguments)}return e}(),uploadVideoWithTimeout:function(t,e){return Promise.race([this.uploadVideoPromise(t,e),this.uploadVideoTimeout(6e4)])},uploadVideoPromise:function(t,e){return this.postMulti(t,e,{headers:{noMes:"true"}},this.axiosSource.token)},uploadVideoTimeout:function(t){var e={errorMsg:"上传文件超时!"};return new Promise((function(n,a){setTimeout((function(){a(e)}),t)}))},increaseFailTimes:function(){this.failedTimes++},getRandomNumber:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$loading("正在生成随机数"),t.prev=1,n="videoCode",t.next=5,this.postForm("",{requestData:JSON.stringify({type:"BAIDUAI_LIVENESS_CODE",data:{userId:this.$_qyssdk_userId}})});case 5:a=t.sent,i=a.result,this.randomData={generatedNumbers:i[n],bizno:i.bizno},t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0);case 13:return t.prev=13,e.close(),t.finish(13);case 16:case"end":return t.stop()}}),t,this,[[1,10,13,16]])})));function e(){return t.apply(this,arguments)}return e}()}},Va=Ba,Ga=(n("eca7"),Object(Z["a"])(Va,Ua,La,!1,null,"640c75c8",null)),Ja=Ga.exports,Ka=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"face-fail"},[a("div",{staticClass:"ios-compat-content"},[a("div",{staticClass:"result-top"},[a("q-icon",{staticClass:"exit-auth",attrs:{icon:"export"},on:{click:t.showExitAuthModal}}),a("img",{staticClass:"res-img",attrs:{src:n("5189")}}),a("span",{staticClass:"h2-title title"},[t._v("认证失败")]),t.authDetail.$get("logs",0,"reason")?a("span",{staticClass:"tip-large"},[t._v(t._s(t.authDetail.$get("logs",0,"reason")))]):t._e()],1),a("div",{staticClass:"result-bottom"},[a("span",{staticClass:"main-word title-color title"},[t._v("核对身份信息")]),a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word regular-color"},[t._v("姓    名")]),a("span",{staticClass:"main-word"},[t._v(t._s(t.info.username))])]),a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word regular-color"},[t._v("证件类型")]),a("span",{staticClass:"main-word"},[t._v(t._s(t.paperType))])]),a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word regular-color"},[t._v("证件号")]),a("span",{staticClass:"main-word"},[t._v(t._s(t.info.cardNo))])])]),a("div",{staticClass:"modify-info main-word body-color-dark",attrs:{type:"primary"},on:{click:t.repeatAuth}},[t._v("\n            修改信息重新认证\n        ")]),t.isShowOtherWays?a("div",{staticClass:"change-other main-word",attrs:{type:"primary"},on:{click:t.openAuthWaysModal}},[t._v("\n            尝试其他认证方式\n        ")]):t._e()])])},Za=[],Ya={name:"FaceFail",props:{user:{type:Object,default:function(){return{}}},otherModes:{type:String,default:""},channel:{type:String,default:""},successPage:{type:String,default:""},step:{type:String,default:""}},data:function(){return{info:{username:"",paperType:"",cardNo:"",mobile:""},authDetail:{},hasCardPic:!1,hasHoldCardPic:!1,hasManualed:!1,otherAuthWays:[],faildLogs:[]}},computed:{isUseMail:function(){var t=this.$qUtils.validata({value:this.info.mobile,noValNotValid:!1,rules:[{rule:this.$qUtils.validator.isEmail}]});return!t.isInvalid},paperType:function(){var t={IDCARD:"身份证",PASSPORT:"护照",HKMP:"港澳通行证",MTPS:"台胞证"};return t[this.info.paperType]||"身份证"},degradeToManual:function(){return this.otherAuthWays.includes("MANUAL")},baiduAiHasFailed:function(){return this.faildLogs.some((function(t){return"BAIDUAI"===t.type}))},isShowOtherWays:function(){var t=this.$qUtils.deepClone(this.otherAuthWays);"FACE"!==this.$appointAuthWay||this.baiduAiHasFailed||t.push("FACE");var e=!this.hasManualed&&this.degradeToManual&&!this.hasHoldCardPic;return!!e||!t.every((function(t){return"FACE"===t}))&&(!(!e&&t.every((function(t){return"MANUAL"===t})))&&!!t.length)}},watch:{"pageKey.$pageRandom":{handler:function(t){this.init()},deep:!0,immedidate:!0}},created:function(){this.init()},methods:{init:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getAuthInfo();case 2:return t.next=4,this.judgeCardPictureType();case 4:return t.next=6,this.judgeManualed();case 6:return t.next=8,this.$getAppointAuthWay();case 8:return t.next=10,this.$getAuthWays();case 10:return this.otherAuthWays=t.sent,t.next=13,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_LOG",data:{userId:this.$_qyssdk_userId}})});case 13:e=t.sent,n=e.result,this.faildLogs=n;case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),openAuthWaysModal:function(){var t=this,e=new Vue({components:{authWaysModal:Ta},render:function(e){return e(Ta,{props:{root:t,user:t.user,channel:t.channel,otherModes:t.otherModes,step:t.step,useOtherFrom:"FACE"}})}}).$mount();document.body.appendChild(e.$el)},judgeCardPictureType:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_IMAGE_EXIST",data:{userId:this.$_qyssdk_userId,name:this.user.username,cardNo:this.user.cardNo}})});case 3:e=t.sent,this.hasCardPic=e.faceImage,this.hasHoldCardPic=e.handfrontImage,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),repeatAuth:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$emit("reVerify"),t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_CURRENT_STEP",data:{userId:this.$_qyssdk_userId}})});case 3:if(e=t.sent,n=e.result,"END"!==n){t.next=8;break}return this.dealStep("INVALID"),t.abrupt("return");case 8:this.dealStep("INFO");case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),goManual:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("DEFAULT"!==this.authDetail.mode){t.next=3;break}return this.dealStep("MANUALINFO"),t.abrupt("return");case 3:return t.next=5,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_CURRENT_STEP",data:{userId:this.$_qyssdk_userId}})});case 5:if(e=t.sent,n=e.result,"END"!==n){t.next=10;break}return this.dealStep("INVALID"),t.abrupt("return");case 10:this.dealStep("manualAuth");case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getAuthInfo:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_DETAIL",data:{userId:this.$_qyssdk_userId}})});case 2:e=t.sent,n=this.decryptoData(e.result),a=n.result,this.info=a.authInfo,this.authDetail=a,this.user=Object.assign(this.user,a.authInfo);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),judgeManualed:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_PASS_BEFORE",data:{userId:this.$_qyssdk_userId,name:this.user.username,cardNo:this.user.cardNo}})});case 2:e=t.sent,this.hasManualed=e.result;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showExitAuthModal:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$mt.MessageBox.confirm("",{message:"确定退出认证流程？",confirmButtonClass:"main-word link-color"});case 3:this.$giveUpAuth(),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(){return t.apply(this,arguments)}return e}()}},Xa=Ya,Qa=(n("f3a8"),Object(Z["a"])(Xa,Ka,Za,!1,null,"603861e3",null)),ti=Qa.exports,ei=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"three-elements"},[n("auth-subheader",{attrs:{account:t.user.mobile}}),n("div",{staticClass:"content"},[n("div",{staticClass:"form-item",on:{click:function(e){return t.activeForm("mobile")}}},[n("div",{staticClass:"input-wrap area-code-con",class:"ui-input-"+t.mobile.status},[n("area-code",{directives:[{name:"show",rawName:"v-show",value:t.isCurrentFormActive||!!t.mobile.value,expression:"isCurrentFormActive || !!mobile.value"}],attrs:{className:"area-code-selecter",code:t.code},on:{toggleSelectCode:function(e){return t.toggleSelectCode("mobile")},getCode:t.getAreaCode}}),n("ui-textbox",{ref:"mobile",attrs:{"floating-label":"",id:"mobile",label:"手机号",iconPosition:"right"},on:{blur:function(e){return t.contactBlur("mobile")}},model:{value:t.mobile.value,callback:function(e){t.$set(t.mobile,"value",e)},expression:"mobile.value"}},[t.mobile.value&&t.$refs.$get("mobile","isActive")?n("q-icon",{staticClass:"clear-icon",attrs:{slot:"icon",icon:"close-circle-fill"},on:{touchstart:function(e){t.mobile.value=""}},slot:"icon"}):t._e()],1)],1),t.mobile.status?n("span",{staticClass:"ui-textbox-tips",class:t.mobile.status+"-tips"},[t._v(t._s(t.mobile.message))]):t._e()]),n("div",{staticClass:"code-wrap"},[n("div",{staticClass:"form-item form-item-code"},[n("div",{staticClass:"input-wrap",class:"ui-input-"+t.pin.status},[n("ui-textbox",{ref:"pin",attrs:{"floating-label":"",id:"pin",label:"验证码",enforceMaxlength:!0,maxlength:6},model:{value:t.pin.value,callback:function(e){t.$set(t.pin,"value",e)},expression:"pin.value"}})],1),t.pin.status?n("span",{staticClass:"ui-textbox-tips",class:t.pin.status+"-tips"},[t._v(t._s(t.pin.message))]):t._e()]),n("div",{staticClass:"get-code-btn main-word link-color",class:{disabled:!t.countStatus||!t.mobile.value},on:{click:function(e){t.countStatus&&t.mobile.value&&t.sendCode()}}},[t._v("\n                "+t._s(t.isFirst?"获取验证码":t.countDown)+"\n            ")])]),n("auth-button",{staticClass:"submit-btn",attrs:{type:"primary",disabled:t.isDisabled,debounce:300},on:{click:t.submit}},[t._v("提交")])],1),t.showOtherAuthWays?n("div",{staticClass:"tips"},[n("span",{staticClass:"tip-large"},[t._v("不记得手机号？")]),n("span",{staticClass:"tip-large link-color",on:{click:t.openAuthWaysModal}},[t._v("尝试其他认证方式")])]):t._e()],1)},ni=[],ai={name:"ThreeElements",props:{user:{type:Object,default:function(){return{}}},otherModes:{type:String,default:""},channel:{type:String,default:""},step:{type:String,default:""},accountPrecheck:{type:Boolean,default:!1}},data:function(){return{interval:null,isFirst:!0,countDown:"重新获取",countStatus:!0,countNumber:60,mobile:{value:"",status:"",message:""},pin:{value:"",status:"",message:""},code:{label:"大陆",areaAbbr:"ZH",code:"+86",value:""},activeForm:null,isCurrentFormActive:!1,authWays:[]}},computed:{showOtherAuthWays:function(){if(this.accountPrecheck)return!1;var t=this.$qUtils.deepClone(this.authWays),e=t.findIndex((function(t){return"IVS"===t}));return e>-1&&t.splice(e,1),0!==t.length},isDisabled:function(){return!this.mobile.value||"error"===this.mobile.status||!this.pin.value||"error"===this.pin.status}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.activeForm=this.$qUtils.debounce((function(t){e.isCurrentFormActive=e.$refs[t]&&e.$refs[t].isActive}),200),t.next=3,this.$getAuthWays();case 3:this.authWays=t.sent;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){document.addEventListener("touchstart",this.bindEvent,!1)},beforeDestroy:function(){document.removeEventListener("touchstart",this.bindEvent,!1),this.interval&&clearInterval(this.interval)},methods:{bindEvent:function(){this.activeForm("mobile")},openAuthWaysModal:function(){var t=this,e=new Vue({components:{authWaysModal:Ta},render:function(e){return e(Ta,{props:{root:t,user:t.user,otherModes:t.otherModes,channel:t.channel,step:t.step,useOtherFrom:"IVS"}})}}).$mount();document.body.appendChild(e.$el)},validatePin:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_PINVALIDATE",data:{userId:this.$_qyssdk_userId,mobile:this.user.mobile||this.getContactWithCode(this.code.value,this.mobile.value),pin:this.pin.value}})});case 2:return e=t.sent,n=e.result,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),submit:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i,s,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.user,n=e.username,a=e.cardNo,i=e.mobile,s={username:n,cardNo:a,mobile:i||this.getContactWithCode(this.code.value,this.mobile.value),cellphone:this.getContactWithCode(this.code.value,this.mobile.value),pin:this.pin.value},r=this.$loading("正在提交"),t.prev=3,!this.accountPrecheck){t.next=13;break}return t.next=7,this.validatePin();case 7:return o=t.sent,t.next=10,this.saveMobile();case 10:o.result?this.dealStep("INFO"):this.$message("手机号验证失败"),t.next=17;break;case 13:return t.next=15,this.postForm("",{requestData:JSON.stringify({type:"UPLOAD_IVS_MATERIAL",data:{userId:this.$_qyssdk_userId,material:s,pin:s.pin}})});case 15:return t.next=17,this.verify();case 17:t.next=22;break;case 19:t.prev=19,t.t0=t["catch"](3),console.log(t.t0);case 22:return t.prev=22,r.close(),t.finish(22);case 25:case"end":return t.stop()}}),t,this,[[3,19,22,25]])})));function e(){return t.apply(this,arguments)}return e}(),saveMobile:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"SAVE_AUTH_PHONE",data:{userId:this.$_qyssdk_userId,mobile:this.user.mobile||this.getContactWithCode(this.code.value,this.mobile.value)}})});case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),verify:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"PHONE_AUTH_VERIFY",data:{userId:this.$_qyssdk_userId}})},{headers:{noMes:"true"}});case 3:e=t.sent,0===e.code&&"END"===e.nextStep?this.dealStep("SUCCESS"):this.dealStep(e.nextStep),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),sendCode:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.mobile.value){t.next=3;break}return this.$message("请输入手机号码"),t.abrupt("return",!1);case 3:return this.interval&&clearInterval(this.interval),t.prev=4,t.next=7,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_PIN",data:{userId:this.$_qyssdk_userId,mobile:this.getContactWithCode(this.code.value,this.mobile.value)}})},{headers:{noMes:"true"}});case 7:if(e=t.sent,0!==e.code){t.next=12;break}this.countNumber=60,t.next=14;break;case 12:return this.$message(e.message),t.abrupt("return",!1);case 14:this.interval=setInterval((function(){0===n.countNumber?(n.countStatus=!0,n.countDown="重新获取",clearInterval(n.interval)):(n.isFirst&&(n.isFirst=!1),n.countStatus=!1,n.countDown="".concat(n.countNumber,"s"),n.countNumber--)}),1e3),t.next=22;break;case 17:t.prev=17,t.t0=t["catch"](4),this.countStatus=!1,this.countNumber=0,console.log(t.t0);case 22:case"end":return t.stop()}}),t,this,[[4,17]])})));function e(){return t.apply(this,arguments)}return e}(),contactBlur:function(t){"mobile"===t&&(this.activeForm("mobile"),this.inputBlur(t))},trimData:function(t){var e=this.mobile.value;return e&&(e=e.replace(/\s/g,""),this.mobile.value=e),e},inputBlur:function(t){var e=this.mobile.value,n=null;if("mobile"===t){e=this.trimData(t);var a="is".concat(this.code.areaAbbr,"Phone");n=this.$qUtils.validata({value:e,rules:[{rule:this.$qUtils.validator[a],level:"error",message:"手机号码格式不正确"}]})}n.isInvalid?(this.mobile.status=n.status,this.mobile.message=n.message):(this.mobile.status="",this.mobile.message="")},getAreaCode:function(t){this.code=t},toggleSelectCode:function(t){this.$refs[t].focus()}}},ii=ai,si=(n("4683"),Object(Z["a"])(ii,ei,ni,!1,null,"14c1590e",null)),ri=si.exports,oi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"outerWrapper",staticClass:"bank-wrapper"},[n("auth-subheader",{attrs:{account:t.user.mobile}}),n("div",{staticClass:"bank-content"},[n("div",{staticClass:"form-item"},[n("div",{staticClass:"input-wrap",class:t.inputStatus(t.info.bankNo.status)},[n("ui-textbox",{ref:"bankNo",attrs:{"floating-label":"",id:"bankNo",label:"银行卡号",iconPosition:"right",disabled:t.bankNoDisabled},on:{blur:function(e){return t.checkData("bankNo")}},model:{value:t.info.bankNo.value,callback:function(e){t.$set(t.info.bankNo,"value",e)},expression:"info.bankNo.value"}},[t.info.bankNo.value&&t.$refs.$get("bankNo","isActive")?n("q-icon",{staticClass:"clear-icon",attrs:{slot:"icon",icon:"close-circle-fill"},on:{touchstart:function(e){t.info.bankNo.value=""}},slot:"icon"}):t._e()],1)],1),t.info.bankNo.status?n("span",{staticClass:"ui-textbox-tips",class:t.tipStaus(t.info.bankNo.status)},[t._v("\n                "+t._s(t.info.bankNo.message)+"\n            ")]):t._e()]),n("div",{staticClass:"form-item",on:{click:function(e){return t.activeForm("contact")}}},[n("div",{staticClass:"input-wrap",class:[t.inputStatus(t.info.contact.status),!t.bankContactIsUseEmail&&"area-code-con"]},[t.bankContactIsUseEmail?t._e():n("area-code",{directives:[{name:"show",rawName:"v-show",value:t.isContactActive||!!t.info.contact.value,expression:"isContactActive || !!info.contact.value"}],attrs:{type:"contact",className:"area-code-selecter",code:t.contactCode,disabled:t.bankContactDisabled},on:{toggleSelectCode:function(e){return t.toggleSelectCode("contact")},getCode:t.getAreaCode}}),n("ui-textbox",{ref:"contact",attrs:{"floating-label":"",id:"contact",label:"银行预留手机号",iconPosition:"right",disabled:t.bankContactDisabled},on:{blur:function(e){t.checkData("contact"),t.activeForm("contact")},input:t.contactInput},model:{value:t.info.contact.value,callback:function(e){t.$set(t.info.contact,"value",e)},expression:"info.contact.value"}},[t.info.contact.value&&t.$refs.$get("contact","isActive")?n("q-icon",{staticClass:"clear-icon",attrs:{slot:"icon",icon:"close-circle-fill"},on:{touchstart:function(e){t.info.contact.value=""}},slot:"icon"}):t._e()],1)],1),t.info.contact.status?n("span",{staticClass:"ui-textbox-tips",class:t.tipStaus(t.info.contact.status)},[t._v("\n                "+t._s(t.info.contact.message)+"\n            ")]):t._e()]),t.showPin?n("div",{staticClass:"code-wrap"},[n("div",{staticClass:"form-item form-item-code"},[n("div",{staticClass:"input-wrap",class:t.inputStatus(t.info.pin.status)},[n("ui-textbox",{ref:"pin",attrs:{"floating-label":"",id:"pin",label:"验证码",maxlength:6,enforceMaxlength:!0},model:{value:t.info.pin.value,callback:function(e){t.$set(t.info.pin,"value",e)},expression:"info.pin.value"}})],1),t.info.pin.status?n("span",{staticClass:"ui-textbox-tips",class:t.tipStaus(t.info.pin.status)},[t._v("\n                    "+t._s(t.info.pin.message)+"\n                ")]):t._e()]),n("div",{staticClass:"get-code-btn main-word link-color",class:{disabled:!t.countEnable},on:{click:t.sendCode}},[t._v("\n                "+t._s(t.countDown)+"\n            ")])]):t._e(),n("auth-button",{staticClass:"submit-btn",staticStyle:{"margin-top":"40px"},attrs:{type:"primary",disabled:t.submitDisable,debounce:300},on:{click:t.submit}},[t._v("\n            下一步\n        ")]),t.showOtherAuthWays?n("div",{staticClass:"tips"},[n("span",{staticClass:"tip-large"},[t._v("不记得卡号/手机号？")]),n("span",{staticClass:"tip-large link-color",on:{click:t.openAuthWaysModal}},[t._v("尝试其他认证方式")])]):t._e()],1)],1)},ci=[],li={name:"Bank",props:{user:{type:Object,default:function(){return{}}},staticInfo:{type:Object,default:function(){return{}}},canEditBankPhone:{type:Boolean,default:!0},modifyFieldList:{type:Array,default:function(){return[]}},otherModes:{type:String,default:""},channel:{type:String,default:""},step:{type:String,default:""},accountPrecheck:{type:Boolean,default:!1}},data:function(){return{interval:null,countNumber:null,info:{bankNo:{value:this.user.bankNo||"",status:"",message:""},contact:{value:this.bankContactIsUseEmail?"":this.getContactCodeAndContent(this.user.contact||"").contactContent,status:"",message:""},pin:{value:"",status:"",message:""}},contactCode:this.getAreaCodeObj(this.user.contact||""),activeForm:null,isContactActive:!1,isSubmitSuccess:!1,showPin:!0,authWays:[],faildLogs:[],hasHoldCardPic:!1,hasManualed:!1}},computed:{degradeToManual:function(){return this.authWays.includes("MANUAL")},showOtherAuthWays:function(){var t=this.$qUtils.deepClone(this.authWays),e=t.findIndex((function(t){return"BANK"===t}));if(e>-1&&t.splice(e,1),"BANK"===this.$appointAuthWay&&0===this.faildLogs.length)return!1;var n=!this.hasManualed&&this.degradeToManual&&!this.hasHoldCardPic;return!!n||!(!n&&t.every((function(t){return"MANUAL"===t})))&&0!==t.length},bankNoDisabled:function(){return this.hasDefaultBankNo&&!this.modifyFieldList.includes("BANKNO")},bankContactDisabled:function(){return!this.bankContactIsUseEmail&&(!this.modifyFieldList.includes("BANKMOBILE")&&!this.canEditBankPhone&&this.hasDefaultBankMobile)},submitDisable:function(){var t=this;return!!this.isSubmitSuccess||Object.keys(this.info).some((function(e){return"pin"!==e&&!t.info[e].value||(!("pin"!==e||!t.showPin||t.info[e].value)||"error"===t.info[e].status)}))},bankContactIsUseEmail:function(){var t=this.$qUtils.validata({value:this.user.contact,noValNotValid:!1,rules:[{rule:this.$qUtils.validator.isEmail}]});return!t.isInvalid},countEnable:function(){return 0===this.countNumber||null===this.countNumber},countDown:function(){return null===this.countNumber?"点击获取":0===this.countNumber?"重新获取":"".concat(this.countNumber,"s")},hasDefaultBankNo:function(){return!!this.staticInfo.bankNo},hasDefaultBankMobile:function(){return!!this.staticInfo.contact}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.activeForm=this.$qUtils.debounce((function(t){"contact"===t&&(a.isContactActive=a.$refs[t]&&a.$refs[t].isActive)}),100),t.next=3,this.judgeManualed();case 3:return t.next=5,this.judgeCardPictureType();case 5:return t.next=7,this.$getAppointAuthWay();case 7:return t.next=9,this.$getAuthWays();case 9:return this.authWays=t.sent,t.next=12,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_LOG",data:{userId:this.$_qyssdk_userId}})});case 12:e=t.sent,n=e.result,this.faildLogs=n;case 15:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){document.addEventListener("touchstart",this.bindEvent,!1)},beforeDestroy:function(){document.removeEventListener("touchstart",this.bindEvent,!1),this.cleanInterval()},methods:{judgeManualed:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_PASS_BEFORE",data:{userId:this.$_qyssdk_userId,name:this.user.username,cardNo:this.user.cardNo}})});case 2:e=t.sent,this.hasManualed=e.result;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),judgeCardPictureType:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_IMAGE_EXIST",data:{userId:this.$_qyssdk_userId,name:this.user.username,cardNo:this.user.cardNo}})});case 3:e=t.sent,this.hasHoldCardPic=e.handfrontImage,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}(),contactInput:function(t){var e={8:"HK",9:"TW",10:"TW",11:"ZH"},n="".concat(t.length);if(e.hasOwnProperty(n)&&e[n]===this.contactCode.areaAbbr){var a=this.getContactCodeAndContent(this.user.mobile||"").contactContent;this.showPin=t!==a}else this.showPin=!0},openAuthWaysModal:function(){var t=this,e=new Vue({components:{authWaysModal:Ta},render:function(e){return e(Ta,{props:{root:t,user:t.user,otherModes:t.otherModes,alipayInstalled:t.alipayInstalled,livinessAccessed:t.livinessAccessed,channel:t.channel,useOtherFrom:"BANK",step:t.step}})}}).$mount();document.body.appendChild(e.$el)},inputStatus:function(t){return"error"===t?"ui-input-error":"warning"===t?"ui-input-warning":void 0},tipStaus:function(t){return"error"===t?"error-tips":"warning"===t?"warning-tips":void 0},bindEvent:function(){this.activeForm("contact")},sendCode:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.countEnable){t.next=2;break}return t.abrupt("return");case 2:if(this.info.contact.value){t.next=5;break}return this.$message("请先输入手机号"),t.abrupt("return",!1);case 5:return this.countNumber=60,this.interval=setInterval((function(){0===e.countNumber?e.cleanInterval():e.countNumber--}),1e3),t.prev=7,t.next=10,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_PIN",data:{userId:this.$_qyssdk_userId,mobile:this.getContactWithCode(this.contactCode.value,this.info.contact.value)}})});case 10:t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](7),this.countNumber=0,console.log(t.t0);case 16:case"end":return t.stop()}}),t,this,[[7,12]])})));function e(){return t.apply(this,arguments)}return e}(),cleanInterval:function(){this.interval&&clearInterval(this.interval)},submit:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i,s=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(["bankNo","contact"].forEach((function(t){s.checkData(t)})),!this.submitDisable){t.next=3;break}return t.abrupt("return");case 3:return e=this.$loading("正在提交"),t.prev=4,n=this.formateInfo(),t.next=8,this.postForm("",{requestData:JSON.stringify({type:"UPLOAD_BANK_MATERIAL",data:{userId:this.$_qyssdk_userId,material:n,pin:n.pin}})});case 8:return this.isSubmitSuccess=!0,e.close(),t.next=12,this.postForm("",{requestData:JSON.stringify({type:"BANK_AUTH_VERIFY",data:{userId:this.$_qyssdk_userId}})},{headers:{noMes:"true"}});case 12:if(a=t.sent,i=a.nextStep,delete n.pin,this.user=Object.assign(this.user,n),"END"!==i){t.next=19;break}return this.dealStep("SUCCESS"),t.abrupt("return");case 19:this.dealStep(i),t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](4),e.close(),console.log(t.t0);case 26:case"end":return t.stop()}}),t,this,[[4,22]])})));function e(){return t.apply(this,arguments)}return e}(),formateInfo:function(){var t=this,e={};return Object.keys(this.info).forEach((function(n){e[n]="contact"!==n?t.info[n].value:t.getContactWithCode(t.contactCode.value,t.info[n].value)})),["username","paperType","cardNo","mobile"].forEach((function(n){e[n]=t.user[n]})),e},checkData:function(t){var e=this.info[t].value,n={};switch(t){case"bankNo":e=this.trimData(t),n=this.$qUtils.validata({value:e,rules:[{rule:this.$qUtils.validator.isCreditCard,level:"error",message:"银行卡号格式不正确"}]});break;case"contact":e=this.trimData(t);var a="is".concat(this.contactCode.areaAbbr,"Phone");n=this.$qUtils.validata({value:e,rules:[{rule:this.$qUtils.validator[a],level:"error",message:"手机号码格式不正确"}]});break}n.isInvalid?(this.info[t].status=n.status,this.info[t].message=n.message):(this.info[t].status="",this.info[t].message="")},getAreaCode:function(t,e){"contact"===e&&(this.contactCode=t)},toggleSelectCode:function(t){this.$refs[t].focus()},trimData:function(t){var e=this.info[t].value;return e&&(e=e.replace(/\s/g,""),this.info[t].value=e),e}}},ui=li,pi=(n("b6e8"),Object(Z["a"])(ui,oi,ci,!1,null,"48f2c642",null)),fi=pi.exports,di=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bank-fail"},[a("div",{staticClass:"main-content"},[a("div",{staticClass:"result-top"},[a("q-icon",{staticClass:"exit-auth",attrs:{icon:"export"},on:{click:t.showExitAuthModal}}),a("img",{staticClass:"res-img",attrs:{src:n("5189")}}),a("span",{staticClass:"h2-title title"},[t._v("认证失败")]),a("span",{staticClass:"tip-large"},[t._v("身份信息与银行卡登记信息不匹配")])],1),a("div",{staticClass:"result-bottom"},[a("div",{staticClass:"info-module"},[a("span",{staticClass:"main-word title-color title"},[t._v("核对身份信息")]),a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word regular-color"},[t._v("姓    名")]),a("span",{staticClass:"main-word"},[t._v(t._s(t.user.username))])]),a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word regular-color"},[t._v("证件类型")]),a("span",{staticClass:"main-word"},[t._v(t._s(t.paperType))])]),a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word regular-color"},[t._v("证件号")]),a("span",{staticClass:"main-word"},[t._v(t._s(t.user.cardNo))])]),t.user.mobile?a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word regular-color"},[t._v(t._s(t.isUseMail?"邮箱":"手机号"))]),a("span",{staticClass:"main-word"},[t._v(t._s(t.user.mobile))])]):t._e()]),a("div",{staticClass:"info-module"},[a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word regular-color"},[t._v("银行卡号")]),a("span",{staticClass:"main-word"},[t._v(t._s(t.user.bankNo))])]),a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word regular-color"},[t._v("银行预留手机号")]),a("span",{staticClass:"main-word"},[t._v(t._s(t.user.contact))])])])]),a("div",{staticClass:"modify-info main-word body-color-dark",attrs:{type:"primary"},on:{click:t.authRepeat}},[t._v("\n            修改信息重新认证\n        ")]),t.isShowOtherWays?a("div",{staticClass:"change-other main-word",attrs:{type:"primary"},on:{click:t.openAuthWaysModal}},[t._v("\n            尝试其他认证方式\n        ")]):t._e()])])},hi=[],mi={name:"BankFail",props:{otherModes:{type:String,default:""},user:{type:Object,default:function(){return{}}},channel:{type:String,default:""},successPage:{type:String,default:""},step:{type:String,default:""}},data:function(){return{hasCardPic:!1,hasHoldCardPic:!1,hasManualed:!1,isNextStepDisabled:!1,otherAuthWays:[]}},computed:{isUseMail:function(){var t=this.$qUtils.validata({value:this.user.mobile,noValNotValid:!1,rules:[{rule:this.$qUtils.validator.isEmail}]});return!t.isInvalid},paperType:function(){var t={IDCARD:"身份证",PASSPORT:"护照",HKMP:"港澳通行证",MTPS:"台胞证"};return t[this.user.paperType]},degradeToManual:function(){return this.otherAuthWays.includes("MANUAL")},isShowOtherWays:function(){var t=this.$qUtils.deepClone(this.otherAuthWays),e=!this.hasManualed&&this.degradeToManual&&!this.hasHoldCardPic;return!!e||!(!e&&t.every((function(t){return"MANUAL"===t})))&&!!t.length}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getDetail();case 2:return t.next=4,this.judgeCardPictureType();case 4:return t.next=6,this.judgeManualed();case 6:return t.next=8,this.$getAuthWays();case 8:this.otherAuthWays=t.sent;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{openAuthWaysModal:function(){var t=this,e=new Vue({components:{authWaysModal:Ta},render:function(e){return e(Ta,{props:{root:t,user:t.user,channel:t.channel,otherModes:t.otherModes,step:t.step}})}}).$mount();document.body.appendChild(e.$el)},judgeCardPictureType:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_IMAGE_EXIST",data:{userId:this.$_qyssdk_userId,name:this.user.username,cardNo:this.user.cardNo}})});case 3:e=t.sent,this.hasCardPic=e.faceImage,this.hasHoldCardPic=e.handfrontImage,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),authRepeat:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$emit("reVerify"),t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_CURRENT_STEP",data:{userId:this.$_qyssdk_userId}})});case 3:if(e=t.sent,n=e.result,"END"!==n){t.next=8;break}return this.dealStep("INVALID"),t.abrupt("return");case 8:this.dealStep("INFO");case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getDetail:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_DETAIL",data:{userId:this.$_qyssdk_userId}})});case 2:e=t.sent,n=this.decryptoData(e.result),a=n.result,this.otherModes&&(this.user=Object.assign(this.user,a.authInfo));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),judgeManualed:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_PASS_BEFORE",data:{userId:this.$_qyssdk_userId,name:this.user.username,cardNo:this.user.cardNo}})});case 2:e=t.sent,this.hasManualed=e.result;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showExitAuthModal:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$mt.MessageBox.confirm("",{message:"确定退出认证流程？",confirmButtonClass:"main-word link-color"});case 3:this.$giveUpAuth(),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(){return t.apply(this,arguments)}return e}()}},vi=mi,yi=(n("4c02"),Object(Z["a"])(vi,di,hi,!1,null,"42d5ddc4",null)),gi=yi.exports,bi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"outerWrapper",staticClass:"manual-wrapper"},[n("auth-subheader",{attrs:{account:t.user.mobile}}),n("div",{staticClass:"content"},[n("span",{staticClass:"h3-title title-color title"},[t._v(t._s(t.cardName)+"上传")]),n("div",{staticClass:"image-row"},[n("div",{staticClass:"image-item",on:{click:function(e){return t.uploadIdCard("faceSide")}}},[n("div",{class:["img-operate",{"has-img":!!t.faceImgSrc}]},[n("q-icon",{staticClass:"camera-fill-icon",class:{"white-color":!!t.faceImgSrc},attrs:{icon:"camera-fill"}}),n("span",{class:["tip-large","body-color",{"white-color":!!t.faceImgSrc}]},[t._v(t._s(t.faceImgSrc?"点击重新拍摄":t.cardName+"（正面）"))])],1),n("img",{staticClass:"middle-center upload-img",attrs:{src:t.faceImgSrc},on:{load:t.$qUtils.fillContainerWhenImgLoad}})]),n("div",{staticClass:"image-item",on:{click:function(e){return t.uploadIdCard("hold")}}},[n("div",{class:["img-operate",{"has-img":!!t.holdImgSrc}]},[n("q-icon",{staticClass:"camera-fill-icon",class:{"white-color":!!t.holdImgSrc},attrs:{icon:"camera-fill"}}),n("span",{class:["tip-large","body-color",{"white-color":!!t.holdImgSrc}]},[t._v(t._s(t.holdImgSrc?"点击重新拍摄":"手持"+t.cardName))])],1),n("img",{staticClass:"middle-center upload-img",attrs:{src:t.holdImgSrc},on:{load:t.$qUtils.fillContainerWhenImgLoad}})])]),t.hasAccount?t._e():n("div",{staticClass:"form-item",on:{click:function(e){return t.activeForm("mobile")}}},[n("div",{class:["input-wrap",!t.isUseMail&&"area-code-con","ui-input-"+t.mobile.status]},[t.isUseMail?t._e():n("area-code",{directives:[{name:"show",rawName:"v-show",value:t.isCurrentFormActive||!!t.mobile.value,expression:"isCurrentFormActive || !!mobile.value"}],attrs:{type:"mobile",className:"area-code-selecter",code:t.code},on:{toggleSelectCode:function(e){return t.toggleSelectCode("mobile")},getCode:t.getAreaCode}}),n("ui-textbox",{ref:"mobile",attrs:{"floating-label":"",id:"mobile",label:t.isUseMail?"邮箱":"手机号",iconPosition:"right"},on:{blur:t.contactBlur},model:{value:t.mobile.value,callback:function(e){t.$set(t.mobile,"value",e)},expression:"mobile.value"}},[t.$refs.$get("mobile","isActive")&&!t.isUseMail?n("q-icon",{staticClass:"mobile-icon",attrs:{slot:"icon",icon:"mail-change-o-"},on:{touchstart:function(e){t.isUseMail=!t.isUseMail,t.inputBlur()}},slot:"icon"}):t._e(),t.$refs.$get("mobile","isActive")&&t.isUseMail?n("q-icon",{staticClass:"mobile-icon",attrs:{slot:"icon",icon:"iphone-change-o-"},on:{touchstart:function(e){t.isUseMail=!t.isUseMail,t.inputBlur()}},slot:"icon"}):t._e()],1)],1),t.mobile.status?n("span",{class:["ui-textbox-tips","error"===t.mobile.status&&"error-tips","warning"===t.mobile.status&&"warning-tips"]},[t._v(t._s(t.mobile.message))]):t._e()]),n("div",{staticClass:"form-item"},[n("div",{staticClass:"input-wrap",class:"ui-input-"+t.remark.status},[n("ui-textbox",{ref:"remark",attrs:{"floating-label":"",id:"remark",label:"添加备注",iconPosition:"right",enforceMaxlength:!0,maxlength:30},on:{focus:t.inpFocus,blur:t.handleIosScroll},model:{value:t.remark.value,callback:function(e){t.$set(t.remark,"value",e)},expression:"remark.value"}},[t.remark.value&&t.$refs.$get("remark","isActive")?n("q-icon",{staticClass:"clear-icon",attrs:{slot:"icon",icon:"close-circle-fill"},on:{touchstart:function(e){t.remark.value=""}},slot:"icon"}):t._e()],1)],1),t.remark.status?n("span",{staticClass:"ui-textbox-tips",class:t.remark.status+"-tips"},[t._v(t._s(t.remark.message))]):t._e()]),n("auth-button",{staticClass:"submit-btn",attrs:{type:"primary",disabled:t.isDisabled,debounce:300},on:{click:t.submit}},[t._v("提交")])],1)],1)},_i=[],Si=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"manual-photo-modal",on:{click:t.close}},[n("div",{staticClass:"modal-content"},[n("img",{attrs:{src:t.img}}),t._l(t.tips,(function(e,a){return n("div",{key:a,staticClass:"tip-item main-word"},[n("span",{staticClass:"main-word disable-color"},[t._v("•")]),t._v(" "+t._s(e)+"\n        ")])})),n("auth-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.goUploadImg(e)}}},[t._v("我知道了")])],2)])},wi=[],Ci={name:"ManualPhotoModal",props:{img:{type:String,default:"",required:!0},tips:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{goUploadImg:function(){this.$emit("goUploadImg"),this.close()},close:function(){this.$destroy(!0);var t=this.$el;t.parentNode.removeChild(t)}}},xi=Ci,ki=(n("35c3"),Object(Z["a"])(xi,Si,wi,!1,null,"3ca26b5f",null)),Ii=ki.exports,Ai=n("87f3"),Ni=n.n(Ai),zi=n("e14d"),Ti=n.n(zi),Oi={name:"Manual",props:{user:{type:Object,default:function(){return{}}}},data:function(){return{remark:{value:"",status:"",message:""},mobile:{value:"",status:"",message:""},imgSide:"",faceImgSrc:"",holdImgSrc:"",imgKey:{faceImgFileKey:"",holdImgFileKey:""},code:{label:"大陆",areaAbbr:"ZH",code:"+86",value:""},activeForm:null,isCurrentFormActive:!1,isUseMail:!1,isCanScroll:!1,manualStatus:""}},computed:{hasAccount:function(){return!!this.user.mobile},isDisabled:function(){return this.hasAccount?!this.faceImgSrc||!this.holdImgSrc||"error"===this.remark.status:!this.faceImgSrc||!this.holdImgSrc||"error"===this.remark.status||!this.mobile.value||"error"===this.mobile.status},cardName:function(){var t={IDCARD:"身份证",PASSPORT:"护照",HKMP:"港澳通行证",MTPS:"台胞证"};return t[this.user.paperType]}},watch:{isCanScroll:function(t){var e=this;t&&this.$nextTick((function(){e.$refs.outerWrapper.scrollIntoView()}))}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.activeForm=this.$qUtils.debounce((function(t){e.isCurrentFormActive=e.$refs[t]&&e.$refs[t].isActive}),200),t.next=3,this.hasAuditOrReject();case 3:if(!this.manualStatus){t.next=6;break}return"audit"===this.manualStatus&&this.dealStep("MANUALING"),t.abrupt("return");case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){document.addEventListener("touchstart",this.bindEvent,!1)},beforeDestroy:function(){document.removeEventListener("touchstart",this.bindEvent,!1)},methods:{bindEvent:function(){this.activeForm("mobile")},hasAuditOrReject:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.user,n=e.username,a=e.cardNo,t.prev=1,t.next=4,this.postForm("",{requestData:JSON.stringify({type:"GET_MANUAL_AUDITREJECT",data:{userId:this.$_qyssdk_userId,name:n,cardNo:a}})});case 4:i=t.sent,s=i.result,this.manualStatus=s.key,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,this,[[1,9]])})));function e(){return t.apply(this,arguments)}return e}(),submit:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i,s,r,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.inputBlur(),"error"!==this.mobile.status){t.next=3;break}return t.abrupt("return");case 3:return e=this.user,n=e.username,a=e.cardNo,i=e.mobile,s=e.paperType,this.hasAccount||(i=this.isUseMail?this.mobile.value:this.getContactWithCode(this.code.value,this.mobile.value)),r={username:n,cardNo:a,paperType:s,mobile:i,front:this.imgKey.faceImgFileKey,handFront:this.imgKey.holdImgFileKey,description:this.remark.value},o=this.$loading("正在提交"),t.prev=7,t.next=10,this.postForm("",{requestData:JSON.stringify({type:"UPLOAD_MANUAL_MATERIAL",data:{userId:this.$_qyssdk_userId,material:r}})});case 10:c=t.sent,this.dealStep(c.nextStep),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](7),console.log(t.t0);case 17:return t.prev=17,o.close(),t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[7,14,17,20]])})));function e(){return t.apply(this,arguments)}return e}(),uploadIdCard:function(t){var e=this;this.imgSide=t;var n,a=[];if("faceSide"===t){if(this.faceImgSrc)return void this.uploadImg();n=Ni.a,a=["示例图为身份证，请根据您的证件类型上传照片","确保证件中的头像与文字清晰可辨、无反光"]}else if("hold"===t){if(this.holdImgSrc)return void this.uploadImg();n=Ti.a,a=["示例图为身份证，请根据您的证件类型上传照片","确保您的脸部与证件信息清晰可辨、无反光","确保证件没有左右倒置"]}var i=new Vue({components:{uploadImgTipsModal:Ii},render:function(t){return t(Ii,{props:{img:n,tips:a},on:{goUploadImg:e.uploadImg}})}}).$mount();document.body.appendChild(i.$el)},uploadImg:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$qUtils.chooseFile({accept:"image/*"});case 2:e=t.sent,this.uploadIdCardPic(e);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),uploadIdCardPic:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=this.$loading("图片压缩上传中..."),t.prev=1,t.next=4,this.uploadImageHandler(e);case 4:if(a=t.sent,a){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.postMulti("",{file:a,requestData:JSON.stringify({type:"UPLOAD_MANUAL_FRONT",data:{userId:this.$_qyssdk_userId}})});case 9:i=t.sent,s=this.$qUtils.deepClone(i),"faceSide"===this.imgSide?(this.faceImgSrc=window.URL.createObjectURL(a),this.imgKey.faceImgFileKey=s.result):"hold"===this.imgSide&&(this.holdImgSrc=window.URL.createObjectURL(a),this.imgKey.holdImgFileKey=s.result),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](1),console.log(t.t0);case 17:return t.prev=17,n.close(),t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[1,14,17,20]])})));function e(e){return t.apply(this,arguments)}return e}(),inpFocus:function(t){this.isCanScroll=!1},handleIosScroll:function(){this.isCanScroll=!0},contactBlur:function(){this.activeForm("mobile"),this.inputBlur()},trimData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",n=this.info[t].value;return n&&("terminal"===e?n=n.trim():"all"===e&&(n=n.replace(/\s/g,"")),this.info[t].value=n),n},inputBlur:function(){var t=this.mobile.value.replace(/\s/g,""),e=null;if(this.isUseMail)e=this.$qUtils.validata({value:t,rules:[{rule:this.$qUtils.validator.isEmail,level:"error",message:"邮箱格式不正确"}]});else{var n="is".concat(this.code.areaAbbr,"Phone");e=this.$qUtils.validata({value:t,rules:[{rule:this.$qUtils.validator[n],level:"error",message:"手机号码格式不正确"}]})}e.isInvalid?(this.mobile.status=e.status,this.mobile.message=e.message):(this.mobile.status="",this.mobile.message="")},getAreaCode:function(t){this.code=t},toggleSelectCode:function(t){this.$refs[t].focus()}}},$i=Oi,Ei=(n("eb14"),Object(Z["a"])($i,bi,_i,!1,null,"b658d136",null)),Mi=Ei.exports,Di=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manual-in-audit"},[a("div",{staticClass:"result-top"},[a("q-icon",{staticClass:"exit-auth",attrs:{icon:"export"},on:{click:t.showExitAuthModal}}),a("img",{staticClass:"res-img",attrs:{src:n("7a54")}}),a("span",{staticClass:"h2-title title"},[t._v("审核中")]),t._m(0)],1),a("div",{staticClass:"result-bottom"},[a("div",{staticClass:"info-module"},[a("div",{staticClass:"h3-title regular-color title"},[t._v("您提交的认证信息")]),a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word"},[t._v("姓    名")]),a("span",{staticClass:"main-word regular-color"},[t._v(t._s(t.info.name))])]),a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word"},[t._v("证件类型")]),a("span",{staticClass:"main-word regular-color"},[t._v(t._s(t.paperType))])]),a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word"},[t._v("证件号")]),a("span",{staticClass:"main-word regular-color"},[t._v(t._s(t.info.cardNo))])]),a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word"},[t._v(t._s(t.isUseMail?"邮箱":"手机号"))]),a("span",{staticClass:"main-word regular-color"},[t._v(t._s(t.info.contact))])])]),a("div",{staticClass:"info-module"},[a("div",{staticClass:"main-word upload-title"},[t._v(t._s(t.paperType)+"上传")]),a("div",{staticClass:"img-container"},[a("div",{staticClass:"img-item"},[a("div",{staticClass:"img-con"},[a("img",{attrs:{src:t.photoSrc(t.info.front)},on:{load:t.$qUtils.fillContainerWhenImgLoad}})]),a("span",{staticClass:"tip-large"},[t._v(t._s(t.paperType)+"（正面）")])]),a("div",{staticClass:"img-item"},[a("div",{staticClass:"img-con"},[a("img",{attrs:{src:t.photoSrc(t.info.handFront)},on:{load:t.$qUtils.fillContainerWhenImgLoad}})]),a("span",{staticClass:"tip-large"},[t._v("手持"+t._s(t.paperType))])])])]),a("div",{staticClass:"info-module"},[a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word"},[t._v("备注")]),a("span",{staticClass:"main-word regular-color"},[t._v(t._s(t.info.description||"无"))])])])])])},Ri=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"tip-large text-center"},[t._v("审核结果将在10~30分钟内通知您。"),n("br"),n("a",{staticClass:"tip-large",staticStyle:{"text-decoration":"none"},attrs:{href:"tel:400-805-6850"}},[t._v("客服热线：400-805-6850")])])}],Pi={name:"ManualInAudit",props:{successPage:{type:String,default:""},channel:{type:String,default:""}},data:function(){return{info:{name:"",paperType:"",cardNo:"",contact:"",description:"",mode:""}}},computed:{isUseMail:function(){var t=this.$qUtils.validata({value:this.info.contact,noValNotValid:!1,rules:[{rule:this.$qUtils.validator.isEmail}]});return!t.isInvalid},paperType:function(){var t={IDCARD:"身份证",PASSPORT:"护照",HKMP:"港澳通行证",MTPS:"台胞证"};return t[this.info.paperType]||"身份证"}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getAuthInfo();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{getAuthInfo:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_MANUAL_DETAIL",data:{userId:this.$_qyssdk_userId}})});case 2:e=t.sent,this.info=e.result;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),photoSrc:function(t){return"".concat(this.configApi,"?").concat(encodeURI("requestData=".concat(JSON.stringify({type:"DOWNLOAD_AUTH_IMAGE",data:{fileKey:t,thumb:!0,userId:this.$_qyssdk_userId,type:this.$_qyssdk_options.callType,contractId:"SIGN_AUTH"===this.$_qyssdk_options.callType?this.$_qyssdk_contractId:null}})).concat(function(){var t="";return Object.keys(window.qysQuery).forEach((function(e){t+="&".concat(e,"=").concat(window.qysQuery[e])})),t}())))},showExitAuthModal:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$mt.MessageBox.confirm("",{message:"确定退出认证流程？",confirmButtonClass:"main-word link-color"});case 3:this.goBack(),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(){return t.apply(this,arguments)}return e}(),goBack:function(){window.location.replace(this.successPage)},goRepeatAuth:function(){var t={DEFAULT:"PHONEINFO",FACE:"FACEINFO",BANK:"BANKINFO"};this.info.originalMode&&this.dealStep(t[this.info.originalMode])}}},qi=Pi,ji=(n("cc0c"),Object(Z["a"])(qi,Di,Ri,!1,null,"036d48f1",null)),Fi=ji.exports,Ui=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manual-fail"},[a("div",{staticClass:"result-top"},[a("q-icon",{staticClass:"exit-auth",attrs:{icon:"export"},on:{click:t.showExitAuthModal}}),a("img",{staticClass:"res-img",attrs:{src:n("5189")}}),a("span",{staticClass:"h2-title title"},[t._v("认证失败")]),a("span",{staticClass:"tip-large"},[t._v(t._s(t.info.reason))]),a("div",{staticClass:"modify-btn main-word body-color-dark",attrs:{type:"primary"},on:{click:t.repeatAuth}},[t._v("\n            修改信息重新认证\n        ")])],1),a("div",{staticClass:"result-bottom"},[a("div",{staticClass:"info-module"},[a("span",{staticClass:"main-word title-color title"},[t._v("核对身份信息")]),a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word regular-color"},[t._v("姓    名")]),a("span",{staticClass:"main-word"},[t._v(t._s(t.info.name))])]),a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word regular-color"},[t._v("证件类型")]),a("span",{staticClass:"main-word"},[t._v(t._s(t.paperType))])]),a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word regular-color"},[t._v("证件号")]),a("span",{staticClass:"main-word"},[t._v(t._s(t.info.cardNo))])]),t.info.contact?a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word regular-color"},[t._v(t._s(t.isUseMail?"邮箱":"手机号"))]),a("span",{staticClass:"main-word"},[t._v(t._s(t.info.contact))])]):t._e()]),a("div",{staticClass:"info-module"},[a("div",{staticClass:"main-word upload-title"},[t._v(t._s(t.paperType)+"上传")]),a("div",{staticClass:"img-container"},[a("div",{staticClass:"img-item"},[a("div",{staticClass:"img-con"},[a("img",{attrs:{src:t.photoSrc(t.info.front)}})]),a("span",{staticClass:"tip-large"},[t._v(t._s(t.paperType)+"（正面）")])]),a("div",{staticClass:"img-item"},[a("div",{staticClass:"img-con"},[a("img",{attrs:{src:t.photoSrc(t.info.handFront)}})]),a("span",{staticClass:"tip-large"},[t._v("手持"+t._s(t.paperType))])])])]),a("div",{staticClass:"info-module"},[a("div",{staticClass:"info-row"},[a("span",{staticClass:"main-word regular-color"},[t._v("备注")]),a("span",{staticClass:"main-word"},[t._v(t._s(t.info.description||"无"))])])])])])},Li=[],Hi={name:"ManualFail",props:{user:{type:Object,default:{}},channel:{type:String,default:""},successPage:{type:String,default:""}},data:function(){return{info:{name:"",paperType:"",cardNo:"",contact:"",description:""}}},computed:{paperType:function(){var t={IDCARD:"身份证",PASSPORT:"护照",HKMP:"港澳通行证",MTPS:"台胞证"};return t[this.info.paperType]},isUseMail:function(){var t=this.$qUtils.validata({value:this.info.contact,noValNotValid:!1,rules:[{rule:this.$qUtils.validator.isEmail}]});return!t.isInvalid}},created:function(){this.getAuthInfo()},methods:{getAuthInfo:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_MANUAL_DETAIL",data:{userId:this.$_qyssdk_userId}})});case 2:e=t.sent,this.info=e.result;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),repeatAuth:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.$emit("reVerify"),t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_NEXTSTEP",data:{userId:this.$_qyssdk_userId}})});case 3:if(e=t.sent,n=e.result,"END"!==n){t.next=8;break}return this.dealStep("INVALID"),t.abrupt("return");case 8:this.dealStep("INFO");case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),showExitAuthModal:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$mt.MessageBox.confirm("",{message:"确定退出认证流程？",confirmButtonClass:"main-word link-color"});case 3:this.$giveUpAuth(),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));function e(){return t.apply(this,arguments)}return e}(),photoSrc:function(t){return"".concat(this.configApi,"?").concat(encodeURI("requestData=".concat(JSON.stringify({type:"DOWNLOAD_AUTH_IMAGE",data:{fileKey:t,thumb:!0,userId:this.$_qyssdk_userId,type:this.$_qyssdk_options.callType,contractId:"SIGN_AUTH"===this.$_qyssdk_options.callType?this.$_qyssdk_contractId:null}})).concat(function(){var t="";return Object.keys(window.qysQuery).forEach((function(e){t+="&".concat(e,"=").concat(window.qysQuery[e])})),t}())))}}},Wi=Hi,Bi=(n("ae94"),Object(Z["a"])(Wi,Ui,Li,!1,null,"20612f2a",null)),Vi=Bi.exports,Gi={name:"Auth",components:{authInformation:Ma,defaultFail:Fa,certifyCode:ra,faceAuth:Ja,faceFail:ti,threeElementsAuth:ri,bankAuth:fi,bankFail:gi,manualAuth:Mi,manualInAudit:Fi,manualFail:Vi},props:{signatoryId:{type:String},contractId:{type:String},certificationExtraData:{type:Object}},data:function(){return{status:"",mode:"",channel:"",successPage:"",user:{username:"",cardNo:"",mobile:"",contact:""},auth:!0,canEditBankPhone:!0,step:"",otherModes:"",isManual:!1,staticInfo:{},modifyFieldList:[],reverifyCert:"",alipay:!1,accountPrecheck:!1}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.judgeBusiness();case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{goPersonalSign:function(){this.$emit("goPersonalSign")},reAuth:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),judgeBusiness:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_MANUAL_SHOWMANUAL",data:{userId:this.$_qyssdk_userId}})},{headers:{noMes:"true"}});case 3:if(e=t.sent,![2002,401,402,403].includes(e.code)){t.next=7;break}return this.dealStep("INVALID"),t.abrupt("return");case 7:if(0!==e.code){t.next=16;break}if(this.isManual=e.result,!e.result){t.next=12;break}return t.next=12,this.getManualAuthInfo();case 12:return t.next=14,this.phoneCheck();case 14:return t.next=16,this.getUserInfo();case 16:t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](0),console.log(t.t0);case 21:case"end":return t.stop()}}),t,this,[[0,18]])})));function e(){return t.apply(this,arguments)}return e}(),phoneCheck:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_PHONECHECK",data:{userId:this.$_qyssdk_userId}})});case 2:e=t.sent,n=e.result,this.accountPrecheck=n;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getManualAuthInfo:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_MANUAL_DETAIL",data:{userId:this.$_qyssdk_userId}})});case 2:e=t.sent,"audit"===e.$get("result","status","key")&&this.dealStep("MANUALING"),"reject"===e.$get("result","status","key")&&this.dealStep("MANUALFAILED");case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),refetchUserInfo:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_CERTIFICATION",data:Object.assign({userId:this.$_qyssdk_userId},this.certificationExtraData)})});case 2:return t.next=4,this.judgeBusiness();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),reVerify:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_REVERIFY",data:{userId:this.$_qyssdk_userId}})});case 3:e=t.sent,n=e.result,this.reverifyCert=n.certificate,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),getUserInfo:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_DETAIL",data:{userId:this.$_qyssdk_userId}})});case 3:if(e=t.sent,n=this.decryptoData(e.result),a=n.result,this.user=a.authInfo,this.auth=a.auth,this.step=a.step,this.canEditBankPhone=!!a.canEditBankPhone,this.mode=a.mode,this.otherModes=a.otherModes,this.channel=a.channel,this.successPage=a.successPage,this.staticInfo={mobile:a.mobile,username:a.username,cardNo:a.cardNo,bankNo:a.bankNo,contact:a.contact},this.modifyFieldList=(a.modifyFields||"").split(","),!this.isManual){t.next=17;break}return t.abrupt("return");case 17:if(!this.accountPrecheck||!this.user.mobile){t.next=20;break}return this.checkAccount(),t.abrupt("return");case 20:if(!this.accountPrecheck||this.user.mobile){t.next=23;break}return this.dealStep("threeElementsAuth"),t.abrupt("return");case 23:"FACE"===a.mode?a.authInfo.realname&&"END"===a.step?this.dealStep("SUCCESS"):a.authInfo.realname||"END"!==a.step?this.dealStep("INFO"):this.dealStep("FACEFAILED"):a.authInfo.realname?this.dealStep("SUCCESS"):a.authInfo.realname||"END"!==a.step?this.dealStep("INFO"):this.dealStep("INVALID"),t.next=29;break;case 26:t.prev=26,t.t0=t["catch"](0),console.log(t.t0);case 29:case"end":return t.stop()}}),t,this,[[0,26]])})));function e(){return t.apply(this,arguments)}return e}(),checkAccount:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,a,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_CAPTCHAREQUIRED",data:{userId:this.$_qyssdk_userId}})});case 2:if(e=t.sent,n=e.result,n){t.next=7;break}return this.getCode(null,n),t.abrupt("return");case 7:a=new Vue({components:{AuthGraphicCode:Wn},render:function(t){return t(Wn,{props:{title:"输入图形验证码"},on:{getCode:function(t,e){i.getCode(t,n,e)}}})}}).$mount(),document.body.appendChild(a.$el);case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getCode:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,n){var a,i,s,r=this,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=o.length>2&&void 0!==o[2]?o[2]:null,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_PIN",data:{userId:this.$_qyssdk_userId,mobile:this.user.mobile,validCaptcha:n,captchaToken:a,captcha:e}})});case 3:i={components:{certifyCode:ra},render:function(t){return t(ra,{props:{root:r,user:r.user,mobile:r.user.mobile,isUseMail:r.isUseMail,accountPrecheck:r.accountPrecheck,otherModes:r.otherModes,channel:r.channel}})}},s=new Vue(i).$mount(),document.body.appendChild(s.$el);case 6:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}(),goNext:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_NEXTSTEP",data:{userId:this.$_qyssdk_userId}})});case 3:e=t.sent,this.dealStep(e.result),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));function e(){return t.apply(this,arguments)}return e}()}},Ji=Gi,Ki=(n("e3d1"),n("3bdc"),Object(Z["a"])(Ji,Pn,qn,!1,null,"9deaef8e",null)),Zi=Ki.exports;n("8512"),u["default"].use(Kt),u["default"].use(Zt["a"]),u["default"].use(_),u["default"].use(ee),u["default"].use(ne["a"]),u["default"].use(Mn),u["default"].use(Dn["default"],{lazyComponent:!0,loading:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBmaWxsPSJ3aGl0ZSI+CiAgPHBhdGggb3BhY2l0eT0iLjI1IiBkPSJNMTYgMCBBMTYgMTYgMCAwIDAgMTYgMzIgQTE2IDE2IDAgMCAwIDE2IDAgTTE2IDQgQTEyIDEyIDAgMCAxIDE2IDI4IEExMiAxMiAwIDAgMSAxNiA0Ii8+CiAgPHBhdGggZD0iTTE2IDAgQTE2IDE2IDAgMCAxIDMyIDE2IEwyOCAxNiBBMTIgMTIgMCAwIDAgMTYgNHoiPgogICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGZyb209IjAgMTYgMTYiIHRvPSIzNjAgMTYgMTYiIGR1cj0iMC44cyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIC8+CiAgPC9wYXRoPgo8L3N2Zz4K",attempt:3}),u["default"].use(Rn["VueHammer"]),u["default"].use(l.a);//!因为 MintUI 也 install 了 lazyload，如果要保证优先自定义配置 lazyload，那么 MintUI 的 install 应该放在 lazyload 的 install 之后
var Yi=[/^(?:\+?(86)\s?)?(1[0-9]{10})$/,/^\+?(852)\s?([569][0-9]{7})$/,/^\+?(886)\s?(0?9[0-9]{8})$/];u["default"].filter("plusPrefix",(function(t){var e=t,n=Yi.find((function(e){return e.test(t)}));return n&&(e=t.replace(n,(function(t,e,n,a,i){return"".concat(e?"+":"").concat(i)}))),e})),u["default"].component("UiTextbox",ie["UiTextbox"]),u["default"].prototype.configApi="http://192.168.51.107:8080/proxy",u["default"].prototype.$Validator=se,u["default"].prototype.getContactWithCode=le,u["default"].prototype.getContactCodeAndContent=ue,u["default"].prototype.getAreaCodeObj=pe,u["default"].prototype.getDeviceType=fe,u["default"].prototype.decryptoData=ce,u["default"].prototype.$mt=l.a,u["default"].prototype.$mosaic=function(t,e){function n(t){var e=t.indexOf("@");return e>3?"".concat(t.substr(0,3),"******").concat(t.substr(e)):t}function a(t){var e=/^(?:\+?(86)\s?)?(1\d{2})(\d{4})(\d{4})$/,n=/^\+?(852)\s?([569]\d{1})(\d{4})(\d{2})$/,a=/^\+?(886)\s?(0?9\d{1})(\d{4})(\d{3})$/,i=e;return n.test(t)?i=n:a.test(t)&&(i=a),t.replace(i,(function(t,e,n,a,i){var s=e&&"86"!==e?"+".concat(e," "):"";return s+n+a.replace(/./g,"*")+i}))}if(!t)return"";if(e)return t;var i=this.$qUtils.validator.isEmail;return Yi.find((function(e){return e.test(t)}))?a(t):i.test(t)?n(t):t};var Xi=u["default"].observable({$pageRandom:Object(ae["a"])()});u["default"].prototype.dealStep=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:t.prev=0,n=function(t){console.log("[test] changeStatus, status :",t),a.status=t,a.$emit("update:status",t),Xi.$pageRandom=Object(ae["a"])(),u["default"].prototype.pageKey=Xi;var e=document.getElementsByClassName("auth-ways");Array.from(e).forEach((function(t){t.parentNode.removeChild(t)}))},a=this,t.t0=e,t.next="FACEINFO"===t.t0||"PHONEINFO"===t.t0||"INFO"===t.t0?6:"PHONEFAILED"===t.t0?8:"FACEID"===t.t0?10:"FACEFAILED"===t.t0?12:"BANKFAILED"===t.t0?14:"BANKINFO"===t.t0?16:"MANUALINFO"===t.t0||"MANUAL"===t.t0?18:"MANUALING"===t.t0?20:"MANUALFAILED"===t.t0?22:"SUCCESS"===t.t0?24:"INVALID"===t.t0?26:28;break;case 6:return n("authInformation"),t.abrupt("break",30);case 8:return n("defaultFail"),t.abrupt("break",30);case 10:return n("faceAuth"),t.abrupt("break",30);case 12:return n("faceFail"),t.abrupt("break",30);case 14:return n("bankFail"),t.abrupt("break",30);case 16:return n("bankAuth"),t.abrupt("break",30);case 18:return n("manualAuth"),t.abrupt("break",30);case 20:return n("manualInAudit"),t.abrupt("break",30);case 22:return n("manualFail"),t.abrupt("break",30);case 24:return n("authSuccess"),t.abrupt("break",30);case 26:return n("authInvalid"),t.abrupt("break",30);case 28:return n(e),t.abrupt("break",30);case 30:t.next=35;break;case 32:t.prev=32,t.t1=t["catch"](0),console.log(t.t1);case 35:case"end":return t.stop()}}),t,this,[[0,32]])})));return function(e){return t.apply(this,arguments)}}(),u["default"].prototype.$giveUpAuth=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"END_AUTH_PROCESS",data:{userId:this.$_qyssdk_userId}})},{headers:{noMes:"true"}});case 3:return t.next=5,this.postForm("",{requestData:JSON.stringify({type:"CLEAR_AUTH_CERTIFICATION",data:{userId:this.$_qyssdk_userId}})},{headers:{noMes:"true"}});case 5:this.$_qyssdk_options&&this.$_qyssdk_options.authFailCb&&this.$_qyssdk_options.authFailCb(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])}))),u["default"].prototype.$getAuthWays=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_CANDIDATE",data:{userId:this.$_qyssdk_userId}})});case 3:return e=t.sent,n=e.result,t.abrupt("return",n);case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])}))),u["default"].prototype.$getAppointAuthWay=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_SPECIFIED",data:{userId:this.$_qyssdk_userId}})});case 3:e=t.sent,n=e.result,u["default"].prototype.$appointAuthWay=n||"",t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])}))),Object.$get||Object.defineProperty(Object.prototype,"$get",{value:function(){return Array.from(arguments).reduce((function(t,e){return t&&t[e]?t[e]:null}),this)},enumerable:!1,writable:!1,configurable:!1}),window.VERSION="1.0.9";var Qi=function(){function t(e,n){var a=n.query;Object(s["a"])(this,t),console.log("契约锁 SDK v".concat(VERSION)),window.qysQuery=a,u["default"].prototype.configApi=e,this.ajax=new u["default"],this.element=null}return Object(r["a"])(t,[{key:"initUserId",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.ajax.postForm("",{requestData:JSON.stringify({type:"GET_USER",data:e})});case 2:n=t.sent,a=n.result,this.userId=a,u["default"].prototype.$_qyssdk_userId=a;case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"initContract",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.ajax.postForm("",{requestData:JSON.stringify({type:"GET_CONTRACT",data:{contractId:this.contractId,userId:this.userId,simple:!1}})});case 2:e=t.sent,n=e.result,this.contract=n;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"isRealNameNeeded",value:function(){var t=this,e=this.contract.signatories.find((function(e){return e.id===t.contract.signatoryId}))||{},n="REALNAME"==e.preAction;return n}},{key:"appendRequestDataWithType",value:function(t,e){var n=["GET_CONTRACT","GET_SIGN_PIN","GET_SIGN_VOICE","GET_FACESIGN_CHECK","GET_FACESIGN_KEY","UPLOAD_PERSONAL_SEAL","SIGN_CONTRACT","REJECT_CONTRACT","DOWNLOAD_DOCUMENT_IMAGE","DOWNLOAD_SEAL","DOWNLOAD_CONTRACT"],s=t;if("string"===typeof t){var r=t.match(/(requestData=)([^&]*)(.*)/),o=Object(i["a"])(r,4),c=(o[0],o[1]),l=o[2],u=o[3],p=JSON.parse(decodeURIComponent(l));if(n.includes(p.type))return t;p.data.type=e,"SIGN_AUTH"===e&&(p.data.contractId=this.contractId);var f=encodeURIComponent(JSON.stringify(p));s=[c,f,u].join("")}else{if("object"!==Object(a["a"])(t)||!t.append)throw new Error("In function appendRequestDataWithType, get UNKNOWN type of data parameter :(",t);var d=t.get("requestData"),h=JSON.parse(d);if(n.includes(h.type))return t;h.data.type=e,"SIGN_AUTH"===e&&(h.data.contractId=this.contractId);var m=JSON.stringify(h);s.set("requestData",m)}return s}},{key:"personalSign",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,n,a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=this,f.a.interceptors.request.use((function(t){return t.data=i.appendRequestDataWithType(t.data,"SIGN_AUTH"),t}),(function(t){return Promise.reject(t)})),this.contractId=e,this.contact=n,a.callType="SIGN_AUTH",u["default"].prototype.$_qyssdk_options=a,u["default"].prototype.$_qyssdk_contractId=e,t.next=9,this.initUserId({contractId:this.contractId,contact:this.contact});case 9:return t.next=11,this.initContract();case 11:if(!this.isRealNameNeeded()){t.next=17;break}return t.next=14,this.preparePersonalAuth({contractId:this.contractId,signatoryId:this.contract.signatoryId});case 14:this.element=t.sent,t.next=18;break;case 17:this.element=this.createPersonalSign();case 18:return t.abrupt("return",this.element.$el);case 19:case"end":return t.stop()}}),t,this)})));function e(e,n,a){return t.apply(this,arguments)}return e}()},{key:"preparePersonalAuth",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.ajax.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_DETAIL",data:{userId:this.userId}})},{headers:{noMes:"true"}});case 2:if(n=t.sent,![2002,401,402,403].includes(n.code)){t.next=6;break}return t.next=6,this.ajax.postForm("",{requestData:JSON.stringify({type:"GET_AUTH_CERTIFICATION",data:Object.assign({userId:this.userId},e)})});case 6:return u["default"].prototype.$_qyssdk_options.certificationExtraData=e,t.abrupt("return",this.createPersonalAuth(e));case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"personalAuth",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=this,f.a.interceptors.request.use((function(t){return t.data=a.appendRequestDataWithType(t.data,"PRE_AUTH"),t}),(function(t){return Promise.reject(t)})),"boolean"===typeof e.manual&&(e.manual&&["BANK","FACE"].includes(e.mode)&&(e.mode+="ORMANUAL"),delete e.manual),this.userInfo=e,n.authSuccessCb&&(n.authSuccessCbWrapper=function(t,e){var n={mode:t,username:e.username,mobile:e.mobile,cardNo:e.cardNo};"BANK"===t&&Object.assign(n,{bankNo:e.bankNo,contact:e.contact}),this.authSuccessCb(n)}),n.callType="PRE_AUTH",u["default"].prototype.$_qyssdk_options=n,t.next=9,this.initUserId({contact:this.userInfo.contact});case 9:return t.next=11,this.preparePersonalAuth({userInfo:this.userInfo});case 11:return this.element=t.sent,t.abrupt("return",this.element.$el);case 13:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"createPersonalAuth",value:function(t){var e=this,n=this,a=new u["default"]({render:function(a){return a(Zi,{props:{contractId:e.contractId,signatoryId:e.contract?e.contract.signatoryId:"",certificationExtraData:t},on:{goPersonalSign:function(){n.replaceElement("personalSign")}}})},components:{personalAuth:Zi}}).$mount();return a}},{key:"createPersonalSign",value:function(){var t=this,e=new u["default"]({render:function(e){return e(un,{props:{contractId:t.contractId,contact:t.contact}})},components:{personalSign:un}}).$mount();return e}},{key:"replaceElement",value:function(t){var e=null;"personalSign"==t&&(e=this.createPersonalSign()),e.$el.style.cssText=this.element.$el.style.cssText,this.element.$el.parentNode.replaceChild(e.$el,this.element.$el),this.element.$destroy(!0),this.element=e}},{key:"destroy",value:function(){this.element&&(this.element.$destroy(!0),this.element.$el.parentNode.removeChild(this.element.$el))}}]),t}();window.qysSdk=Qi,window.Vue=u["default"]},"1e26":function(t,e,n){},"1e44":function(t,e,n){t.exports=n.p+"img/face-auth.cc2076ba.png"},2:function(t,e){},"22e5":function(t,e,n){},"22f0":function(t,e,n){"use strict";var a=n("8a9e"),i=n.n(a);i.a},2682:function(t,e,n){},"278a":function(t,e,n){},2941:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"modal-mask"},[a("div",{staticClass:"modal-container"},[a("img",{attrs:{src:n("f342"),width:"64",alt:""}}),a("div",{domProps:{innerHTML:t._s(t.msg)}})])])])},i=[],s={data:function(){return{msg:"",closed:!1,visible:!1}},watch:{closed:function(t){t&&(this.visible=!1,this.$el.addEventListener("transitionend",this.destroyElement))}},methods:{destroyElement:function(){this.$el.removeEventListener("transitionend",this.destroyElement),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el)},close:function(){this.closed=!0,"function"===typeof this.onClose&&this.onClose(this)}}},r=s,o=(n("bb2a"),n("2877")),c=Object(o["a"])(r,a,i,!1,null,"499aa906",null);e["default"]=c.exports},"2bd7":function(t,e,n){},"2c0f":function(t,e,n){},3:function(t,e){},"314a":function(t,e,n){"use strict";var a=n("1e26"),i=n.n(a);i.a},3235:function(t,e,n){},3338:function(t,e,n){"use strict";var a=n("9aab"),i=n.n(a);i.a},"35c3":function(t,e,n){"use strict";var a=n("0024"),i=n.n(a);i.a},3967:function(t,e,n){"use strict";var a=n("6606"),i=n.n(a);i.a},"3afd":function(t,e,n){t.exports=n.p+"img/bg-bankcard.869a31b7.png"},"3bdc":function(t,e,n){"use strict";var a=n("5c67"),i=n.n(a);i.a},"3cb2":function(t,e,n){},4:function(t,e){},4683:function(t,e,n){"use strict";var a=n("a60b"),i=n.n(a);i.a},"46b5":function(t,e,n){},4813:function(t,e,n){t.exports=n.p+"img/security-logo.5aba874a.png"},4867:function(t,e,n){},"4c02":function(t,e,n){"use strict";var a=n("7b51"),i=n.n(a);i.a},5189:function(t,e,n){t.exports=n.p+"img/default-result-fail.59399358.png"},"52f9":function(t,e,n){},"553a":function(t,e,n){},"58d1":function(t,e,n){"use strict";var a=n("2682"),i=n.n(a);i.a},"5c67":function(t,e,n){},"60d6":function(t,e,n){"use strict";var a=n("ead5"),i=n.n(a);i.a},6606:function(t,e,n){},"679a":function(t,e,n){},"6bbc":function(t,e,n){},"6d47":function(t,e,n){},"6e2f":function(t,e,n){},"6fa9":function(t,e,n){"use strict";var a=n("1ca2"),i=n.n(a);i.a},7202:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"modal-mask",attrs:{id:"imagemodal"},on:{click:t.triggerHead}},[t.showHead?n("header",{on:{click:function(t){t.stopPropagation(),t.preventDefault()}}},[n("svg",{staticClass:"icon icon-back",attrs:{"aria-hidden":"true"},on:{click:t.close}},[n("use",{attrs:{"xlink:href":"#iconclose_o-"}})])]):t._e(),n("show-image",{attrs:{url:t.url},on:{load:t.loadSuccess}})],1)])},i=[],s=n("c8b5"),r=n.n(s),o=n("0ff5"),c={data:function(){return{visible:!0,showHead:!1,url:"",loading:null}},components:{showImage:o["a"]},methods:{triggerHead:function(){this.showHead=!this.showHead},close:function(){this.visible=!1},destroyNode:function(){this.visible||(this.$el.removeEventListener("transitionend",this.destroyNode),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el))},closeLoading:function(){this.loading.close()},loadSuccess:function(){this.closeLoading()}},created:function(){},mounted:function(){var t=this,e=new r.a(this.$el);function n(t){t.preventDefault()}e.get("swipe").set({direction:r.a.DIRECTION_VERTICAL}),e.on("swipeup",n).on("swipedown",n),this.$el.addEventListener("transitionend",this.destroyNode),this.$nextTick((function(){t.loading=t.$loading("正在加载")}))}},l=c,u=(n("314a"),n("2877")),p=Object(u["a"])(l,a,i,!1,null,"5116811c",null);e["default"]=p.exports},7689:function(t,e,n){t.exports=n.p+"img/doc-helper3.313548ce.png"},7718:function(t,e,n){"use strict";var a=n("da4e"),i=n.n(a);i.a},"7a12":function(t,e,n){},"7a54":function(t,e,n){t.exports=n.p+"img/manual-in-audit.2373236e.png"},"7b51":function(t,e,n){},"7c11":function(t,e,n){"use strict";var a=n("ead1"),i=n.n(a);i.a},8259:function(t,e,n){"use strict";var a=n("047f"),i=n.n(a);i.a},"86cd":function(t,e,n){t.exports=n.p+"img/face-auth.1bf4295e.png"},"87f3":function(t,e,n){t.exports=n.p+"img/idcard-face.5433fa78.png"},"8a9e":function(t,e,n){},"8dd6":function(t,e,n){"use strict";var a=n("bdc9"),i=n.n(a);i.a},"8dfd":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"modal-mask"},[n("div",{staticClass:"modal-container"},[n("div",{staticClass:"modal-body"},[t._t("default",[n("div",{domProps:{innerHTML:t._s(t.content)}})])],2),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"blue-text",class:{"only-one":!t.showCancel},staticStyle:{"border-bottom-right-radius":"2px"},on:{click:t.submit}},[t._v(t._s(t.okText?t.okText:"确定"))]),t.showCancel?n("button",{staticStyle:{"border-bottom-left-radius":"2px"},on:{click:t.cancle}},[t._v(t._s(t.cancelText?t.cancelText:"取消"))]):t._e()])])])])},i=[],s={name:"modal",data:function(){return{visible:!1,showCancel:!1,cancelText:"",okText:"",content:"",okfn:function(){},cancel:function(){}}},props:{options:{default:!1}},created:function(){this.options&&Object.assign(this.$data,this.options)},watch:{options:{handler:function(){this.options&&Object.assign(this.$data,this.options)},deep:!0}},methods:{submit:function(){this.okfn(),this.visible=!1},cancle:function(){this.visible=!1},destroyNode:function(){this.visible||(this.$el.removeEventListener("transitionend",this.destroyNode),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el))},changeOptions:function(){this.options.visible=this.visible}},mounted:function(){this.options?this.$el.addEventListener("transitionend",this.changeOptions):this.$el.addEventListener("transitionend",this.destroyNode)}},r=s,o=(n("c55c"),n("2877")),c=Object(o["a"])(r,a,i,!1,null,"cd383fd4",null);e["default"]=c.exports},9197:function(t,e,n){"use strict";var a=n("14b8"),i=n.n(a);i.a},9455:function(t,e,n){"use strict";var a=n("12b6"),i=n.n(a);i.a},"94b8":function(t,e,n){t.exports=n.p+"img/auth-success.d5bff6fc.png"},97449:function(t,e,n){"use strict";var a=n("2c0f"),i=n.n(a);i.a},"9a7f":function(t,e,n){},"9aab":function(t,e,n){},"9ab5":function(t,e,n){"use strict";var a=n("6e2f"),i=n.n(a);i.a},"9cb8":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper"},[n("div",{domProps:{innerHTML:t._s(t.msg)}})])])])},i=[],s={data:function(){return{visible:!0,msg:"",time:""}},methods:{destroyNode:function(){this.visible||(this.$el.removeEventListener("transitionend",this.destroyNode),this.$destroy(!0),this.$el.parentNode.removeChild(this.$el))}},created:function(){var t=this,e=t.time||1500;setTimeout((function(){t.visible=!1}),e)},mounted:function(){this.$el.addEventListener("transitionend",this.destroyNode)}},r=s,o=(n("3338"),n("2877")),c=Object(o["a"])(r,a,i,!1,null,"0076ac47",null);e["default"]=c.exports},"9ed5":function(t,e,n){t.exports=n.p+"img/doc-helper2.33b8f663.png"},a0b1:function(t,e,n){"use strict";var a=n("1164"),i=n.n(a);i.a},a2f1:function(t,e,n){"use strict";var a=n("2bd7"),i=n.n(a);i.a},a372:function(t,e,n){"use strict";var a=n("ff0c"),i=n.n(a);i.a},a5d1:function(t,e,n){"use strict";var a=n("52f9"),i=n.n(a);i.a},a60b:function(t,e,n){},a8db:function(t,e,n){},aa19:function(t,e,n){},aa27:function(t,e,n){"use strict";var a=n("a8db"),i=n.n(a);i.a},ae94:function(t,e,n){"use strict";var a=n("3cb2"),i=n.n(a);i.a},b6e8:function(t,e,n){"use strict";var a=n("9a7f"),i=n.n(a);i.a},bb2a:function(t,e,n){"use strict";var a=n("aa19"),i=n.n(a);i.a},bdc9:function(t,e,n){},c21a:function(t,e,n){var a={"./doc-helper1.png":"fb33","./doc-helper2.png":"9ed5","./doc-helper3.png":"7689","./doc-helper4.png":"c610","./doc-helper5.png":"cb0f"};function i(t){var e=s(t);return n(e)}function s(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=s,t.exports=i,i.id="c21a"},c2bb:function(t,e,n){"use strict";var a=n("d9d6"),i=n.n(a);i.a},c4d4:function(t,e,n){},c55c:function(t,e,n){"use strict";var a=n("4867"),i=n.n(a);i.a},c610:function(t,e,n){t.exports=n.p+"img/doc-helper4.9fbe3c03.png"},cad7:function(t,e,n){"use strict";var a=n("553a"),i=n.n(a);i.a},cb0f:function(t,e,n){t.exports=n.p+"img/doc-helper5.0c39cbbb.png"},cc0c:function(t,e,n){"use strict";var a=n("7a12"),i=n.n(a);i.a},cd08:function(t,e,n){t.exports=n.p+"img/scan.ea3e3ca7.png"},d199:function(t,e,n){},d2ee:function(t,e,n){"use strict";var a=n("22e5"),i=n.n(a);i.a},d345:function(t,e,n){"use strict";var a=n("6bbc"),i=n.n(a);i.a},d5a5:function(t,e,n){"use strict";var a=n("fffd"),i=n.n(a);i.a},d9d6:function(t,e,n){},da4e:function(t,e,n){},e14d:function(t,e,n){t.exports=n.p+"img/idcard-hold.10beb97d.png"},e3d1:function(t,e,n){"use strict";var a=n("46b5"),i=n.n(a);i.a},e753:function(t,e,n){t.exports=n.p+"img/bg-face.873644d0.png"},ead1:function(t,e,n){},ead5:function(t,e,n){},eb14:function(t,e,n){"use strict";var a=n("278a"),i=n.n(a);i.a},eca7:function(t,e,n){"use strict";var a=n("3235"),i=n.n(a);i.a},ee28:function(t,e,n){"use strict";var a=n("d199"),i=n.n(a);i.a},f342:function(t,e,n){t.exports=n.p+"img/loading.a4303c38.svg"},f3a8:function(t,e,n){"use strict";var a=n("679a"),i=n.n(a);i.a},fb33:function(t,e,n){t.exports=n.p+"img/doc-helper1.ecec34c6.png"},fb5e:function(t,e,n){t.exports=n.p+"img/face-auth.b74a5ea1.gif"},ff0c:function(t,e,n){},fffd:function(t,e,n){}});
//# sourceMappingURL=index.d40aac95.js.map